"use strict";function _typeof2(a){return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof2(a)}function _typeof(b){return _typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(b){return _typeof2(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":_typeof2(b)},_typeof(b)}var e,t;e=void 0,t=function(j){"use strict";function n(c,a){return(a||document).querySelector(c)}function d(b){return"svg"===b?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b)}function t(e,a,b){var c=y.exec(a);c&&c[1]?e.setAttributeNS("http://www.w3.org/1999/xlink",c[1],b):e.setAttribute(a,b)}function h(c,a){return Object.getOwnPropertyDescriptor(c,a)}function I(b){return"undefined"===_typeof(b)}function l(d,a){var b=h(d,a);return I(d[a])||b&&b.writable}function kb(g){for(var a,h=1,i=arguments,d=i.length;h<d;h++)if(a=i[h])for(var e in a)l(g,e)&&(g[e]=a[e]);return g}function m(b){return Object.create(b)}function z(c,a){return[].slice.call((a||document).querySelectorAll(c))}function lb(){return document.createTextNode("")}function a(c,a){c.style.display=a?"":"none",c.hidden=!a}function q(c,a){return c.getAttribute(a)}function s(c,a){c.removeAttribute(a)}function p(e,a,b){if(b){var c=e.ownerDocument.importNode(new DOMParser().parseFromString("<svg xmlns=\"http://www.w3.org/2000/svg\">"+a+"</svg>","application/xml").documentElement,!0);e.appendChild(c)}else e.innerHTML=a}function x(b,a){if(b)for(var c;c=v.exec(b);)a(c[1].toLowerCase(),c[2]||c[3]||c[4])}function D(){return document.createDocumentFragment()}function f(d,a,b){d.insertBefore(a,b.parentNode&&b)}function F(d){return Object.keys(d).reduce(function(a,b){return a+" "+b+": "+d[b]+";"},"")}function c(e,g,b){if(e){var h,i=g(e,b);if(!1===i)return;for(e=e.firstChild;e;)h=e.nextSibling,c(e,g,i),e=h}}function i(b){return I(b)||null===b}function o(b){return i(b)||""===b}function C(b){return"function"===_typeof(b)}function G(b){return b&&"object"===_typeof(b)}function r(c){var a=c.ownerSVGElement;return!!a||null===a}function H(b){return Array.isArray(b)||b instanceof Array}function J(c){return b.test(c)}function T(b){return"string"===_typeof(b)}function X(c,a){return-1!==c.indexOf(a)}function Y(e,a){for(var b=e?e.length:0,c=0;c<b;c++)a(e[c],c);return e}function K(c,a){return c.slice(0,a.length)===a}function L(e,a,b,c){return Object.defineProperty(e,a,kb({value:b,enumerable:!1,writable:!1,configurable:!0},c)),e}function M(b){return b.replace(/-(\w)/g,function(c,a){return a.toUpperCase()})}function N(b){console&&console.warn&&console.warn(b)}function Z(j,b,c,d,e){var f=j[b],g=H(f),h=!I(e);if(!f||f!==c)if(!f&&d)j[b]=[c];else if(!f)j[b]=c;else if(g){var a=f.indexOf(c);if(a===e)return;-1!==a&&f.splice(a,1),h?f.splice(e,0,c):f.push(c)}else j[b]=[f,c]}function Q(b){return b.tagName&&Ja[q(b,"data-is")||q(b,"data-is")||b.tagName.toLowerCase()]}function _(e,a){var b=Q(e),c=!a&&q(e,"data-is");return c&&!mb.hasExpr(c)?c:b?b.name:e.tagName.toLowerCase()}function aa(){return this.parent?kb(m(this),this.parent):this}function O(a,e,c){var f=a&&a.match(/^\s*<([-\w]+)/),g=f&&f[1].toLowerCase(),h=d(c?"svg":"div");return a=function(d,e){if(!Ta.test(d))return d;var f={};return e=e&&e.replace(Va,function(c,a,b){return f[a]=f[a]||b,""}).trim(),d.replace(Wa,function(c,a,b){return f[a]||b||""}).replace(Ua,function(b,a){return e||a||""})}(a,e),Ya.test(g)?h=function(d,a,b){var c="o"===b[0],e=c?"select>":"table>";if(d.innerHTML="<"+e+a.trim()+"</"+e,e=d.firstChild,c)e.selectedIndex=-1;else{var h=Xa[b];h&&1===e.childElementCount&&(e=n(h,e))}return e}(h,a,g):p(h,a,c),h}function ba(c){for(var a=c;a.__.isAnonymous&&a.parent;)a=a.parent;return a}function ca(h,a,b,c){var d,i=function(g,a,b){var c=this.__.parent,h=this.__.item;if(!h)for(;c&&!h;)h=c.__.item,c=c.__.parent;if(l(b,"currentTarget")&&(b.currentTarget=g),l(b,"target")&&(b.target=b.srcElement),l(b,"which")&&(b.which=b.charCode||b.keyCode),b.item=h,a.call(this,b),U.autoUpdate&&!b.preventUpdate){var i=ba(this);i.isMounted&&i.update()}}.bind(c,b,a);b[h]=null,d=h.replace(g,""),X(c.__.listeners,b)||c.__.listeners.push(b),b["__riot-events__"]||(b["__riot-events__"]={}),b["__riot-events__"][h]&&b.removeEventListener(d,b["__riot-events__"][h]),b["__riot-events__"][h]=i,b.addEventListener(d,i,!1)}function da(a,b,c,d){var e=Ca(a,b,c),f=b.tagName||_(b.root,!0),g=ba(d);return L(e,"parent",g),e.__.parent=d,Z(g.tags,f,e),g!==d&&Z(d.tags,f,e),e}function ea(f,a,b,c){if(H(f[a])){var d=f[a].indexOf(b);-1!==d&&f[a].splice(d,1),f[a].length?1!==f[a].length||c||(f[a]=f[a][0]):delete f[a]}else f[a]===b&&delete f[a]}function fa(a,b){var c,i,j=lb(),f=lb(),g=D();for(this.root.insertBefore(j,this.root.firstChild),this.root.appendChild(f),this.__.head=i=j,this.__.tail=f;i;)c=i.nextSibling,g.appendChild(i),this.__.virts.push(i),i=c;b?a.insertBefore(g,b.__.head):a.appendChild(g)}function ga(d,a){if(a.parentNode){var b=D();fa.call(d,b),a.parentNode.replaceChild(b,a)}}function ha(d){if(!this.root||!q(this.root,"virtualized")){var g,h,j=d.dom,m=(g=d.attr)?(g=g.replace("riot-",""),Pa[g]&&(g=Pa[g]),g):null,n=X(["show","hide"],m),i=d.root&&"VIRTUAL"===d.root.tagName,r=this.__.isAnonymous,v=j&&(d.parent||j.parentNode),w=U.keepValueAttributes,u="style"===m,l="class"===m,c="value"===m;if(d._riot_id)d.__.wasCreated?d.update():(d.mount(),i&&ga(d,d.root));else{if(d.update)return d.update();var p,y,z,A,B,J,K,L=n&&!r?aa.call(this):this,N=!o(h=mb(d.expr,L)),x=G(h);if(x&&(l?h=mb(JSON.stringify(h),this):u&&(h=F(h))),!d.attr||d.wasParsedOnce&&!1!==h&&(N||c&&(!c||w))||s(j,q(j,d.attr)?d.attr:m),d.bool&&(h=!!h&&m),d.isRtag)return y=this,z=h,B=(p=d).tag||p.dom._tag,J=(B?B.__:{}).head,K="VIRTUAL"===p.dom.tagName,void(B&&p.tagName===z?B.update():(B&&(K&&(A=lb(),J.parentNode.insertBefore(A,J)),B.unmount(!0)),T(z)&&(p.impl=Ja[z],p.impl&&(p.tag=B=da(p.impl,{root:p.dom,parent:y,tagName:z},p.dom.innerHTML,y),Y(p.attrs,function(b){return t(B.root,b.name,b.value)}),p.tagName=z,B.mount(),K&&ga(B,A||B.root),y.__.onUnmount=function(){var b=B.opts.dataIs;ea(B.parent.tags,b,B),ea(B.__.parent.tags,b,B),B.unmount()}))));if((!d.wasParsedOnce||d.value!==h)&&(d.value=h,d.wasParsedOnce=!0,!x||l||u||n)){if(N||(h=""),!m)return h+="",void(v&&("TEXTAREA"===(d.parent=v).tagName?(v.value=h,$||(j.nodeValue=h)):j.nodeValue=h));switch(!0){case C(h):b=m,Za.test(b)&&ca(m,h,j,this);break;case n:a(j,"hide"===m?!h:h);break;default:d.bool&&(j[m]=h),c&&j.value!==h?j.value=h:N&&!1!==h&&t(j,m,h),u&&j.hidden&&a(j,!1);}var b}}}}function ia(b){Y(b,ha.bind(this))}function ja(g,a,b,c,d){if(!g||!b){var e=g?aa.call(this):a||this;Y(d,function(b){b.expr&&ha.call(e,b.expr),c[M(b.name).replace("riot-","")]=b.expr?b.expr.value:b.value})}}function ka(c){if(c)return c.filter(function(b){return!/[^-\w]/.test(b)}).reduce(function(d,a){var b=a.trim().toLowerCase();return d+",[data-is=\""+b+"\"]"},"");var a=Object.keys(Ja);return a+ka(a)}function la(i,b){var c=this,d=c.name,e=c.tmpl,f=c.css,g=c.attrs,h=c.onCreate;return Ja[d]||(ma(d,e,f,g,h),Ja[d]["class"]=this.constructor),Da(i,d,b,this),f&&Qa.inject(),this}function ma(e,g,b,h,i){return C(h)&&(i=h,/^[\w-]+\s?=/.test(b)?(h=b,b=""):h=""),b&&(C(b)?i=b:Qa.add(b,e)),e=e.toLowerCase(),Ja[e]={name:e,tmpl:g,attrs:h,fn:i},e}function e(f,a,b,c,d){return b&&Qa.add(b,f),Ja[f]={name:f,tmpl:a,attrs:c,fn:d},f}function na(e,h,i){var k,l,m=[];if(Qa.inject(),(G(h)||C(h))&&(i=h,h=0),k=T(e)?(e="*"===e?l=ka():e+ka(e.split(/, */)))?z(e):[]:e,"*"===h){if(h=l||ka(),k.tagName)k=z(h,k);else{var j=[];Y(k,function(a){return j.push(z(h,a))}),k=j}h=0}return function c(a){if(a.tagName){var b,d=q(a,"data-is");h&&d!==h&&t(a,"data-is",d=h),(b=Da(a,d||a.tagName.toLowerCase(),C(i)?i():i))&&m.push(b)}else a.length&&Y(a,c)}(k),m}function oa(e,a,b){if(G(e))oa("__"+ab++ +"__",e,!0);else{var c=b?_a:$a;if(!a){if(I(c[e]))throw new Error("Unregistered mixin: "+e);return c[e]}c[e]=C(a)?kb(a.prototype,c[e]||{})&&a:kb(c[e]||{},a)}}function pa(){return Y(Ia,function(b){return b.update()})}function qa(b){return Qa.remove(b),delete Ja[b]}function ra(e,a){var b,f=this.parent;f&&(H(b=f.tags[e])?b.splice(a,0,b.splice(b.indexOf(this),1)[0]):Z(f.tags,e,this))}function sa(f,a){for(var b,g=this.__.head,h=D();g;)if(b=g.nextSibling,h.appendChild(g),(g=b)===this.__.tail){h.appendChild(g),f.insertBefore(h,a.__.head);break}}function ta(e,a,b){var c={};return c[e.key]=a,e.pos&&(c[e.pos]=b),c}function ua(c,a){c.splice(a,1),this.unmount(),ea(this.parent,this,this.__.tagName,!0)}function va(d,b,i){var e="string"!==_typeof(q(d,"no-reorder"))||s(d,"no-reorder"),o=q(d,"key"),w=!!o&&mb.hasExpr(o),k=_(d),x=Ja[k],g=d.parentNode,a=lb(),z=Q(d),t=q(d,"if"),j=[],A=d.innerHTML,E=!Ja[k],G="VIRTUAL"===d.tagName,I=[];return s(d,"each"),s(d,"key"),(i=mb.loopKeys(i)).isLoop=!0,t&&s(d,"if"),g.insertBefore(a,d),g.removeChild(d),i.update=function(){i.value=mb(i.val,b);var s=i.value,B=D(),C=!H(s)&&!T(s),v=a.parentNode,y=[],F=C&&!!s;if(v){C&&(s=s?Object.keys(s).map(function(b){return ta(i,s[b],b)}):[]);var J=0;Y(s,function(a,g){var q=g-J,D=!F&&i.key?ta(i,a,g):a;if(!t||mb(t,kb(m(b),D))){var n,H,K,L,M=(H=a,K=D,L=w,(n=o)?L?mb(n,K):H[n]:H),N=!C&&e&&"object"===_typeof(a)||o,u=I.indexOf(M),l=-1===u,c=!l&&N?u:q,p=j[c],O=q>=I.length,S=N&&l||!N&&!p||!j[q];S?((p=Ca(x,{parent:b,isLoop:!0,isAnonymous:E,tagName:k,root:d.cloneNode(E),item:D,index:q},A)).mount(),O?function(c,a){a?fa.call(this,c):c.appendChild(this.root)}.apply(p,[B||v,G]):function(d,a,b){b?fa.apply(this,[d,a]):f(d,this.root,a.root)}.apply(p,[v,j[q],G]),O||I.splice(q,0,D),j.splice(q,0,p),z&&Z(b.tags,k,p,!0)):c!==q&&N&&((o||X(s,I[c]))&&(function(d,a,b){b?sa.apply(this,[d,a]):f(d,this.root,a.root)}.apply(p,[v,j[q],G]),j.splice(q,0,j.splice(c,1)[0]),I.splice(q,0,I.splice(c,1)[0])),i.pos&&(p[i.pos]=q),!z&&p.tags&&function(d){var a=this;Y(Object.keys(this.tags),function(b){ra.apply(a.tags[b],[b,d])})}.call(p,q)),kb(p.__,{item:D,index:q,parent:b}),y[q]=M,S||p.update(D)}else J++}),function(f,a,b){for(var c=a.length,g=f.length-b;g<c;)ua.apply(a[--c],[a,c])}(s,j,J),I=y.slice(),v.insertBefore(B,a)}},i.unmount=function(){Y(j,function(b){b.unmount()})},i}function wa(e,a,b,c){return m(db).init(e,a,b,c)}function xa(b){Y(b,function(b){b.unmount?b.unmount(!0):b.tagName?b.tag.unmount(!0):b.unmount&&b.unmount()})}function ya(d,a,b){return m(eb).init(d,a,b)}function za(a,b){var d=this,f=[];return c(a,function(g){var c,h,n=g.nodeType;if((b||g!==a)&&(3===n&&"STYLE"!==g.parentNode.tagName&&mb.hasExpr(g.nodeValue)&&f.push({dom:g,expr:g.nodeValue}),1===n)){var k="VIRTUAL"===g.tagName;if(c=q(g,"each"))return k&&t(g,"loopVirtual",!0),f.push(va(g,d,c)),!1;if(c=q(g,"if"))return f.push(ya(g,d,c)),!1;if((c=q(g,"data-is"))&&mb.hasExpr(c))return f.push({isRtag:!0,expr:c,dom:g,attrs:[].slice.call(g.attributes)}),!1;if(h=Q(g),k&&(q(g,"virtualized")&&g.parentElement.removeChild(g),h||q(g,"virtualized")||q(g,"loopVirtual")||(h={tmpl:g.outerHTML})),h&&(g!==a||b)){var l=q(g,"data-is");if(!k||l)return l&&k&&N("Virtual tags shouldn't be used together with the \"data-is\" attribute - https://github.com/riot/riot/issues/2511"),f.push(da(h,{root:g,parent:d},g.innerHTML,d)),!1;t(g,"virtualized",!0);var i=Ca({tmpl:g.outerHTML},{root:g,parent:d},g.innerHTML);f.push(i)}Aa.apply(d,[g,g.attributes,function(c,a){a&&f.push(a)}])}}),f}function Aa(h,a,b){var d=this;Y(a,function(f){if(!f)return!1;var a,i=f.name,e=J(i);X(Ka,i)&&"yield"!==h.tagName.toLowerCase()?a=wa(h,d,i,f.value):mb.hasExpr(f.value)&&(a={dom:h,expr:f.value,attr:i,bool:e}),b(f,a)})}function Ba(e){var a=this.__,b=a.isAnonymous,c=a.skipAnonymous;L(this,"isMounted",e),b&&c||(e?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function Ca(e,f,v){void 0===e&&(e={}),void 0===f&&(f={});var k,z=f.context||{},q=f.opts||{},A=f.parent,i=f.isLoop,o=!!f.isAnonymous,a=U.skipAnonymousTags&&o,u=f.item,l=f.index,c=e.tmpl,B=[],w=f.root,d=f.tagName||_(w),y="virtual"===d,m=!y&&!c;return k=m||i&&o?w:(y||(w.innerHTML=""),O(c,v,r(w))),a||P(z),e.name&&w._tag&&w._tag.unmount(!0),L(z,"__",{impl:e,root:w,skipAnonymous:a,implAttrs:[],isAnonymous:o,instAttrs:[],innerHTML:v,tagName:d,index:l,isLoop:i,isInline:m,item:u,parent:A,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",W()],["root",w],["opts",q,{writable:!0,enumerable:!0}],["parent",A||null],["tags",{}],["refs",{}],["update",function(a){return i=a,j=B,k=(b=z).__,l={},m=b.isMounted&&!k.skipAnonymous,k.isAnonymous&&k.parent&&kb(b,k.parent),kb(b,i),ja.apply(b,[k.isLoop,k.parent,k.isAnonymous,l,k.instAttrs]),m&&b.isMounted&&C(b.shouldUpdate)&&!b.shouldUpdate(i,l)||(kb(b.opts,l),m&&b.trigger("update",i),ia.call(b,j),m&&b.trigger("updated")),b;var b,i,j,k,l,m}],["mixin",function(){for(var c=[],a=arguments.length;a--;)c[a]=arguments[a];return function(f){for(var b=[],a=arguments.length-1;0<a--;)b[a]=arguments[a+1];return Y(b,function(b){var j,e,k=[],l=["init","__proto__"];b=T(b)?oa(b):b,j=C(b)?new b:b;for(var m=Object.getPrototypeOf(j);k=k.concat(Object.getOwnPropertyNames(e||j)),e=Object.getPrototypeOf(e||j););Y(k,function(b){if(!X(l,b)){var a=h(j,b)||h(m,b),c=a&&(a.get||a.set);!f.hasOwnProperty(b)&&c?Object.defineProperty(f,b,a):f[b]=C(j[b])?j[b].bind(f):j[b]}}),j.init&&j.init.bind(f)(f.opts)}),f}.apply(void 0,[z].concat(c))}],["mount",function(){return function(h,b,c,d){var e=h.__,f=e.root;f._tag=h,Aa.apply(e.parent,[f,f.attributes,function(b,a){!e.isAnonymous&&db.isPrototypeOf(a)&&(a.tag=h),b.expr=a,e.instAttrs.push(b)}]),x(e.impl.attrs,function(c,a){e.implAttrs.push({name:c,value:a})}),Aa.apply(h,[f,e.implAttrs,function(d,a){a?c.push(a):t(f,d.name,d.value)}]),ja.apply(h,[e.isLoop,e.parent,e.isAnonymous,d,e.instAttrs]);var g=oa("__global_mixin");if(g&&!e.skipAnonymous)for(var i in g)g.hasOwnProperty(i)&&h.mixin(g[i]);if(e.impl.fn&&e.impl.fn.call(h,d),e.skipAnonymous||h.trigger("before-mount"),Y(za.apply(h,[b,e.isAnonymous]),function(b){return c.push(b)}),h.update(e.item),!e.isAnonymous&&!e.isInline)for(;b.firstChild;)f.appendChild(b.firstChild);if(L(h,"root",f),!e.skipAnonymous&&h.parent){var a=ba(h.parent);a.one(a.isMounted?"updated":"mount",function(){Ba.call(h,!0)})}else Ba.call(h,!0);return h.__.wasCreated=!0,h}(z,k,B,q)}],["unmount",function(b){return function(i,b,c){var d=i.__,e=d.root,f=Ia.indexOf(i),g=e.parentNode;if(d.skipAnonymous||i.trigger("before-unmount"),x(d.impl.attrs,function(b){K(b,"riot-")&&(b=b.slice(5)),s(e,b)}),i.__.listeners.forEach(function(c){Object.keys(c["__riot-events__"]).forEach(function(a){c.removeEventListener(a,c["__riot-events__"][a])})}),-1!==f&&Ia.splice(f,1),d.parent&&!d.isAnonymous){var h=ba(d.parent);d.isVirtual?Object.keys(i.tags).forEach(function(a){return ea(h.tags,a,i.tags[a])}):ea(h.tags,d.tagName,i)}return i.__.virts&&Y(i.__.virts,function(b){b.parentNode&&b.parentNode.removeChild(b)}),xa(c),Y(d.instAttrs,function(b){return b.expr&&b.expr.unmount&&b.expr.unmount()}),b?p(e,""):g&&g.removeChild(e),d.onUnmount&&d.onUnmount(),i.isMounted||Ba.call(i,!0),Ba.call(i,!1),delete e._tag,i}(z,b,B)}]].reduce(function(f,a){var b=a[0],c=a[1],d=a[2];return L(z,b,c,d),f},kb(z,u))}function Da(i,b,c,d){var e,l=Ja[b],g=Ja[b]["class"],h=d||(g?m(g.prototype):{}),a=i._innerHTML=i._innerHTML||i.innerHTML,j=kb({root:i,opts:c,context:h},{parent:c?c.parent:null});return l&&i&&(e=Ca(l,j,a)),e&&e.mount&&(e.mount(!0),X(Ia,e)||Ia.push(e)),e}var Ea,Fa,Ga,Ha,Ia=[],Ja={},Ka=["ref","data-ref"],y=/^xlink:(\w+)/,u="undefined"===("undefined"==typeof window?"undefined":_typeof(window))?void 0:window,g=/^on/,v=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Pa={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},b=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,$=0|(u&&u.document||{}).documentMode,k={},w=!1;u&&(Ga=d("style"),Ha=n("style[type=riot]"),t(Ga,"type","text/css"),Ha?(Ha.id&&(Ga.id=Ha.id),Ha.parentNode.replaceChild(Ga,Ha)):document.head.appendChild(Ga),Fa=(Ea=Ga).styleSheet);var A,Qa={styleNode:Ea,add:function(c,a){k[a]=c,w=!0},inject:function(){if(u&&w){w=!1;var b=Object.keys(k).map(function(b){return k[b]}).join("\n");Fa?Fa.cssText=b:Ea.innerHTML=b}},remove:function(b){delete k[b],w=!0}},Ra=function(){function e(c,a){for(;0<=--a&&/\s/.test(c[a]););return a}var b=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],a=b.reduce(function(c,a){return c+a.slice(-1)},""),d=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,f=/[$\w]/;return function(c,g){var n=/.*/g,h=n.lastIndex=g++,o=n.exec(c)[0].match(d);if(o){var k=h+o[0].length,i=c[h=e(c,h)];if(0>h||~"[{(,;:?=|&!^~>%*/".indexOf(i))return k;if("."===i)"."===c[h-1]&&(g=k);else if("+"===i||"-"===i)(c[--h]!==i||0>(h=e(c,h))||!f.test(c[h]))&&(g=k);else if(~a.indexOf(i)){for(var l=h+1;0<=--h&&f.test(c[h]););~b.indexOf(c.slice(h+1,l))&&(g=k)}}return g}}(),R=function(){function c(b){return b}function n(c,a){return a||(a=t),new RegExp(c.source.replace(/{/g,a[2]).replace(/}/g,a[3]),c.global?"g":"")}function b(d){if("{ }"===d)return q;var b=d.split(" ");if(2!==b.length||i.test(d))throw new Error("Unsupported brackets \""+d+"\"");return(b=b.concat(d.replace(m,"\\").split(" ")))[4]=n(1<b[1].length?/{[\S\s]*?}/:q[4],b),b[5]=n(3<d.length?/\\({|})/g:q[5],b),b[6]=n(q[6],b),b[7]=RegExp("\\\\("+b[3]+")|([[({])|("+b[3]+")|"+a,"g"),b[8]=d,b}function d(b){return b instanceof RegExp?f(b):t[b]}function e(d){(d||(d="{ }"))!==t[8]&&(t=b(d),f="{ }"===d?c:n,t[9]=f(q[9])),p=d}var f,h,p,s=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,l=s.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,i=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,m=/(?=[[\]()*+?.^$|])/g,a=s.source+"|"+/(\/)(?![*\/])/.source,o={"(":RegExp("([()])|"+a,"g"),"[":RegExp("([[\\]])|"+a,"g"),"{":RegExp("([{}])|"+a,"g")},q=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+a,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],t=[];return d.split=function(e,b,c){function a(d){B&&(d=B+d,B=""),b||j?s.push(d&&d.replace(c[5],"$1")):s.push(d)}function f(f,a,g){return g&&(a=Ra(e,f)),b&&f+2<a&&(n="\u2057"+w.length+"~",w.push(e.slice(f,a)),B+=e.slice(k,f)+n,k=a),a}c||(c=t);var g,j,k,m,n,q,s=[],u=c[6],w=[],B="";for(j=k=u.lastIndex=0;g=u.exec(e);){if(q=u.lastIndex,m=g.index,j){if(g[2]){var C=g[2],D=o[C],d=1;for(D.lastIndex=q;g=D.exec(e);)if(!g[1])D.lastIndex=f(g.index,D.lastIndex,g[2]);else if(g[1]===C)++d;else if(! --d)break;u.lastIndex=d?e.length:D.lastIndex;continue}if(!g[3]){u.lastIndex=f(m,q,g[4]);continue}}g[1]||(a(e.slice(k,m)),k=u.lastIndex,(u=c[6+(j^=1)]).lastIndex=k)}return e&&k<e.length&&a(e.slice(k)),s.qblocks=w,s},d.hasExpr=function(b){return t[4].test(b)},d.loopKeys=function(c){var a=c.match(t[9]);return a?{key:a[1],pos:a[2],val:t[0]+a[3].trim()+t[1]}:{val:c.trim()}},d.array=function(c){return c?b(c):t},Object.defineProperty(d,"settings",{set:function(c){var d;d=(c=c||{}).brackets,Object.defineProperty(c,"brackets",{set:e,get:function(){return p},enumerable:!0}),h=c,e(d)},get:function(){return h}}),d.settings="undefined"!=typeof riot&&riot.settings||{},d.set=e,d.skipRegex=Ra,d.R_STRINGS=s,d.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,d.S_QBLOCKS=l,d.S_QBLOCK2=a,d}(),mb=function(){function f(d,a){return d?(b[d]||(b[d]=function(c){var a=function(a){var b,k=R.split(a.replace(g,"\""),1),d=k.qblocks;if(2<k.length||k[0]){var f,m,n=[];for(f=m=0;f<k.length;++f)(b=k[f])&&(b=1&f?i(b,1,d):"\""+b.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,"\\\"")+"\"")&&(n[m++]=b);b=2>m?n[0]:"["+n.join(",")+"].join(\"\")"}else b=i(k[1],0,d);return d.length&&(b=b.replace(j,function(c,a){return d[a].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),b}(c);return"try{return "!==a.slice(0,11)&&(a="return "+a),new Function("E",a+";")}(d))).call(a,function(b,a){b.riotData={tagName:a&&a.__&&a.__.tagName,_riot_id:a&&a._riot_id},f.errorHandler?f.errorHandler(b):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(b.message),console.log("<%s> %s",b.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}.bind({data:a,tmpl:d})):d}function i(c,a,d){function e(b,a){var d,h=1,i=k[b];for(i.lastIndex=a.lastIndex;d=i.exec(c);)if(d[0]===b)++h;else if(! --h)break;a.lastIndex=h?c.length:i.lastIndex}if(c=c.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var f,g=[],i=0;c&&(f=c.match(h))&&!f.index;){var o,r,s=/,|([[{(])|$/g;for(c=RegExp.rightContext,o=f[2]?d[f[2]].slice(1,-1).trim().replace(/\s+/g," "):f[1];r=(f=s.exec(c))[1];)e(r,s);r=c.slice(0,f.index),c=RegExp.rightContext,g[i++]=n(r,1,o)}c=i?1<i?"["+g.join(",")+"].join(\" \").trim()":g[0]:n(c,a)}return c}function n(a,g,c){var h;return a=a.replace(l,function(f,i,b,c,j){return b&&(c=h?0:c+f.length,"this"!==b&&"global"!==b&&"window"!==b?(f=i+"(\""+b+e+b,c&&(h="."===(j=j[c])||"("===j||"["===j)):c&&(h=!o.test(j.slice(c)))),f}),h&&(a="try{return "+a+"}catch(e){E(e,this)}"),c?a=(h?"function(){"+a+"}.call(this)":"("+a+")")+"?\""+c+"\":\"\"":g&&(a="function(v){"+(h?a.replace("return ","v="):"v=("+a+")")+";return v||v===0?v:\"\"}.call(this)"),a}var b={};f.hasExpr=R.hasExpr,f.loopKeys=R.loopKeys,f.clearCache=function(){b={}},f.errorHandler=null;var g=/\u2057/g,j=/\u2057(\d+)~/g,h=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,k={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},e="\"in this?this:"+("object"==("undefined"==typeof window?"undefined":_typeof(window))?"window":"global")+").",l=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,o=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return f.version=R.version="v3.0.8",f}(),P=function(l){l=l||{};var m={},a=Array.prototype.slice;return Object.defineProperties(l,{on:{value:function(b,a){return"function"==typeof a&&(m[b]=m[b]||[]).push(a),l},enumerable:!1,writable:!1,configurable:!1},off:{value:function(b,a){if(!("*"!=b||a))m={};else if(a)for(var c,d=m[b],f=0;c=d&&d[f];++f)c==a&&d.splice(f--,1);else delete m[b];return l},enumerable:!1,writable:!1,configurable:!1},one:{value:function(b,a){return l.on(b,function c(){l.off(b,c),a.apply(l,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(b){var c,d,f,n=arguments,j=arguments.length-1,i=Array(j);for(f=0;f<j;f++)i[f]=n[f+1];for(c=a.call(m[b]||[],0),f=0;d=c[f];++f)d.apply(l,i);return m["*"]&&"*"!=b&&l.trigger.apply(l,["*",b].concat(i)),l},enumerable:!1,writable:!1,configurable:!1}}),l},U=kb(m(R.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0}),B=Object.freeze({$$:z,$:n,createDOMPlaceholder:lb,mkEl:d,setAttr:t,toggleVisibility:a,getAttr:q,remAttr:s,setInnerHTML:p,walkAttrs:x,createFrag:D,safeInsert:f,styleObjectToString:F,walkNodes:c}),V=Object.freeze({isBlank:o,isFunction:C,isObject:G,isSvg:r,isWritable:l,isArray:H,isBoolAttr:J,isNil:i,isString:T,isUndefined:I}),W=(A=-1,function(){return++A}),Sa=Object.freeze({contains:X,each:Y,getPropDescriptor:h,startsWith:K,uid:W,defineProperty:L,objectCreate:m,extend:kb,toCamel:M,warn:N}),Ta=/<yield\b/i,Ua=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,Va=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,Wa=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Xa={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},Ya=$&&10>$?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Za=/^on/,$a={},_a=$a.__global_mixin={},ab=0,bb=Object.freeze({Tag:la,tag:ma,tag2:e,mount:na,mixin:oa,update:pa,unregister:qa,version:"v3.13.2"}),db={init:function(e,a,b,c){return this.dom=e,this.attr=b,this.rawValue=c,this.parent=a,this.hasExp=mb.hasExpr(c),this},update:function(){var d=this.value,a=this.parent&&ba(this.parent),b=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?mb(this.rawValue,this.parent):this.rawValue,!o(d)&&a&&ea(a.refs,d,b),!o(this.value)&&T(this.value)?(a&&Z(a.refs,this.value,b,null,this.parent.__.index),this.value!==d&&t(this.dom,this.attr,this.value)):s(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=b)},unmount:function(){var c=this.tag||this.dom,a=this.parent&&ba(this.parent);!o(this.value)&&a&&ea(a.refs,this.value,c)}},eb={init:function(e,a,b){s(e,"if"),kb(this,{tag:a,expr:b,stub:lb(),pristine:e});var c=e.parentNode;return c.insertBefore(this.stub,e),c.removeChild(e),this},update:function(){this.value=mb(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=za.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&ia.call(this.tag,this.expressions))},unmount:function(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),xa(this.expressions||[])}},fb=Object.freeze({arrayishAdd:Z,getTagName:_,inheritParentProps:aa,mountTo:Da,selectTags:ka,arrayishRemove:ea,getTag:Q,initChildTag:da,moveChildTag:ra,makeReplaceVirtual:ga,getImmediateCustomParentTag:ba,makeVirtual:fa,moveVirtual:sa,unmountAll:xa,createIfDirective:ya,createRefDirective:wa}),gb=U,hb={tmpl:mb,brackets:R,styleManager:Qa,vdom:Ia,styleNode:Qa.styleNode,dom:B,check:V,misc:Sa,tags:fb},ib=kb({},bb,{observable:P,settings:gb,util:hb});j.settings=gb,j.util=hb,j.Tag=la,j.tag=ma,j.tag2=e,j.mount=na,j.mixin=oa,j.update=pa,j.unregister=qa,j.version="v3.13.2",j.observable=P,j["default"]=ib,Object.defineProperty(j,"__esModule",{value:!0})},"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.riot={});