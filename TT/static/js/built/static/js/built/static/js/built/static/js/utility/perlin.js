"use strict";function _classCallCheck(b,c){if(!(b instanceof c))throw new TypeError("Cannot call a class as a function")}function _defineProperty(c,d,a){return d in c?Object.defineProperty(c,d,{value:a,enumerable:!0,configurable:!0,writable:!0}):c[d]=a,c}var Perlin=function d(f,a,b){var y=Math.floor,z=this;_classCallCheck(this,d),_defineProperty(this,"get_value",function(a,b,c){return(a*=.9*z.frequency,b*=.9*z.frequency,c*=.9*z.frequency,1==z.dimension)?z.perlin2D(a,0)*z.magnitude:2==z.dimension?z.perlin2D(a,b)*z.magnitude:3==z.dimension?z.perlin3D(a,b,c)*z.magnitude:void 0}),_defineProperty(this,"mod",function(b,c){return(b%c+c)%c}),_defineProperty(this,"lerp",function(b,d,c){return c*b+(1-c)*d}),_defineProperty(this,"fade",function(b){var c=Math.pow;return 6*c(b,5)-15*c(b,4)+10*c(b,3)}),_defineProperty(this,"dot_product",function(b,d){if(b.constructor!==Array)throw"First argument is not an array.";else if(d.constructor!==Array)throw"Second argument is not an array.";else if(b.length!==d.length)throw"Arrays are not the same length.";for(var c=0,e=0;e<b.length;e++)c+=b[e]*d[e];return c}),_defineProperty(this,"create_random_vector",function(d,e){for(var a=[],b=0;b<d;b++)if(e){var f=1;.5<=Math.random()&&(f=-1),a.push(f)}else a.push(2*Math.random()-1);return a}),_defineProperty(this,"perlin2D",function(e,f){var a=y(e),b=y(f),c=e-a,d=f-b,g=z.dot_product([c,d],z.grid.data[z.mod(b,z.grid.rows)][z.mod(a,z.grid.cols)]),h=z.dot_product([c,d-1],z.grid.data[z.mod(b+1,z.grid.rows)][z.mod(a,z.grid.cols)]),i=z.dot_product([c-1,d],z.grid.data[z.mod(b,z.grid.rows)][z.mod(a+1,z.grid.cols)]),j=z.dot_product([c-1,d-1],z.grid.data[z.mod(b+1,z.grid.rows)][z.mod(a+1,z.grid.cols)]),k=z.lerp(h,g,z.fade(d)),l=z.lerp(j,i,z.fade(d));return z.lerp(l,k,z.fade(c))}),_defineProperty(this,"perlin3D",function(e,f,a){var b=y(e),c=y(f),d=y(a),g=e-b,h=f-c,i=a-d,j=z.dot_product([g,h,i],z.grid.data[z.mod(c,z.grid.rows)][z.mod(b,z.grid.cols)][z.mod(d,z.grid.layers)]),k=z.dot_product([g,h-1,i],z.grid.data[z.mod(c+1,z.grid.rows)][z.mod(b,z.grid.cols)][z.mod(d,z.grid.layers)]),l=z.dot_product([g-1,h,i],z.grid.data[z.mod(c,z.grid.rows)][z.mod(b+1,z.grid.cols)][z.mod(d,z.grid.layers)]),m=z.dot_product([g-1,h-1,i],z.grid.data[z.mod(c+1,z.grid.rows)][z.mod(b+1,z.grid.cols)][z.mod(d,z.grid.layers)]),n=z.dot_product([g,h,i-1],z.grid.data[z.mod(c,z.grid.rows)][z.mod(b,z.grid.cols)][z.mod(d+1,z.grid.layers)]),o=z.dot_product([g,h-1,i-1],z.grid.data[z.mod(c+1,z.grid.rows)][z.mod(b,z.grid.cols)][z.mod(d+1,z.grid.layers)]),p=z.dot_product([g-1,h,i-1],z.grid.data[z.mod(c,z.grid.rows)][z.mod(b+1,z.grid.cols)][z.mod(d+1,z.grid.layers)]),q=z.dot_product([g-1,h-1,i-1],z.grid.data[z.mod(c+1,z.grid.rows)][z.mod(b+1,z.grid.cols)][z.mod(d+1,z.grid.layers)]),r=z.lerp(k,j,z.fade(h)),s=z.lerp(m,l,z.fade(h)),t=z.lerp(o,n,z.fade(h)),u=z.lerp(q,p,z.fade(h)),v=z.lerp(s,r,z.fade(g)),w=z.lerp(u,t,z.fade(g));return z.lerp(w,v,z.fade(i))}),_defineProperty(this,"create_gradient_grid3D",function(d,e,a){for(var b,f={rows:d,cols:e,layers:a,data:[]},g=0;g<d;g++){b=[];for(var h,i=0;i<e;i++){h=[];for(var j=0;j<a;j++)h.push(z.create_random_vector(3));b.push(h)}f.data.push(b)}return f}),_defineProperty(this,"create_gradient_grid2D",function(c,e){for(var a,f={rows:c,cols:e,data:[]},g=0;g<c;g++){a=[];for(var h=0;h<e;h++)a.push(z.create_random_vector(2));f.data.push(a)}return f}),_defineProperty(this,"create_random_vector",function(b){for(var d,e=[],f=0;f<b;f++)d=1,.5<=Math.random()&&(d=-1),e.push(d);return e}),this.magnitude=b,this.frequency=a,this.dimension=f,1==f||2==f?this.grid=this.create_gradient_grid2D(20,20):3==f&&(this.grid=this.create_gradient_grid3D(20,20,20))};