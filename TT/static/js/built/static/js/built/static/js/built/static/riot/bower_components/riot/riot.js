"use strict";function _typeof3(a){return _typeof3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof3(a)}function _typeof2(b){return _typeof2="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(b){return _typeof3(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":_typeof3(b)},_typeof2(b)}function _typeof(b){return _typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(b){return _typeof2(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":_typeof2(b)},_typeof(b)}(function(c,a){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a(c.riot={})})(void 0,function(ub){'use strict';function aa(c,a){return(a||document).querySelector(c)}function ba(b){return"svg"===b?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b)}function ca(a,b,c){var d=Ea.exec(b);d&&d[1]?a.setAttributeNS("http://www.w3.org/1999/xlink",d[1],c):a.setAttribute(b,c)}function da(c,a){return Object.getOwnPropertyDescriptor(c,a)}function ea(b){return"undefined"===_typeof(b)}function fa(d,a){var b=da(d,a);return ea(d[a])||b&&b.writable}function ga(g){for(var b,h=1,i=arguments,e=i.length;h<e;h++)if(b=i[h])for(var a in b)fa(g,a)&&(g[a]=b[a]);return g}function ha(b){return Object.create(b)}function s(c,a){return[].slice.call((a||document).querySelectorAll(c))}function vb(){return document.createTextNode("")}function ia(c,a){c.style.display=a?"":"none",c.hidden=!a}function wb(c,a){return c.getAttribute(a)}function ja(c,a){c.removeAttribute(a)}function m(a,b,c){if(c){var d=a.ownerDocument.importNode(new DOMParser().parseFromString("<svg xmlns=\"http://www.w3.org/2000/svg\">"+b+"</svg>","application/xml").documentElement,!0);a.appendChild(d)}else a.innerHTML=b}function r(d,a){if(d)for(var b;b=La.exec(d);)a(b[1].toLowerCase(),b[2]||b[3]||b[4])}function xb(){return document.createDocumentFragment()}function g(d,a,b){d.insertBefore(a,b.parentNode&&b)}function d(d){return Object.keys(d).reduce(function(a,b){return a+" "+b+": "+d[b]+";"},"")}function a(e,f,c){if(e){var d,i=f(e,c);if(!1===i)return;for(e=e.firstChild;e;)d=e.nextSibling,a(e,f,i),e=d}}function c(b){return ea(b)||null===b}function p(b){return c(b)||""===b}function y(b){return"function"===_typeof(b)}function b(b){return b&&"object"===_typeof(b)}function N(c){var a=c.ownerSVGElement;return!!a||null===a}function ka(b){return Array.isArray(b)||b instanceof Array}function h(b){return Na.test(b)}function i(b){return"string"===_typeof(b)}function yb(c,a){return-1!==c.indexOf(a)}function A(a,b){for(var c=a?a.length:0,d=0;d<c;d++)b(a[d],d);return a}function f(c,a){return c.slice(0,a.length)===a}function L(a,b,c,d){return Object.defineProperty(a,b,ga({value:c,enumerable:!1,writable:!1,configurable:!0},d)),a}function k(b){return b.replace(/-(\w)/g,function(c,a){return a.toUpperCase()})}function n(b){console&&console.warn&&console.warn(b)}function la(i,b,c,e,f){var a=i[b],g=ka(a),h=!ea(f);if(!(a&&a===c))if(!a&&e)i[b]=[c];else if(!a)i[b]=c;else if(g){var j=a.indexOf(c);if(j===f)return;-1!==j&&a.splice(j,1),h?a.splice(f,0,c):a.push(c)}else i[b]=[a,c]}function ma(b){return b.tagName&&Ca[wb(b,"data-is")||wb(b,"data-is")||b.tagName.toLowerCase()]}function zb(a,b){var c=ma(a),d=!b&&wb(a,"data-is");return d&&!Va.hasExpr(d)?d:c?c.name:a.tagName.toLowerCase()}function v(){return this.parent?ga(ha(this),this.parent):this}function e(g,b,c){var d="o"===c[0],a=d?"select>":"table>";if(g.innerHTML="<"+a+b.trim()+"</"+a,a=g.firstChild,d)a.selectedIndex=-1;else{var h=eb[c];h&&1===a.childElementCount&&(a=aa(h,a))}return a}function l(d,e){if(!ab.test(d))return d;var a={};return e=e&&e.replace(cb,function(c,b,d){return a[b]=a[b]||d,""}).trim(),d.replace(db,function(c,b,d){return a[b]||d||""}).replace(bb,function(b,a){return e||a||""})}function C(c,i,d){var f=c&&c.match(/^\s*<([-\w]+)/),a=f&&f[1].toLowerCase(),g=ba(d?"svg":"div");return c=l(c,i),fb.test(a)?g=e(g,c,a):m(g,c,d),g}function o(b){return gb.test(b)}function u(c){for(var a=c;a.__.isAnonymous&&!!a.parent;)a=a.parent;return a}function j(e,b,c){var d=this.__.parent,h=this.__.item;if(!h)for(;d&&!h;)h=d.__.item,d=d.__.parent;if((fa(c,"currentTarget")&&(c.currentTarget=e),fa(c,"target")&&(c.target=c.srcElement),fa(c,"which")&&(c.which=c.charCode||c.keyCode),c.item=h,b.call(this,c),!!Xa.autoUpdate)&&!c.preventUpdate){var i=u(this);i.isMounted&&i.update()}}function w(g,b,c,d){var e,h=j.bind(d,c,b);c[g]=null,e=g.replace(Ka,""),yb(d.__.listeners,c)||d.__.listeners.push(c),c["__riot-events__"]||(c["__riot-events__"]={}),c["__riot-events__"][g]&&c.removeEventListener(e,c["__riot-events__"][g]),c["__riot-events__"][g]=h,c.addEventListener(e,h,!1)}function x(h,b,c,d){var e=xa(h,b,c),a=b.tagName||zb(b.root,!0),f=u(d);return L(e,"parent",f),e.__.parent=d,la(f.tags,a,e),f!==d&&la(d.tags,a,e),e}function z(f,b,c,d){if(ka(f[b])){var e=f[b].indexOf(c);-1!==e&&f[b].splice(e,1),f[b].length?1===f[b].length&&!d&&(f[b]=f[b][0]):delete f[b]}else f[b]===c&&delete f[b]}function B(a,b){var c,j,k=this,f=vb(),g=vb(),h=xb();for(this.root.insertBefore(f,this.root.firstChild),this.root.appendChild(g),this.__.head=j=f,this.__.tail=g;j;)c=j.nextSibling,h.appendChild(j),k.__.virts.push(j),j=c;b?a.insertBefore(h,b.__.head):a.appendChild(h)}function D(d,a){if(a.parentNode){var b=xb();B.call(d,b),a.parentNode.replaceChild(b,a)}}function E(a,b,c){var d,e=a.tag||a.dom._tag,l=e?e.__:{},h=l.head,j="VIRTUAL"===a.dom.tagName;return e&&a.tagName===c?void e.update():void((e&&(j&&(d=vb(),h.parentNode.insertBefore(d,h)),e.unmount(!0)),!!i(c))&&(a.impl=Ca[c],a.impl&&(a.tag=e=x(a.impl,{root:a.dom,parent:b,tagName:c},a.dom.innerHTML,b),A(a.attrs,function(b){return ca(e.root,b.name,b.value)}),a.tagName=c,e.mount(),j&&D(e,d||e.root),b.__.onUnmount=function(){var b=e.opts.dataIs;z(e.parent.tags,b,e),z(e.__.parent.tags,b,e),e.unmount()})))}function F(b){return b?(b=b.replace("riot-",""),Ma[b]&&(b=Ma[b]),b):null}function q(m){if(!(this.root&&wb(this.root,"virtualized"))){var c,t=m.dom,j=F(m.attr),k=yb(["show","hide"],j),a=m.root&&"VIRTUAL"===m.root.tagName,i=this.__,n=i.isAnonymous,x=t&&(m.parent||t.parentNode),q=Xa.keepValueAttributes,l="style"===j,r="class"===j,g="value"===j;if(m._riot_id)return void(m.__.wasCreated?m.update():(m.mount(),a&&D(m,m.root)));if(m.update)return m.update();var f=k&&!n?v.call(this):this;c=Va(m.expr,f);var s=!p(c),h=b(c);if(h&&(r?c=Va(JSON.stringify(c),this):l&&(c=d(c))),!m.attr||m.wasParsedOnce&&!1!==c&&(s||g&&(!g||q))||ja(t,wb(t,m.attr)?m.attr:j),m.bool&&(c=!!c&&j),m.isRtag)return E(m,this,c);if(!(m.wasParsedOnce&&m.value===c)&&(m.value=c,m.wasParsedOnce=!0,!h||r||l||k)){if(s||(c=""),!j)return c+="",void(x&&(m.parent=x,"TEXTAREA"===x.tagName?(x.value=c,!Oa&&(t.nodeValue=c)):t.nodeValue=c));switch(!0){case y(c):o(j)&&w(j,c,t,this);break;case k:ia(t,"hide"===j?!c:c);break;default:m.bool&&(t[j]=c),g&&t.value!==c?t.value=c:s&&!1!==c&&ca(t,j,c),l&&t.hidden&&ia(t,!1);}}}}function t(b){A(b,q.bind(this))}function G(e,b,c,d,f){if(!(e&&c)){var h=e?v.call(this):b||this;A(f,function(b){b.expr&&q.call(h,b.expr),d[k(b.name).replace("riot-","")]=b.expr?b.expr.value:b.value})}}function H(b,c,d){var e=b.__,f={},a=b.isMounted&&!e.skipAnonymous;return(e.isAnonymous&&e.parent&&ga(b,e.parent),ga(b,c),G.apply(b,[e.isLoop,e.parent,e.isAnonymous,f,e.instAttrs]),a&&b.isMounted&&y(b.shouldUpdate)&&!b.shouldUpdate(c,f))?b:(ga(b.opts,f),a&&b.trigger("update",c),t.call(b,d),a&&b.trigger("updated"),b)}function I(c){if(!c){var a=Object.keys(Ca);return a+I(a)}return c.filter(function(b){return!/[^-\w]/.test(b)}).reduce(function(d,a){var b=a.trim().toLowerCase();return d+",[data-is=\""+b+"\"]"},"")}function J(i,b){var c=this,d=c.name,e=c.tmpl,a=c.css,f=c.attrs,g=c.onCreate;return Ca[d]||(K(d,e,a,f,g),Ca[d]["class"]=this.constructor),ya(i,d,b,this),a&&Ra.inject(),this}function K(a,b,d,e,i){return y(e)&&(i=e,/^[\w-]+\s?=/.test(d)?(e=d,d=""):e=""),d&&(y(d)?i=d:Ra.add(d,a)),a=a.toLowerCase(),Ca[a]={name:a,tmpl:b,attrs:e,fn:i},a}function M(f,b,c,d,e){return c&&Ra.add(c,f),Ca[f]={name:f,tmpl:b,attrs:d,fn:e},f}function O(d,e,m){function n(b){if(b.tagName){var a,f=wb(b,"data-is");e&&f!==e&&(f=e,ca(b,"data-is",e)),a=ya(b,f||b.tagName.toLowerCase(),y(m)?m():m),a&&p.push(a)}else b.length&&A(b,n)}var h,o,p=[];if(Ra.inject(),(b(e)||y(e))&&(m=e,e=0),i(d)?(d="*"===d?o=I():d+I(d.split(/, */)),h=d?s(d):[]):h=d,"*"===e){if(e=o||I(),h.tagName)h=s(e,h);else{var k=[];A(h,function(b){return k.push(s(e,b))}),h=k}e=0}return n(h),p}function P(a,c,d){if(b(a))return void P("__"+jb++ +"__",a,!0);var e=d?ib:hb;if(!c){if(ea(e[a]))throw new Error("Unregistered mixin: "+a);return e[a]}e[a]=y(c)?ga(c.prototype,e[a]||{})&&c:ga(e[a]||{},c)}function Q(){return A(Ba,function(b){return b.update()})}function R(b){return Ra.remove(b),delete Ca[b]}function S(b){for(var a=[],c=arguments.length-1;0<c--;)a[c]=arguments[c+1];return A(a,function(a){var j,k,l=[],m=["init","__proto__"];a=i(a)?P(a):a,j=y(a)?new a:a;var g=Object.getPrototypeOf(j);do l=l.concat(Object.getOwnPropertyNames(k||j));while(k=Object.getPrototypeOf(k||j));A(l,function(a){if(!yb(m,a)){var c=da(j,a)||da(g,a),d=c&&(c.get||c.set);!b.hasOwnProperty(a)&&d?Object.defineProperty(b,a,c):b[a]=y(j[a])?j[a].bind(b):j[a]}}),j.init&&j.init.bind(b)(b.opts)}),b}function T(a,b){var c,f=this.parent;f&&(c=f.tags[a],ka(c)?c.splice(b,0,c.splice(c.indexOf(this),1)[0]):la(f.tags,a,this))}function U(g,b){for(var c,h=this,e=this.__.head,i=xb();e;)if(c=e.nextSibling,i.appendChild(e),e=c,e===h.__.tail){i.appendChild(e),g.insertBefore(i,b.__.head);break}}function V(a,b,c){var d={};return d[a.key]=b,a.pos&&(d[a.pos]=c),d}function W(a,b,c){for(var d=b.length,g=a.length-c;d>g;)d--,X.apply(b[d],[b,d])}function X(c,a){c.splice(a,1),this.unmount(),z(this.parent,this,this.__.tagName,!0)}function Y(d){var a=this;A(Object.keys(this.tags),function(b){T.apply(a.tags[b],[b,d])})}function Z(a,b,c){c?U.apply(this,[a,b]):g(a,this.root,b.root)}function $(a,b,c){c?B.apply(this,[a,b]):g(a,this.root,b.root)}function _(c,a){a?B.call(this,c):c.appendChild(this.root)}function na(a,b,c,d){return a?d?Va(a,c):b[a]:b}function oa(s,d,e){var J="string"!==_typeof(wb(s,"no-reorder"))||ja(s,"no-reorder"),q=wb(s,"key"),a=!!q&&Va.hasExpr(q),r=zb(s),o=Ca[r],g=s.parentNode,l=vb(),K=ma(s),t=wb(s,"if"),f=[],h=s.innerHTML,y=!Ca[r],v="VIRTUAL"===s.tagName,x=[];return ja(s,"each"),ja(s,"key"),e=Va.loopKeys(e),e.isLoop=!0,t&&ja(s,"if"),g.insertBefore(l,s),g.removeChild(s),e.update=function(){e.value=Va(e.val,d);var b=e.value,j=xb(),z=!ka(b)&&!i(b),m=l.parentNode,c=[],k=z&&!!b;if(m){z&&(b=b?Object.keys(b).map(function(c){return V(e,b[c],c)}):[]);var w=0;A(b,function(l,n){var g=n-w,p=!k&&e.key?V(e,l,n):l;if(t&&!Va(t,ga(ha(d),p)))return void w++;var u=na(q,l,p,a),i=!z&&J&&"object"===_typeof(l)||q,A=x.indexOf(u),B=-1===A,C=!B&&i?A:g,D=f[C],E=g>=x.length,F=i&&B||!i&&!D||!f[g];F?(D=xa(o,{parent:d,isLoop:!0,isAnonymous:y,tagName:r,root:s.cloneNode(y),item:p,index:g},h),D.mount(),E?_.apply(D,[j||m,v]):$.apply(D,[m,f[g],v]),!E&&x.splice(g,0,p),f.splice(g,0,D),K&&la(d.tags,r,D,!0)):C!==g&&i&&((q||yb(b,x[C]))&&(Z.apply(D,[m,f[g],v]),f.splice(g,0,f.splice(C,1)[0]),x.splice(g,0,x.splice(C,1)[0])),e.pos&&(D[e.pos]=g),!K&&D.tags&&Y.call(D,g)),ga(D.__,{item:p,index:g,parent:d}),c[g]=u,F||D.update(p)}),W(b,f,w),x=c.slice(),m.insertBefore(j,l)}},e.unmount=function(){A(f,function(b){b.unmount()})},e}function pa(a,b,c,d){return ha(lb).init(a,b,c,d)}function qa(b){A(b,function(b){b.unmount?b.unmount(!0):b.tagName?b.tag.unmount(!0):b.unmount&&b.unmount()})}function ra(d,a,b){return ha(nb).init(d,a,b)}function sa(e,b){var c=this,d=[];return a(e,function(g){var a,m,o=g.nodeType;if((b||g!==e)&&(3===o&&"STYLE"!==g.parentNode.tagName&&Va.hasExpr(g.nodeValue)&&d.push({dom:g,expr:g.nodeValue}),1===o)){var i="VIRTUAL"===g.tagName;if(a=wb(g,"each"))return i&&ca(g,"loopVirtual",!0),d.push(oa(g,c,a)),!1;if(a=wb(g,"if"))return d.push(ra(g,c,a)),!1;if((a=wb(g,"data-is"))&&Va.hasExpr(a))return d.push({isRtag:!0,expr:a,dom:g,attrs:[].slice.call(g.attributes)}),!1;if(m=ma(g),i&&(wb(g,"virtualized")&&g.parentElement.removeChild(g),!m&&!wb(g,"virtualized")&&!wb(g,"loopVirtual")&&(m={tmpl:g.outerHTML})),m&&(g!==e||b)){var j=wb(g,"data-is");if(i&&!j){ca(g,"virtualized",!0);var k=xa({tmpl:g.outerHTML},{root:g,parent:c},g.innerHTML);d.push(k)}else return j&&i&&n("Virtual tags shouldn't be used together with the \"data-is\" attribute - https://github.com/riot/riot/issues/2511"),d.push(x(m,{root:g,parent:c},g.innerHTML,c)),!1}ta.apply(c,[g,g.attributes,function(c,a){a&&d.push(a)}])}}),d}function ta(i,a,b){var d=this;A(a,function(e){if(!e)return!1;var a,j=e.name,f=h(j);yb(Da,j)&&"yield"!==i.tagName.toLowerCase()?a=pa(i,d,j,e.value):Va.hasExpr(e.value)&&(a={dom:i,expr:e.value,attr:j,bool:f}),b(e,a)})}function ua(a){var b=this.__,c=b.isAnonymous,d=b.skipAnonymous;L(this,"isMounted",a),c&&d||(a?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function va(g,b,c,f){var e=g.__,i=e.root;i._tag=g,ta.apply(e.parent,[i,i.attributes,function(a,b){!e.isAnonymous&&lb.isPrototypeOf(b)&&(b.tag=g),a.expr=b,e.instAttrs.push(a)}]),r(e.impl.attrs,function(a,b){e.implAttrs.push({name:a,value:b})}),ta.apply(g,[i,e.implAttrs,function(d,a){a?c.push(a):ca(i,d.name,d.value)}]),G.apply(g,[e.isLoop,e.parent,e.isAnonymous,f,e.instAttrs]);var a=P("__global_mixin");if(a&&!e.skipAnonymous)for(var h in a)a.hasOwnProperty(h)&&g.mixin(a[h]);if(e.impl.fn&&e.impl.fn.call(g,f),e.skipAnonymous||g.trigger("before-mount"),A(sa.apply(g,[b,e.isAnonymous]),function(b){return c.push(b)}),g.update(e.item),!e.isAnonymous&&!e.isInline)for(;b.firstChild;)i.appendChild(b.firstChild);if(L(g,"root",i),!e.skipAnonymous&&g.parent){var d=u(g.parent);d.one(d.isMounted?"updated":"mount",function(){ua.call(g,!0)})}else ua.call(g,!0);return g.__.wasCreated=!0,g}function wa(c,b,d){var e=c.__,g=e.root,a=Ba.indexOf(c),h=g.parentNode;if(e.skipAnonymous||c.trigger("before-unmount"),r(e.impl.attrs,function(a){f(a,"riot-")&&(a=a.slice(5)),ja(g,a)}),c.__.listeners.forEach(function(c){Object.keys(c["__riot-events__"]).forEach(function(a){c.removeEventListener(a,c["__riot-events__"][a])})}),-1!==a&&Ba.splice(a,1),e.parent&&!e.isAnonymous){var i=u(e.parent);e.isVirtual?Object.keys(c.tags).forEach(function(b){return z(i.tags,b,c.tags[b])}):z(i.tags,e.tagName,c)}return c.__.virts&&A(c.__.virts,function(b){b.parentNode&&b.parentNode.removeChild(b)}),qa(d),A(e.instAttrs,function(b){return b.expr&&b.expr.unmount&&b.expr.unmount()}),b?m(g,""):h&&h.removeChild(g),e.onUnmount&&e.onUnmount(),c.isMounted||ua.call(c,!0),ua.call(c,!1),delete g._tag,c}function xa(a,e,k){void 0===a&&(a={}),void 0===e&&(e={});var q,t=e.context||{},s=e.opts||{},r=e.parent,i=e.isLoop,o=!!e.isAnonymous,d=Xa.skipAnonymousTags&&o,l=e.item,u=e.index,p=a.tmpl,m=[],c=e.root,g=e.tagName||zb(c),f="virtual"===g,v=!f&&!p;return v||i&&o?q=c:(!f&&(c.innerHTML=""),q=C(p,k,N(c))),d||Wa(t),a.name&&c._tag&&c._tag.unmount(!0),L(t,"__",{impl:a,root:c,skipAnonymous:d,implAttrs:[],isAnonymous:o,instAttrs:[],innerHTML:k,tagName:g,index:u,isLoop:i,isInline:v,item:l,parent:r,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",$a()],["root",c],["opts",s,{writable:!0,enumerable:!0}],["parent",r||null],["tags",{}],["refs",{}],["update",function(b){return H(t,b,m)}],["mixin",function(){for(var c=[],a=arguments.length;a--;)c[a]=arguments[a];return S.apply(void 0,[t].concat(c))}],["mount",function(){return va(t,q,m,s)}],["unmount",function(b){return wa(t,b,m)}]].reduce(function(f,b){var c=b[0],d=b[1],e=b[2];return L(t,c,d,e),f},ga(t,l))}function ya(k,b,c,d){var e,l=Ca[b],f=Ca[b]["class"],g=d||(f?ha(f.prototype):{}),h=k._innerHTML=k._innerHTML||k.innerHTML,i=ga({root:k,opts:c,context:g},{parent:c?c.parent:null});return l&&k&&(e=xa(l,i,h)),e&&e.mount&&(e.mount(!0),!yb(Ba,e)&&Ba.push(e)),e}var za,Aa,Ba=[],Ca={},Da=["ref","data-ref"],Ea=/^xlink:(\w+)/,Ha="undefined"===("undefined"==typeof window?"undefined":_typeof(window))?void 0:window,Ia=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,Ja=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Ka=/^on/,La=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Ma={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},Na=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,Oa=0|(Ha&&Ha.document||{}).documentMode,Pa={},Qa=!1;Ha&&(za=function(){var a=ba("style"),b=aa("style[type=riot]");return ca(a,"type","text/css"),b?(b.id&&(a.id=b.id),b.parentNode.replaceChild(a,b)):document.head.appendChild(a),a}(),Aa=za.styleSheet);var Ra={styleNode:za,add:function(c,a){Pa[a]=c,Qa=!0},inject:function(){if(Ha&&Qa){Qa=!1;var b=Object.keys(Pa).map(function(b){return Pa[b]}).join("\n");Aa?Aa.cssText=b:za.innerHTML=b}},remove:function(b){delete Pa[b],Qa=!0}},Sa=function(){function d(c,a){for(;0<=--a&&/\s/.test(c[a]););return a}var b=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],c=b.reduce(function(c,a){return c+a.slice(-1)},""),e=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,f=/[$\w]/;return function(a,g){var m=/.*/g,i=m.lastIndex=g++,o=m.exec(a)[0].match(e);if(o){var k=i+o[0].length;i=d(a,i);var l=a[i];if(0>i||~"[{(,;:?=|&!^~>%*/".indexOf(l))return k;if("."===l)"."===a[i-1]&&(g=k);else if("+"===l||"-"===l)(a[--i]!==l||0>(i=d(a,i))||!f.test(a[i]))&&(g=k);else if(~c.indexOf(l)){for(var n=i+1;0<=--i&&f.test(a[i]););~b.indexOf(a.slice(i+1,n))&&(g=k)}}return g}}(),Ta=function(h){function b(b){return b}function j(c,a){return a||(a=u),new RegExp(c.source.replace(/{/g,a[2]).replace(/}/g,a[3]),c.global?"g":"")}function k(d){if("{ }"===d)return c;var a=d.split(" ");if(2!==a.length||l.test(d))throw new Error("Unsupported brackets \""+d+"\"");return a=a.concat(d.replace(t,"\\").split(" ")),a[4]=j(1<a[1].length?/{[\S\s]*?}/:c[4],a),a[5]=j(3<d.length?/\\({|})/g:c[5],a),a[6]=j(c[6],a),a[7]=RegExp("\\\\("+a[3]+")|([[({])|("+a[3]+")|"+p,"g"),a[8]=d,a}function n(b){return b instanceof RegExp?q(b):u[b]}function o(d){(d||(d="{ }"))!==u[8]&&(u=k(d),q="{ }"===d?b:j,u[9]=q(c[9])),g=d}var q,s,a=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,e=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,d=e.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,l=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,t=/(?=[[\]()*+?.^$|])/g,p=e.source+"|"+/(\/)(?![*\/])/.source,m={"(":RegExp("([()])|"+p,"g"),"[":RegExp("([[\\]])|"+p,"g"),"{":RegExp("([{}])|"+p,"g")},c=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],g=h,u=[];return n.split=function(f,b,c){function d(d){z&&(d=z+d,z=""),b||g?s.push(d&&d.replace(c[5],"$1")):s.push(d)}function e(a,c,g){return g&&(c=Sa(f,a)),b&&c>a+2&&(n="\u2057"+w.length+"~",w.push(f.slice(a,c)),z+=f.slice(i,a)+n,i=c),c}c||(c=u);var a,g,i,l,n,o,s=[],v=c[6],w=[],z="";for(g=i=v.lastIndex=0;a=v.exec(f);){if(o=v.lastIndex,l=a.index,g){if(a[2]){var A=a[2],C=m[A],D=1;for(C.lastIndex=o;a=C.exec(f);)if(!a[1])C.lastIndex=e(a.index,C.lastIndex,a[2]);else if(a[1]===A)++D;else if(! --D)break;v.lastIndex=D?f.length:C.lastIndex;continue}if(!a[3]){v.lastIndex=e(l,o,a[4]);continue}}a[1]||(d(f.slice(i,l)),i=v.lastIndex,v=c[6+(g^=1)],v.lastIndex=i)}return f&&i<f.length&&d(f.slice(i)),s.qblocks=w,s},n.hasExpr=function(b){return u[4].test(b)},n.loopKeys=function(c){var a=c.match(u[9]);return a?{key:a[1],pos:a[2],val:u[0]+a[3].trim()+u[1]}:{val:c.trim()}},n.array=function(b){return b?k(b):u},Object.defineProperty(n,"settings",{set:function(c){var d;c=c||{},d=c.brackets,Object.defineProperty(c,"brackets",{set:o,get:function(){return g},enumerable:!0}),s=c,o(d)},get:function(){return s}}),n.settings="undefined"!=typeof riot&&riot.settings||{},n.set=o,n.skipRegex=Sa,n.R_STRINGS=e,n.R_MLCOMMS=a,n.S_QBLOCKS=d,n.S_QBLOCK2=p,n}(),Va=function(){function e(d,b){return d?(g[d]||(g[d]=f(d))).call(b,a.bind({data:b,tmpl:d})):d}function a(b,a){b.riotData={tagName:a&&a.__&&a.__.tagName,_riot_id:a&&a._riot_id},e.errorHandler?e.errorHandler(b):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(b.message),console.log("<%s> %s",b.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}function f(d){var a=c(d);return"try{return "!==a.slice(0,11)&&(a="return "+a),new Function("E",a+";")}function c(i){var b,l=Ta.split(i.replace(j,"\""),1),d=l.qblocks;if(2<l.length||l[0]){var f,m,n=[];for(f=m=0;f<l.length;++f)b=l[f],b&&(b=1&f?h(b,1,d):"\""+b.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,"\\\"")+"\"")&&(n[m++]=b);b=2>m?n[0]:"["+n.join(",")+"].join(\"\")"}else b=h(l[1],0,d);return d.length&&(b=b.replace(k,function(c,a){return d[a].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),b}function h(d,e,c){function f(a,b){var c,e=1,i=n[a];for(i.lastIndex=b.lastIndex;c=i.exec(d);)if(c[0]===a)++e;else if(! --e)break;b.lastIndex=e?d.length:i.lastIndex}if(d=d.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1"),d){for(var g,k=[],h=0;d&&(g=d.match(q))&&!g.index;){var m,p,r=/,|([[{(])|$/g;for(d=RegExp.rightContext,m=g[2]?c[g[2]].slice(1,-1).trim().replace(/\s+/g," "):g[1];p=(g=r.exec(d))[1];)f(p,r);p=d.slice(0,g.index),d=RegExp.rightContext,k[h++]=o(p,1,m)}d=h?1<h?"["+k.join(",")+"].join(\" \").trim()":k[0]:o(d,e)}return d}function o(a,e,c){var h;return a=a.replace(l,function(e,f,b,c,i){return b&&(c=h?0:c+e.length,"this"!==b&&"global"!==b&&"window"!==b?(e=f+"(\""+b+r+b,c&&(h="."===(i=i[c])||"("===i||"["===i)):c&&(h=!m.test(i.slice(c)))),e}),h&&(a="try{return "+a+"}catch(e){E(e,this)}"),c?a=(h?"function(){"+a+"}.call(this)":"("+a+")")+"?\""+c+"\":\"\"":e&&(a="function(v){"+(h?a.replace("return ","v="):"v=("+a+")")+";return v||v===0?v:\"\"}.call(this)"),a}var g={};e.hasExpr=Ta.hasExpr,e.loopKeys=Ta.loopKeys,e.clearCache=function(){g={}},e.errorHandler=null;var j=/\u2057/g,k=/\u2057(\d+)~/g,q=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,n={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},r="\"in this?this:"+("object"===("undefined"==typeof window?"undefined":_typeof(window))?"window":"global")+").",l=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.version=Ta.version="v3.0.8",e}(),Wa=function(k){k=k||{};var l={},h=Array.prototype.slice;return Object.defineProperties(k,{on:{value:function value(a,b){return"function"==typeof b&&(l[a]=l[a]||[]).push(b),k},enumerable:!1,writable:!1,configurable:!1},off:{value:function value(b,c){if("*"==b&&!c)l={};else if(c)for(var d,e=l[b],f=0;d=e&&e[f];++f)d==c&&e.splice(f--,1);else delete l[b];return k},enumerable:!1,writable:!1,configurable:!1},one:{value:function value(a,b){function c(){k.off(a,c),b.apply(k,arguments)}return k.on(a,c)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function value(b){var c,d,e,m=arguments,n=arguments.length-1,i=Array(n);for(e=0;e<n;e++)i[e]=m[e+1];for(c=h.call(l[b]||[],0),e=0;d=c[e];++e)d.apply(k,i);return l["*"]&&"*"!=b&&k.trigger.apply(k,["*",b].concat(i)),k},enumerable:!1,writable:!1,configurable:!1}}),k},Xa=ga(ha(Ta.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0}),Ya=Object.freeze({$$:s,$:aa,createDOMPlaceholder:vb,mkEl:ba,setAttr:ca,toggleVisibility:ia,getAttr:wb,remAttr:ja,setInnerHTML:m,walkAttrs:r,createFrag:xb,safeInsert:g,styleObjectToString:d,walkNodes:a}),Za=Object.freeze({isBlank:p,isFunction:y,isObject:b,isSvg:N,isWritable:fa,isArray:ka,isBoolAttr:h,isNil:c,isString:i,isUndefined:ea}),$a=function(){var b=-1;return function(){return++b}}(),_a=Object.freeze({contains:yb,each:A,getPropDescriptor:da,startsWith:f,uid:$a,defineProperty:L,objectCreate:ha,extend:ga,toCamel:k,warn:n}),ab=/<yield\b/i,bb=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/ig,cb=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/ig,db=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/ig,eb={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},fb=Oa&&10>Oa?Ia:Ja,gb=/^on/,hb={},ib=hb.__global_mixin={},jb=0,kb=Object.freeze({Tag:J,tag:K,tag2:M,mount:O,mixin:P,update:Q,unregister:R,version:"v3.13.2"}),lb={init:function(a,b,c,d){return this.dom=a,this.attr=c,this.rawValue=d,this.parent=b,this.hasExp=Va.hasExpr(d),this},update:function(){var d=this.value,a=this.parent&&u(this.parent),b=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?Va(this.rawValue,this.parent):this.rawValue,!p(d)&&a&&z(a.refs,d,b),!p(this.value)&&i(this.value)?(a&&la(a.refs,this.value,b,null,this.parent.__.index),this.value!==d&&ca(this.dom,this.attr,this.value)):ja(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=b)},unmount:function(){var c=this.tag||this.dom,a=this.parent&&u(this.parent);!p(this.value)&&a&&z(a.refs,this.value,c)}},nb={init:function(a,b,c){ja(a,"if"),ga(this,{tag:b,expr:c,stub:vb(),pristine:a});var d=a.parentNode;return d.insertBefore(this.stub,a),d.removeChild(a),this},update:function(){this.value=Va(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=sa.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&t.call(this.tag,this.expressions))},unmount:function(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),qa(this.expressions||[])}},ob=Object.freeze({arrayishAdd:la,getTagName:zb,inheritParentProps:v,mountTo:ya,selectTags:I,arrayishRemove:z,getTag:ma,initChildTag:x,moveChildTag:T,makeReplaceVirtual:D,getImmediateCustomParentTag:u,makeVirtual:B,moveVirtual:U,unmountAll:qa,createIfDirective:ra,createRefDirective:pa}),pb=Xa,qb={tmpl:Va,brackets:Ta,styleManager:Ra,vdom:Ba,styleNode:Ra.styleNode,dom:Ya,check:Za,misc:_a,tags:ob},rb=ga({},kb,{observable:Wa,settings:pb,util:qb});ub.settings=pb,ub.util=qb,ub.Tag=J,ub.tag=K,ub.tag2=M,ub.mount=O,ub.mixin=P,ub.update=Q,ub.unregister=R,ub.version="v3.13.2",ub.observable=Wa,ub["default"]=rb,Object.defineProperty(ub,"__esModule",{value:!0})});