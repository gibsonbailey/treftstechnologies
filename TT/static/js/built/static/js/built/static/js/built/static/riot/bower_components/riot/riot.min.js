"use strict";function _typeof3(a){return _typeof3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof3(a)}function _typeof2(b){return _typeof2="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(b){return _typeof3(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":_typeof3(b)},_typeof2(b)}function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(a){return _typeof2(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_typeof2(a)},_typeof(a)}var e,t;e=void 0,t=function(E){"use strict";function j(b,c){return(c||document).querySelector(b)}function n(a){return"svg"===a?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}function S(d,e,a){var b=Ja.exec(e);b&&b[1]?d.setAttributeNS("http://www.w3.org/1999/xlink",b[1],a):d.setAttribute(e,a)}function t(b,c){return Object.getOwnPropertyDescriptor(b,c)}function La(a){return"undefined"===_typeof(a)}function d(c,d){var a=t(c,d);return La(c[d])||a&&a.writable}function Ma(b){for(var c,f=1,g=arguments,i=g.length;f<i;f++)if(c=g[f])for(var j in c)d(b,j)&&(b[j]=c[j]);return b}function Na(a){return Object.create(a)}function I(b,c){return[].slice.call((c||document).querySelectorAll(b))}function Oa(){return document.createTextNode("")}function l(b,c){b.style.display=c?"":"none",b.hidden=!c}function cb(b,c){return b.getAttribute(c)}function q(b,c){b.removeAttribute(c)}function m(d,e,a){if(a){var b=d.ownerDocument.importNode(new DOMParser().parseFromString("<svg xmlns=\"http://www.w3.org/2000/svg\">"+e+"</svg>","application/xml").documentElement,!0);d.appendChild(b)}else d.innerHTML=e}function p(d,b){if(d)for(var a;a=g.exec(d);)b(a[1].toLowerCase(),a[2]||a[3]||a[4])}function jb(){return document.createDocumentFragment()}function h(c,d,a){c.insertBefore(d,a.parentNode&&a)}function a(c){return Object.keys(c).reduce(function(d,a){return d+" "+a+": "+c[a]+";"},"")}function s(a,c,d){if(a){var b,f=c(a,d);if(!1===f)return;for(a=a.firstChild;a;)b=a.nextSibling,s(a,c,f),a=b}}function c(a){return La(a)||null===a}function f(a){return c(a)||""===a}function o(a){return"function"===_typeof(a)}function C(a){return a&&"object"===_typeof(a)}function x(b){var c=b.ownerSVGElement;return!!c||null===c}function r(a){return Array.isArray(a)||a instanceof Array}function z(a){return v.test(a)}function D(a){return"string"===_typeof(a)}function F(b,c){return-1!==b.indexOf(c)}function H(d,e){for(var a=d?d.length:0,b=0;b<a;b++)e(d[b],b);return d}function i(b,c){return b.slice(0,c.length)===c}function G(d,e,a,b){return Object.defineProperty(d,e,Ma({value:a,enumerable:!1,writable:!1,configurable:!0},b)),d}function J(a){return a.replace(/-(\w)/g,function(b,c){return c.toUpperCase()})}function K(a){console&&console.warn&&console.warn(a)}function T(i,j,b,c,d){var e=i[j],f=r(e),g=!La(d);if(!e||e!==b)if(!e&&c)i[j]=[b];else if(!e)i[j]=b;else if(f){var h=e.indexOf(b);if(h===d)return;-1!==h&&e.splice(h,1),g?e.splice(d,0,b):e.push(b)}else i[j]=[e,b]}function L(a){return a.tagName&&Da[cb(a,"data-is")||cb(a,"data-is")||a.tagName.toLowerCase()]}function M(d,e){var a=L(d),b=!e&&cb(d,"data-is");return b&&!R.hasExpr(b)?b:a?a.name:d.tagName.toLowerCase()}function Q(){return this.parent?Ma(Na(this),this.parent):this}function N(b,d,e){var c=b&&b.match(/^\s*<([-\w]+)/),f=c&&c[1].toLowerCase(),g=n(e?"svg":"div");return b=function(a,c){if(!Sa.test(a))return a;var d={};return c=c&&c.replace(Ua,function(e,c,a){return d[c]=d[c]||a,""}).trim(),a.replace(Va,function(e,c,a){return d[c]||a||""}).replace(Ta,function(d,b){return c||b||""})}(b,d),Xa.test(f)?g=function(f,d,a){var b="o"===a[0],c=b?"select>":"table>";if(f.innerHTML="<"+c+d.trim()+"</"+c,c=f.firstChild,b)c.selectedIndex=-1;else{var g=Wa[a];g&&1===c.childElementCount&&(c=j(g,c))}return c}(g,b,f):m(g,b,e),g}function O(b){for(var c=b;c.__.isAnonymous&&c.parent;)c=c.parent;return c}function X(e,f,a,b){var c,g=function(e,f,a){var b=this.__.parent,g=this.__.item;if(!g)for(;b&&!g;)g=b.__.item,b=b.__.parent;if(d(a,"currentTarget")&&(a.currentTarget=e),d(a,"target")&&(a.target=a.srcElement),d(a,"which")&&(a.which=a.charCode||a.keyCode),a.item=g,f.call(this,a),P.autoUpdate&&!a.preventUpdate){var j=O(this);j.isMounted&&j.update()}}.bind(b,a,f);a[e]=null,c=e.replace(u,""),F(b.__.listeners,a)||b.__.listeners.push(a),a["__riot-events__"]||(a["__riot-events__"]={}),a["__riot-events__"][e]&&a.removeEventListener(c,a["__riot-events__"][e]),a["__riot-events__"][e]=g,a.addEventListener(c,g,!1)}function Y(h,a,b,c){var d=wa(h,a,b),e=a.tagName||M(a.root,!0),f=O(c);return G(d,"parent",f),d.__.parent=c,T(f.tags,e,d),f!==c&&T(c.tags,e,d),d}function Z(e,f,a,b){if(r(e[f])){var c=e[f].indexOf(a);-1!==c&&e[f].splice(c,1),e[f].length?1!==e[f].length||b||(e[f]=e[f][0]):delete e[f]}else e[f]===a&&delete e[f]}function _(d,a){var b,e,h=Oa(),j=Oa(),f=jb();for(this.root.insertBefore(h,this.root.firstChild),this.root.appendChild(j),this.__.head=e=h,this.__.tail=j;e;)b=e.nextSibling,f.appendChild(e),this.__.virts.push(e),e=b;a?d.insertBefore(f,a.__.head):d.appendChild(f)}function aa(c,d){if(d.parentNode){var a=jb();_.call(c,a),d.parentNode.replaceChild(a,d)}}function ba(e){if(!this.root||!cb(this.root,"virtualized")){var d,k,s=e.dom,j=(d=e.attr)?(d=d.replace("riot-",""),Ka[d]&&(d=Ka[d]),d):null,m=F(["show","hide"],j),n=e.root&&"VIRTUAL"===e.root.tagName,i=this.__.isAnonymous,r=s&&(e.parent||s.parentNode),t=P.keepValueAttributes,v="style"===j,u="class"===j,w="value"===j;if(e._riot_id)e.__.wasCreated?e.update():(e.mount(),n&&aa(e,e.root));else{if(e.update)return e.update();var c,E,G,I,M,O,T,U=m&&!i?Q.call(this):this,L=!f(k=R(e.expr,U)),N=C(k);if(N&&(u?k=R(JSON.stringify(k),this):v&&(k=a(k))),!e.attr||e.wasParsedOnce&&!1!==k&&(L||w&&(!w||t))||q(s,cb(s,e.attr)?e.attr:j),e.bool&&(k=!!k&&j),e.isRtag)return E=this,G=k,M=(c=e).tag||c.dom._tag,O=(M?M.__:{}).head,T="VIRTUAL"===c.dom.tagName,void(M&&c.tagName===G?M.update():(M&&(T&&(I=Oa(),O.parentNode.insertBefore(I,O)),M.unmount(!0)),D(G)&&(c.impl=Da[G],c.impl&&(c.tag=M=Y(c.impl,{root:c.dom,parent:E,tagName:G},c.dom.innerHTML,E),H(c.attrs,function(a){return S(M.root,a.name,a.value)}),c.tagName=G,M.mount(),T&&aa(M,I||M.root),E.__.onUnmount=function(){var a=M.opts.dataIs;Z(M.parent.tags,a,M),Z(M.__.parent.tags,a,M),M.unmount()}))));if((!e.wasParsedOnce||e.value!==k)&&(e.value=k,e.wasParsedOnce=!0,!N||u||v||m)){if(L||(k=""),!j)return k+="",void(r&&("TEXTAREA"===(e.parent=r).tagName?(r.value=k,Pa||(s.nodeValue=k)):s.nodeValue=k));switch(!0){case o(k):x=j,Ya.test(x)&&X(j,k,s,this);break;case m:l(s,"hide"===j?!k:k);break;default:e.bool&&(s[j]=k),w&&s.value!==k?s.value=k:L&&!1!==k&&S(s,j,k),v&&s.hidden&&l(s,!1);}var x}}}}function ca(a){H(a,ba.bind(this))}function da(f,g,a,h,b){if(!f||!a){var c=f?Q.call(this):g||this;H(b,function(a){a.expr&&ba.call(c,a.expr),h[J(a.name).replace("riot-","")]=a.expr?a.expr.value:a.value})}}function ea(b){if(b)return b.filter(function(a){return!/[^-\w]/.test(a)}).reduce(function(c,d){var a=d.trim().toLowerCase();return c+",[data-is=\""+a+"\"]"},"");var c=Object.keys(Da);return c+ea(c)}function fa(a,i){var b=this,c=b.name,d=b.tmpl,e=b.css,f=b.attrs,g=b.onCreate;return Da[c]||(ga(c,d,e,f,g),Da[c]["class"]=this.constructor),xa(a,c,i,this),e&&kb.inject(),this}function ga(a,c,d,f,g){return o(f)&&(g=f,/^[\w-]+\s?=/.test(d)?(f=d,d=""):f=""),d&&(o(d)?g=d:kb.add(d,a)),a=a.toLowerCase(),Da[a]={name:a,tmpl:c,attrs:f,fn:g},a}function ha(e,f,a,b,c){return a&&kb.add(a,e),Da[e]={name:e,tmpl:f,attrs:b,fn:c},e}function e(a,c,f){var b,d,g=[];if(kb.inject(),(C(c)||o(c))&&(f=c,c=0),b=D(a)?(a="*"===a?d=ea():a+ea(a.split(/, */)))?I(a):[]:a,"*"===c){if(c=d||ea(),b.tagName)b=I(c,b);else{var m=[];H(b,function(b){return m.push(I(c,b))}),b=m}c=0}return function e(h){if(h.tagName){var a,i=cb(h,"data-is");c&&i!==c&&S(h,"data-is",i=c),(a=xa(h,i||h.tagName.toLowerCase(),o(f)?f():f))&&g.push(a)}else h.length&&H(h,e)}(b),g}function ia(d,e,a){if(C(d))ia("__"+_a++ +"__",d,!0);else{var b=a?$a:Za;if(!e){if(La(b[d]))throw new Error("Unregistered mixin: "+d);return b[d]}b[d]=o(e)?Ma(e.prototype,b[d]||{})&&e:Ma(b[d]||{},e)}}function ja(){return H(Ca,function(a){return a.update()})}function ka(a){return kb.remove(a),delete Da[a]}function la(c,d){var a,e=this.parent;e&&(r(a=e.tags[c])?a.splice(d,0,a.splice(a.indexOf(this),1)[0]):T(e.tags,c,this))}function ma(c,d){for(var a,e=this.__.head,f=jb();e;)if(a=e.nextSibling,f.appendChild(e),(e=a)===this.__.tail){f.appendChild(e),c.insertBefore(f,d.__.head);break}}function na(d,e,a){var b={};return b[d.key]=e,d.pos&&(b[d.pos]=a),b}function oa(b,c){b.splice(c,1),this.unmount(),Z(this.parent,this,this.__.tagName,!0)}function pa(f,d,m){var b="string"!==_typeof(cb(f,"no-reorder"))||q(f,"no-reorder"),e=cb(f,"key"),o=!!e&&R.hasExpr(e),w=M(f),k=Da[w],c=f.parentNode,g=Oa(),x=L(f),z=cb(f,"if"),t=[],j=f.innerHTML,A=!Da[w],E="VIRTUAL"===f.tagName,G=[];return q(f,"each"),q(f,"key"),(m=R.loopKeys(m)).isLoop=!0,z&&q(f,"if"),c.insertBefore(g,f),c.removeChild(f),m.update=function(){m.value=R(m.val,d);var i=m.value,I=jb(),B=!r(i)&&!D(i),C=g.parentNode,v=[],y=B&&!!i;if(C){B&&(i=i?Object.keys(i).map(function(a){return na(m,i[a],a)}):[]);var P=0;H(i,function(r,a){var g=a-P,q=!y&&m.key?na(m,r,a):r;if(!z||R(z,Ma(Na(d),q))){var s,D,J,Q,U=(D=r,J=q,Q=o,(s=e)?Q?R(s,J):D[s]:D),M=!B&&b&&"object"===_typeof(r)||e,N=G.indexOf(U),u=-1===N,l=!u&&M?N:g,c=t[l],V=g>=G.length,O=M&&u||!M&&!c||!t[g];O?((c=wa(k,{parent:d,isLoop:!0,isAnonymous:A,tagName:w,root:f.cloneNode(A),item:q,index:g},j)).mount(),V?function(b,c){c?_.call(this,b):b.appendChild(this.root)}.apply(c,[I||C,E]):function(c,d,a){a?_.apply(this,[c,d]):h(c,this.root,d.root)}.apply(c,[C,t[g],E]),V||G.splice(g,0,q),t.splice(g,0,c),x&&T(d.tags,w,c,!0)):l!==g&&M&&((e||F(i,G[l]))&&(function(c,d,a){a?ma.apply(this,[c,d]):h(c,this.root,d.root)}.apply(c,[C,t[g],E]),t.splice(g,0,t.splice(l,1)[0]),G.splice(g,0,G.splice(l,1)[0])),m.pos&&(c[m.pos]=g),!x&&c.tags&&function(c){var d=this;H(Object.keys(this.tags),function(a){la.apply(d.tags[a],[a,c])})}.call(c,g)),Ma(c.__,{item:q,index:g,parent:d}),v[g]=U,O||c.update(q)}else P++}),function(d,e,a){for(var b=e.length,f=d.length-a;f<b;)oa.apply(e[--b],[e,b])}(i,t,P),G=v.slice(),C.insertBefore(I,g)}},m.unmount=function(){H(t,function(a){a.unmount()})},m}function qa(d,e,a,b){return Na(bb).init(d,e,a,b)}function ra(a){H(a,function(a){a.unmount?a.unmount(!0):a.tagName?a.tag.unmount(!0):a.unmount&&a.unmount()})}function sa(c,d,a){return Na(db).init(c,d,a)}function ta(e,a){var b=this,d=[];return s(e,function(f){var g,j,m=f.nodeType;if((a||f!==e)&&(3===m&&"STYLE"!==f.parentNode.tagName&&R.hasExpr(f.nodeValue)&&d.push({dom:f,expr:f.nodeValue}),1===m)){var n="VIRTUAL"===f.tagName;if(g=cb(f,"each"))return n&&S(f,"loopVirtual",!0),d.push(pa(f,b,g)),!1;if(g=cb(f,"if"))return d.push(sa(f,b,g)),!1;if((g=cb(f,"data-is"))&&R.hasExpr(g))return d.push({isRtag:!0,expr:g,dom:f,attrs:[].slice.call(f.attributes)}),!1;if(j=L(f),n&&(cb(f,"virtualized")&&f.parentElement.removeChild(f),j||cb(f,"virtualized")||cb(f,"loopVirtual")||(j={tmpl:f.outerHTML})),j&&(f!==e||a)){var k=cb(f,"data-is");if(!n||k)return k&&n&&K("Virtual tags shouldn't be used together with the \"data-is\" attribute - https://github.com/riot/riot/issues/2511"),d.push(Y(j,{root:f,parent:b},f.innerHTML,b)),!1;S(f,"virtualized",!0);var l=wa({tmpl:f.outerHTML},{root:f,parent:b},f.innerHTML);d.push(l)}ua.apply(b,[f,f.attributes,function(b,c){c&&d.push(c)}])}}),d}function ua(c,e,g){var b=this;H(e,function(d){if(!d)return!1;var f,h=d.name,i=z(h);F(Ia,h)&&"yield"!==c.tagName.toLowerCase()?f=qa(c,b,h,d.value):R.hasExpr(d.value)&&(f={dom:c,expr:d.value,attr:h,bool:i}),g(d,f)})}function va(d){var e=this.__,a=e.isAnonymous,b=e.skipAnonymous;G(this,"isMounted",d),a&&b||(d?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function wa(b,g,h){void 0===b&&(b={}),void 0===g&&(g={});var j,n=g.context||{},r=g.opts||{},s=g.parent,v=g.isLoop,z=!!g.isAnonymous,A=P.skipAnonymousTags&&z,a=g.item,u=g.index,l=b.tmpl,c=[],B=g.root,w=g.tagName||M(B),d="virtual"===w,y=!d&&!l;return j=y||v&&z?B:(d||(B.innerHTML=""),N(l,h,x(B))),A||lb(n),b.name&&B._tag&&B._tag.unmount(!0),G(n,"__",{impl:b,root:B,skipAnonymous:A,implAttrs:[],isAnonymous:z,instAttrs:[],innerHTML:h,tagName:w,index:u,isLoop:v,isInline:y,item:a,parent:s,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",V()],["root",B],["opts",r,{writable:!0,enumerable:!0}],["parent",s||null],["tags",{}],["refs",{}],["update",function(d){return e=d,f=c,g=(a=n).__,h={},p=a.isMounted&&!g.skipAnonymous,g.isAnonymous&&g.parent&&Ma(a,g.parent),Ma(a,e),da.apply(a,[g.isLoop,g.parent,g.isAnonymous,h,g.instAttrs]),p&&a.isMounted&&o(a.shouldUpdate)&&!a.shouldUpdate(e,h)||(Ma(a.opts,h),p&&a.trigger("update",e),ca.call(a,f),p&&a.trigger("updated")),a;var a,e,f,g,h,p}],["mixin",function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return function(d){for(var c=[],b=arguments.length-1;0<b--;)c[b]=arguments[b+1];return H(c,function(a){var f,c,g=[],h=["init","__proto__"];a=D(a)?ia(a):a,f=o(a)?new a:a;for(var i=Object.getPrototypeOf(f);g=g.concat(Object.getOwnPropertyNames(c||f)),c=Object.getPrototypeOf(c||f););H(g,function(e){if(!F(h,e)){var b=t(f,e)||t(i,e),a=b&&(b.get||b.set);!d.hasOwnProperty(e)&&a?Object.defineProperty(d,e,b):d[e]=o(f[e])?f[e].bind(d):f[e]}}),f.init&&f.init.bind(d)(d.opts)}),d}.apply(void 0,[n].concat(b))}],["mount",function(){return function(j,h,k,b){var d=j.__,c=d.root;c._tag=j,ua.apply(d.parent,[c,c.attributes,function(c,b){!d.isAnonymous&&bb.isPrototypeOf(b)&&(b.tag=j),c.expr=b,d.instAttrs.push(c)}]),p(d.impl.attrs,function(b,c){d.implAttrs.push({name:b,value:c})}),ua.apply(j,[c,d.implAttrs,function(b,d){d?k.push(d):S(c,b.name,b.value)}]),da.apply(j,[d.isLoop,d.parent,d.isAnonymous,b,d.instAttrs]);var e=ia("__global_mixin");if(e&&!d.skipAnonymous)for(var f in e)e.hasOwnProperty(f)&&j.mixin(e[f]);if(d.impl.fn&&d.impl.fn.call(j,b),d.skipAnonymous||j.trigger("before-mount"),H(ta.apply(j,[h,d.isAnonymous]),function(a){return k.push(a)}),j.update(d.item),!d.isAnonymous&&!d.isInline)for(;h.firstChild;)c.appendChild(h.firstChild);if(G(j,"root",c),!d.skipAnonymous&&j.parent){var g=O(j.parent);g.one(g.isMounted?"updated":"mount",function(){va.call(j,!0)})}else va.call(j,!0);return j.__.wasCreated=!0,j}(n,j,c,r)}],["unmount",function(a){return function(j,a,b){var c=j.__,d=c.root,e=Ca.indexOf(j),f=d.parentNode;if(c.skipAnonymous||j.trigger("before-unmount"),p(c.impl.attrs,function(a){i(a,"riot-")&&(a=a.slice(5)),q(d,a)}),j.__.listeners.forEach(function(b){Object.keys(b["__riot-events__"]).forEach(function(c){b.removeEventListener(c,b["__riot-events__"][c])})}),-1!==e&&Ca.splice(e,1),c.parent&&!c.isAnonymous){var g=O(c.parent);c.isVirtual?Object.keys(j.tags).forEach(function(b){return Z(g.tags,b,j.tags[b])}):Z(g.tags,c.tagName,j)}return j.__.virts&&H(j.__.virts,function(a){a.parentNode&&a.parentNode.removeChild(a)}),ra(b),H(c.instAttrs,function(a){return a.expr&&a.expr.unmount&&a.expr.unmount()}),a?m(d,""):f&&f.removeChild(d),c.onUnmount&&c.onUnmount(),j.isMounted||va.call(j,!0),va.call(j,!1),delete d._tag,j}(n,a,c)}]].reduce(function(e,f){var a=f[0],b=f[1],c=f[2];return G(n,a,b,c),e},Ma(n,a))}function xa(f,i,b,c){var d,k=Da[i],l=Da[i]["class"],g=c||(l?Na(l.prototype):{}),h=f._innerHTML=f._innerHTML||f.innerHTML,a=Ma({root:f,opts:b,context:g},{parent:b?b.parent:null});return k&&f&&(d=wa(k,a,h)),d&&d.mount&&(d.mount(!0),F(Ca,d)||Ca.push(d)),d}var ya,za,Aa,Ba,Ca=[],Da={},Ia=["ref","data-ref"],Ja=/^xlink:(\w+)/,y="undefined"===("undefined"==typeof window?"undefined":_typeof(window))?void 0:window,u=/^on/,g=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Ka={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},v=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,Pa=0|(y&&y.document||{}).documentMode,$={},k=!1;y&&(Aa=n("style"),Ba=j("style[type=riot]"),S(Aa,"type","text/css"),Ba?(Ba.id&&(Aa.id=Ba.id),Ba.parentNode.replaceChild(Aa,Ba)):document.head.appendChild(Aa),za=(ya=Aa).styleSheet);var b,kb={styleNode:ya,add:function add(b,c){$[c]=b,k=!0},inject:function inject(){if(y&&k){k=!1;var a=Object.keys($).map(function(a){return $[a]}).join("\n");za?za.cssText=a:ya.innerHTML=a}},remove:function remove(a){delete $[a],k=!0}},Qa=function(){function g(b,c){for(;0<=--c&&/\s/.test(b[c]););return c}var e=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],b=e.reduce(function(b,c){return b+c.slice(-1)},""),a=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,d=/[$\w]/;return function(f,c){var j=/.*/g,m=j.lastIndex=c++,n=j.exec(f)[0].match(a);if(n){var o=m+n[0].length,k=f[m=g(f,m)];if(0>m||~"[{(,;:?=|&!^~>%*/".indexOf(k))return o;if("."===k)"."===f[m-1]&&(c=o);else if("+"===k||"-"===k)(f[--m]!==k||0>(m=g(f,m))||!d.test(f[m]))&&(c=o);else if(~b.indexOf(k)){for(var i=m+1;0<=--m&&d.test(f[m]););~e.indexOf(f.slice(m+1,i))&&(c=o)}}return c}}(),Ra=function(){function g(a){return a}function c(b,c){return c||(c=v),new RegExp(b.source.replace(/{/g,c[2]).replace(/}/g,c[3]),b.global?"g":"")}function j(a){if("{ }"===a)return o;var d=a.split(" ");if(2!==d.length||l.test(a))throw new Error("Unsupported brackets \""+a+"\"");return(d=d.concat(a.replace(i,"\\").split(" ")))[4]=c(1<d[1].length?/{[\S\s]*?}/:o[4],d),d[5]=c(3<a.length?/\\({|})/g:o[5],d),d[6]=c(o[6],d),d[7]=RegExp("\\\\("+d[3]+")|([[({])|("+d[3]+")|"+m,"g"),d[8]=a,d}function b(a){return a instanceof RegExp?e(a):v[a]}function k(a){(a||(a="{ }"))!==v[8]&&(v=j(a),e="{ }"===a?g:c,v[9]=e(o[9])),r=a}var e,n,r,d=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,s=d.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,l=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,i=/(?=[[\]()*+?.^$|])/g,m=d.source+"|"+/(\/)(?![*\/])/.source,a={"(":RegExp("([()])|"+m,"g"),"[":RegExp("([[\\]])|"+m,"g"),"{":RegExp("([{}])|"+m,"g")},o=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+m,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],v=[];return b.split=function(h,e,b){function i(a){w&&(a=w+a,w=""),e||o?y.push(a&&a.replace(b[5],"$1")):y.push(a)}function l(b,c,d){return d&&(c=Qa(h,b)),e&&b+2<c&&(t="\u2057"+z.length+"~",z.push(h.slice(b,c)),w+=h.slice(p,b)+t,p=c),c}b||(b=v);var f,o,p,r,t,x,y=[],s=b[6],z=[],w="";for(o=p=s.lastIndex=0;f=s.exec(h);){if(x=s.lastIndex,r=f.index,o){if(f[2]){var A=f[2],C=a[A],D=1;for(C.lastIndex=x;f=C.exec(h);)if(!f[1])C.lastIndex=l(f.index,C.lastIndex,f[2]);else if(f[1]===A)++D;else if(! --D)break;s.lastIndex=D?h.length:C.lastIndex;continue}if(!f[3]){s.lastIndex=l(r,x,f[4]);continue}}f[1]||(i(h.slice(p,r)),p=s.lastIndex,(s=b[6+(o^=1)]).lastIndex=p)}return h&&p<h.length&&i(h.slice(p)),y.qblocks=z,y},b.hasExpr=function(a){return v[4].test(a)},b.loopKeys=function(b){var c=b.match(v[9]);return c?{key:c[1],pos:c[2],val:v[0]+c[3].trim()+v[1]}:{val:b.trim()}},b.array=function(a){return a?j(a):v},Object.defineProperty(b,"settings",{set:function set(a){var b;b=(a=a||{}).brackets,Object.defineProperty(a,"brackets",{set:k,get:function get(){return r},enumerable:!0}),n=a,k(b)},get:function get(){return n}}),b.settings="undefined"!=typeof riot&&riot.settings||{},b.set=k,b.skipRegex=Qa,b.R_STRINGS=d,b.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,b.S_QBLOCKS=s,b.S_QBLOCK2=m,b}(),R=function(){function c(b,d){return b?(f[b]||(f[b]=function(b){var c=function(c){var a,e=Ra.split(c.replace(i,"\""),1),h=e.qblocks;if(2<e.length||e[0]){var d,j,k=[];for(d=j=0;d<e.length;++d)(a=e[d])&&(a=1&d?p(a,1,h):"\""+a.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,"\\\"")+"\"")&&(k[j++]=a);a=2>j?k[0]:"["+k.join(",")+"].join(\"\")"}else a=p(e[1],0,h);return h.length&&(a=a.replace(g,function(b,c){return h[c].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),a}(b);return"try{return "!==c.slice(0,11)&&(c="return "+c),new Function("E",c+";")}(b))).call(d,function(d,b){d.riotData={tagName:b&&b.__&&b.__.tagName,_riot_id:b&&b._riot_id},c.errorHandler?c.errorHandler(d):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(d.message),console.log("<%s> %s",d.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}.bind({data:d,tmpl:b})):b}function p(k,b,h){function d(c,b){var a,e=1,f=j[c];for(f.lastIndex=b.lastIndex;a=f.exec(k);)if(a[0]===c)++e;else if(! --e)break;b.lastIndex=e?k.length:f.lastIndex}if(k=k.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var e,l=[],g=0;k&&(e=k.match(a))&&!e.index;){var n,p,q=/,|([[{(])|$/g;for(k=RegExp.rightContext,n=e[2]?h[e[2]].slice(1,-1).trim().replace(/\s+/g," "):e[1];p=(e=q.exec(k))[1];)d(p,q);p=k.slice(0,e.index),k=RegExp.rightContext,l[g++]=m(p,1,n)}k=g?1<g?"["+l.join(",")+"].join(\" \").trim()":l[0]:m(k,b)}return k}function m(b,f,g){var l;return b=b.replace(e,function(a,e,g,b,h){return g&&(b=l?0:b+a.length,"this"!==g&&"global"!==g&&"window"!==g?(a=e+"(\""+g+d+g,b&&(l="."===(h=h[b])||"("===h||"["===h)):b&&(l=!k.test(h.slice(b)))),a}),l&&(b="try{return "+b+"}catch(e){E(e,this)}"),g?b=(l?"function(){"+b+"}.call(this)":"("+b+")")+"?\""+g+"\":\"\"":f&&(b="function(v){"+(l?b.replace("return ","v="):"v=("+b+")")+";return v||v===0?v:\"\"}.call(this)"),b}var f={};c.hasExpr=Ra.hasExpr,c.loopKeys=Ra.loopKeys,c.clearCache=function(){f={}},c.errorHandler=null;var i=/\u2057/g,g=/\u2057(\d+)~/g,a=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,j={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},d="\"in this?this:"+("object"==("undefined"==typeof window?"undefined":_typeof(window))?"window":"global")+").",e=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,k=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return c.version=Ra.version="v3.0.8",c}(),lb=function(e){e=e||{};var g={},h=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function value(c,b){return"function"==typeof b&&(g[c]=g[c]||[]).push(b),e},enumerable:!1,writable:!1,configurable:!1},off:{value:function value(h,b){if(!("*"!=h||b))g={};else if(b)for(var a,i=g[h],d=0;a=i&&i[d];++d)a==b&&i.splice(d--,1);else delete g[h];return e},enumerable:!1,writable:!1,configurable:!1},one:{value:function value(d,b){return e.on(d,function a(){e.off(d,a),b.apply(e,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function value(a){var b,k,l,m=arguments,n=arguments.length-1,j=Array(n);for(l=0;l<n;l++)j[l]=m[l+1];for(b=h.call(g[a]||[],0),l=0;k=b[l];++l)k.apply(e,j);return g["*"]&&"*"!=a&&e.trigger.apply(e,["*",a].concat(j)),e},enumerable:!1,writable:!1,configurable:!1}}),e},P=Ma(Na(Ra.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0}),U=Object.freeze({$$:I,$:j,createDOMPlaceholder:Oa,mkEl:n,setAttr:S,toggleVisibility:l,getAttr:cb,remAttr:q,setInnerHTML:m,walkAttrs:p,createFrag:jb,safeInsert:h,styleObjectToString:a,walkNodes:s}),B=Object.freeze({isBlank:f,isFunction:o,isObject:C,isSvg:x,isWritable:d,isArray:r,isBoolAttr:z,isNil:c,isString:D,isUndefined:La}),V=(b=-1,function(){return++b}),W=Object.freeze({contains:F,each:H,getPropDescriptor:t,startsWith:i,uid:V,defineProperty:G,objectCreate:Na,extend:Ma,toCamel:J,warn:K}),Sa=/<yield\b/i,Ta=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,Ua=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,Va=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Wa={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},Xa=Pa&&10>Pa?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Ya=/^on/,Za={},$a=Za.__global_mixin={},_a=0,mb=Object.freeze({Tag:fa,tag:ga,tag2:ha,mount:e,mixin:ia,update:ja,unregister:ka,version:"v3.13.2"}),bb={init:function init(d,e,a,b){return this.dom=d,this.attr=a,this.rawValue=b,this.parent=e,this.hasExp=R.hasExpr(b),this},update:function update(){var c=this.value,d=this.parent&&O(this.parent),a=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?R(this.rawValue,this.parent):this.rawValue,!f(c)&&d&&Z(d.refs,c,a),!f(this.value)&&D(this.value)?(d&&T(d.refs,this.value,a,null,this.parent.__.index),this.value!==c&&S(this.dom,this.attr,this.value)):q(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=a)},unmount:function unmount(){var b=this.tag||this.dom,c=this.parent&&O(this.parent);!f(this.value)&&c&&Z(c.refs,this.value,b)}},db={init:function init(d,e,a){q(d,"if"),Ma(this,{tag:e,expr:a,stub:Oa(),pristine:d});var b=d.parentNode;return b.insertBefore(this.stub,d),b.removeChild(d),this},update:function update(){this.value=R(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=ta.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&ca.call(this.tag,this.expressions))},unmount:function unmount(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),ra(this.expressions||[])}},eb=Object.freeze({arrayishAdd:T,getTagName:M,inheritParentProps:Q,mountTo:xa,selectTags:ea,arrayishRemove:Z,getTag:L,initChildTag:Y,moveChildTag:la,makeReplaceVirtual:aa,getImmediateCustomParentTag:O,makeVirtual:_,moveVirtual:ma,unmountAll:ra,createIfDirective:sa,createRefDirective:qa}),fb=P,gb={tmpl:R,brackets:Ra,styleManager:kb,vdom:Ca,styleNode:kb.styleNode,dom:U,check:B,misc:W,tags:eb},hb=Ma({},mb,{observable:lb,settings:fb,util:gb});E.settings=fb,E.util=gb,E.Tag=fa,E.tag=ga,E.tag2=ha,E.mount=e,E.mixin=ia,E.update=ja,E.unregister=ka,E.version="v3.13.2",E.observable=lb,E["default"]=hb,Object.defineProperty(E,"__esModule",{value:!0})},"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.riot={});