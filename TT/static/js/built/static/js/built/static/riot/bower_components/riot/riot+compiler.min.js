"use strict";function _typeof2(a){return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof2(a)}function _typeof(b){return _typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(b){return _typeof2(b)}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":_typeof2(b)},_typeof(b)}var e,t;e=void 0,t=function(){"use strict";function e(c,a){return(a||document).querySelector(c)}function r(b){return"svg"===b?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b)}function t(e,a,b){var c=x.exec(a);c&&c[1]?e.setAttributeNS("http://www.w3.org/1999/xlink",c[1],b):e.setAttribute(a,b)}function I(c,a){return Object.getOwnPropertyDescriptor(c,a)}function T(b){return"undefined"===_typeof(b)}function fc(c,a){var b=I(c,a);return T(c[a])||b&&b.writable}function gc(g){for(var a,h=1,i=arguments,d=i.length;h<d;h++)if(a=i[h])for(var e in a)fc(g,e)&&(g[e]=a[e]);return g}function B(b){return Object.create(b)}function q(c,a){return[].slice.call((a||document).querySelectorAll(c))}function h(){return document.createTextNode("")}function a(c,a){c.style.display=a?"":"none",c.hidden=!a}function D(c,a){return c.getAttribute(a)}function l(c,a){c.removeAttribute(a)}function k(e,a,b){if(b){var c=e.ownerDocument.importNode(new DOMParser().parseFromString("<svg xmlns=\"http://www.w3.org/2000/svg\">"+a+"</svg>","application/xml").documentElement,!0);e.appendChild(c)}else e.innerHTML=a}function m(d,a){if(d)for(var b;b=v.exec(d);)a(b[1].toLowerCase(),b[2]||b[3]||b[4])}function p(){return document.createDocumentFragment()}function d(d,a,b){d.insertBefore(a,b.parentNode&&b)}function s(d){return Object.keys(d).reduce(function(a,b){return a+" "+b+": "+d[b]+";"},"")}function c(e,g,b){if(e){var h,i=g(e,b);if(!1===i)return;for(e=e.firstChild;e;)h=e.nextSibling,c(e,g,i),e=h}}function b(b){return T(b)||null===b}function o(c){return b(c)||""===c}function E(b){return"function"===_typeof(b)}function y(b){return b&&"object"===_typeof(b)}function n(c){var a=c.ownerSVGElement;return!!a||null===a}function H(b){return Array.isArray(b)||b instanceof Array}function i(b){return w.test(b)}function hc(b){return"string"===_typeof(b)}function J(c,a){return-1!==c.indexOf(a)}function U(e,a){for(var b=e?e.length:0,c=0;c<b;c++)a(e[c],c);return e}function G(c,a){return c.slice(0,a.length)===a}function K(e,a,b,c){return Object.defineProperty(e,a,gc({value:b,enumerable:!1,writable:!1,configurable:!0},c)),e}function N(b){return b.replace(/-(\w)/g,function(c,a){return a.toUpperCase()})}function O(b){console&&console.warn&&console.warn(b)}function V(f,b,c,d,e){var g=f[b],h=H(g),i=!T(e);if(!g||g!==c)if(!g&&d)f[b]=[c];else if(!g)f[b]=c;else if(h){var j=g.indexOf(c);if(j===e)return;-1!==j&&g.splice(j,1),i?g.splice(e,0,c):g.push(c)}else f[b]=[g,c]}function Q(b){return b.tagName&&Ya[D(b,"data-is")||D(b,"data-is")||b.tagName.toLowerCase()]}function S(e,a){var b=Q(e),c=!a&&D(e,"data-is");return c&&!jc.hasExpr(c)?c:b?b.name:e.tagName.toLowerCase()}function W(){return this.parent?gc(B(this),this.parent):this}function X(a,b,d){var f=a&&a.match(/^\s*<([-\w]+)/),g=f&&f[1].toLowerCase(),h=r(d?"svg":"div");return a=function(d,e){if(!jb.test(d))return d;var f={};return e=e&&e.replace(lb,function(c,a,b){return f[a]=f[a]||b,""}).trim(),d.replace(mb,function(c,a,b){return f[a]||b||""}).replace(kb,function(b,a){return e||a||""})}(a,b),ob.test(g)?h=function(a,b,c){var d="o"===c[0],h=d?"select>":"table>";if(a.innerHTML="<"+h+b.trim()+"</"+h,h=a.firstChild,d)h.selectedIndex=-1;else{var i=nb[c];i&&1===h.childElementCount&&(h=e(i,h))}return h}(h,a,g):k(h,a,d),h}function Y(c){for(var a=c;a.__.isAnonymous&&a.parent;)a=a.parent;return a}function f(h,a,b,c){var d,i=function(g,a,b){var c=this.__.parent,h=this.__.item;if(!h)for(;c&&!h;)h=c.__.item,c=c.__.parent;if(fc(b,"currentTarget")&&(b.currentTarget=g),fc(b,"target")&&(b.target=b.srcElement),fc(b,"which")&&(b.which=b.charCode||b.keyCode),b.item=h,a.call(this,b),ib.autoUpdate&&!b.preventUpdate){var i=Y(this);i.isMounted&&i.update()}}.bind(c,b,a);b[h]=null,d=h.replace(g,""),J(c.__.listeners,b)||c.__.listeners.push(b),b["__riot-events__"]||(b["__riot-events__"]={}),b["__riot-events__"][h]&&b.removeEventListener(d,b["__riot-events__"][h]),b["__riot-events__"][h]=i,b.addEventListener(d,i,!1)}function aa(h,a,b,c){var d=Aa(h,a,b),e=a.tagName||S(a.root,!0),f=Y(c);return K(d,"parent",f),d.__.parent=c,V(f.tags,e,d),f!==c&&V(c.tags,e,d),d}function ba(f,a,b,c){if(H(f[a])){var d=f[a].indexOf(b);-1!==d&&f[a].splice(d,1),f[a].length?1!==f[a].length||c||(f[a]=f[a][0]):delete f[a]}else f[a]===b&&delete f[a]}function ca(i,a){var b,j,k=h(),e=h(),f=p();for(this.root.insertBefore(k,this.root.firstChild),this.root.appendChild(e),this.__.head=j=k,this.__.tail=e;j;)b=j.nextSibling,f.appendChild(j),this.__.virts.push(j),j=b;a?i.insertBefore(f,a.__.head):i.appendChild(f)}function da(d,a){if(a.parentNode){var b=p();ca.call(d,b),a.parentNode.replaceChild(b,a)}}function ea(d){if(!this.root||!D(this.root,"virtualized")){var g,j,m=d.dom,q=(g=d.attr)?(g=g.replace("riot-",""),$a[g]&&(g=$a[g]),g):null,n=J(["show","hide"],q),i=d.root&&"VIRTUAL"===d.root.tagName,r=this.__.isAnonymous,v=m&&(d.parent||m.parentNode),x=ib.keepValueAttributes,u="style"===q,z="class"===q,c="value"===q;if(d._riot_id)d.__.wasCreated?d.update():(d.mount(),i&&da(d,d.root));else{if(d.update)return d.update();var p,A,B,F,G,K,P,R=n&&!r?W.call(this):this,O=!o(j=jc(d.expr,R)),b=y(j);if(b&&(z?j=jc(JSON.stringify(j),this):u&&(j=s(j))),!d.attr||d.wasParsedOnce&&!1!==j&&(O||c&&(!c||x))||l(m,D(m,d.attr)?d.attr:q),d.bool&&(j=!!j&&q),d.isRtag)return A=this,B=j,G=(p=d).tag||p.dom._tag,K=(G?G.__:{}).head,P="VIRTUAL"===p.dom.tagName,void(G&&p.tagName===B?G.update():(G&&(P&&(F=h(),K.parentNode.insertBefore(F,K)),G.unmount(!0)),hc(B)&&(p.impl=Ya[B],p.impl&&(p.tag=G=aa(p.impl,{root:p.dom,parent:A,tagName:B},p.dom.innerHTML,A),U(p.attrs,function(b){return t(G.root,b.name,b.value)}),p.tagName=B,G.mount(),P&&da(G,F||G.root),A.__.onUnmount=function(){var b=G.opts.dataIs;ba(G.parent.tags,b,G),ba(G.__.parent.tags,b,G),G.unmount()}))));if((!d.wasParsedOnce||d.value!==j)&&(d.value=j,d.wasParsedOnce=!0,!b||z||u||n)){if(O||(j=""),!q)return j+="",void(v&&("TEXTAREA"===(d.parent=v).tagName?(v.value=j,C||(m.nodeValue=j)):m.nodeValue=j));switch(!0){case E(j):w=q,pb.test(w)&&f(q,j,m,this);break;case n:a(m,"hide"===q?!j:j);break;default:d.bool&&(m[q]=j),c&&m.value!==j?m.value=j:O&&!1!==j&&t(m,q,j),u&&m.hidden&&a(m,!1);}var w}}}}function fa(b){U(b,ea.bind(this))}function ga(g,a,b,c,d){if(!g||!b){var e=g?W.call(this):a||this;U(d,function(b){b.expr&&ea.call(e,b.expr),c[N(b.name).replace("riot-","")]=b.expr?b.expr.value:b.value})}}function ha(c){if(c)return c.filter(function(b){return!/[^-\w]/.test(b)}).reduce(function(d,a){var b=a.trim().toLowerCase();return d+",[data-is=\""+b+"\"]"},"");var a=Object.keys(Ya);return a+ha(a)}function ia(a,b){var c=this,d=c.name,e=c.tmpl,f=c.css,g=c.attrs,h=c.onCreate;return Ya[d]||(ja(d,e,f,g,h),Ya[d]["class"]=this.constructor),Ba(a,d,b,this),f&&ic.inject(),this}function ja(e,g,b,h,i){return E(h)&&(i=h,/^[\w-]+\s?=/.test(b)?(h=b,b=""):h=""),b&&(E(b)?i=b:ic.add(b,e)),e=e.toLowerCase(),Ya[e]={name:e,tmpl:g,attrs:h,fn:i},e}function ka(f,a,b,c,d){return b&&ic.add(b,f),Ya[f]={name:f,tmpl:a,attrs:c,fn:d},f}function la(d,i,k){var e,l,m=[];if(ic.inject(),(y(i)||E(i))&&(k=i,i=0),e=hc(d)?(d="*"===d?l=ha():d+ha(d.split(/, */)))?q(d):[]:d,"*"===i){if(i=l||ha(),e.tagName)e=q(i,e);else{var h=[];U(e,function(b){return h.push(q(i,b))}),e=h}i=0}return function b(a){if(a.tagName){var c,d=D(a,"data-is");i&&d!==i&&t(a,"data-is",d=i),(c=Ba(a,d||a.tagName.toLowerCase(),E(k)?k():k))&&m.push(c)}else a.length&&U(a,b)}(e),m}function ma(e,a,b){if(y(e))ma("__"+sb++ +"__",e,!0);else{var c=b?rb:qb;if(!a){if(T(c[e]))throw new Error("Unregistered mixin: "+e);return c[e]}c[e]=E(a)?gc(a.prototype,c[e]||{})&&a:gc(c[e]||{},a)}}function na(){return U(Xa,function(b){return b.update()})}function oa(b){return ic.remove(b),delete Ya[b]}function pa(e,a){var b,f=this.parent;f&&(H(b=f.tags[e])?b.splice(a,0,b.splice(b.indexOf(this),1)[0]):V(f.tags,e,this))}function qa(f,a){for(var b,g=this.__.head,h=p();g;)if(b=g.nextSibling,h.appendChild(g),(g=b)===this.__.tail){h.appendChild(g),f.insertBefore(h,a.__.head);break}}function ra(e,a,b){var c={};return c[e.key]=a,e.pos&&(c[e.pos]=b),c}function sa(c,a){c.splice(a,1),this.unmount(),ba(this.parent,this,this.__.tagName,!0)}function ta(b,i,m){var e="string"!==_typeof(D(b,"no-reorder"))||l(b,"no-reorder"),o=D(b,"key"),q=!!o&&jc.hasExpr(o),s=S(b),j=Ya[s],f=b.parentNode,a=h(),k=Q(b),t=D(b,"if"),w=[],z=b.innerHTML,C=!Ya[s],E="VIRTUAL"===b.tagName,F=[];return l(b,"each"),l(b,"key"),(m=jc.loopKeys(m)).isLoop=!0,t&&l(b,"if"),f.insertBefore(a,b),f.removeChild(b),m.update=function(){m.value=jc(m.val,i);var A=m.value,I=p(),G=!H(A)&&!hc(A),v=a.parentNode,x=[],y=G&&!!A;if(v){G&&(A=A?Object.keys(A).map(function(b){return ra(m,A[b],b)}):[]);var K=0;U(A,function(a,g){var D=g-K,H=!y&&m.key?ra(m,a,g):a;if(!t||jc(t,gc(B(i),H))){var r,L,M,N,O=(L=a,M=H,N=q,(r=o)?N?jc(r,M):L[r]:L),S=!G&&e&&"object"===_typeof(a)||o,u=F.indexOf(O),l=-1===u,c=!l&&S?u:D,p=w[c],W=D>=F.length,T=S&&l||!S&&!p||!w[D];T?((p=Aa(j,{parent:i,isLoop:!0,isAnonymous:C,tagName:s,root:b.cloneNode(C),item:H,index:D},z)).mount(),W?function(c,a){a?ca.call(this,c):c.appendChild(this.root)}.apply(p,[I||v,E]):function(e,a,b){b?ca.apply(this,[e,a]):d(e,this.root,a.root)}.apply(p,[v,w[D],E]),W||F.splice(D,0,H),w.splice(D,0,p),k&&V(i.tags,s,p,!0)):c!==D&&S&&((o||J(A,F[c]))&&(function(e,a,b){b?qa.apply(this,[e,a]):d(e,this.root,a.root)}.apply(p,[v,w[D],E]),w.splice(D,0,w.splice(c,1)[0]),F.splice(D,0,F.splice(c,1)[0])),m.pos&&(p[m.pos]=D),!k&&p.tags&&function(d){var a=this;U(Object.keys(this.tags),function(b){pa.apply(a.tags[b],[b,d])})}.call(p,D)),gc(p.__,{item:H,index:D,parent:i}),x[D]=O,T||p.update(H)}else K++}),function(f,a,b){for(var c=a.length,g=f.length-b;g<c;)sa.apply(a[--c],[a,c])}(A,w,K),F=x.slice(),v.insertBefore(I,a)}},m.unmount=function(){U(w,function(b){b.unmount()})},m}function ua(e,a,b,c){return B(vb).init(e,a,b,c)}function va(b){U(b,function(b){b.unmount?b.unmount(!0):b.tagName?b.tag.unmount(!0):b.unmount&&b.unmount()})}function wa(d,a,b){return B(wb).init(d,a,b)}function xa(d,b){var a=this,f=[];return c(d,function(g){var c,m,n=g.nodeType;if((b||g!==d)&&(3===n&&"STYLE"!==g.parentNode.tagName&&jc.hasExpr(g.nodeValue)&&f.push({dom:g,expr:g.nodeValue}),1===n)){var j="VIRTUAL"===g.tagName;if(c=D(g,"each"))return j&&t(g,"loopVirtual",!0),f.push(ta(g,a,c)),!1;if(c=D(g,"if"))return f.push(wa(g,a,c)),!1;if((c=D(g,"data-is"))&&jc.hasExpr(c))return f.push({isRtag:!0,expr:c,dom:g,attrs:[].slice.call(g.attributes)}),!1;if(m=Q(g),j&&(D(g,"virtualized")&&g.parentElement.removeChild(g),m||D(g,"virtualized")||D(g,"loopVirtual")||(m={tmpl:g.outerHTML})),m&&(g!==d||b)){var k=D(g,"data-is");if(!j||k)return k&&j&&O("Virtual tags shouldn't be used together with the \"data-is\" attribute - https://github.com/riot/riot/issues/2511"),f.push(aa(m,{root:g,parent:a},g.innerHTML,a)),!1;t(g,"virtualized",!0);var i=Aa({tmpl:g.outerHTML},{root:g,parent:a},g.innerHTML);f.push(i)}ya.apply(a,[g,g.attributes,function(c,a){a&&f.push(a)}])}}),f}function ya(h,a,j){var c=this;U(a,function(a){if(!a)return!1;var b,d=a.name,f=i(d);J(Za,d)&&"yield"!==h.tagName.toLowerCase()?b=ua(h,c,d,a.value):jc.hasExpr(a.value)&&(b={dom:h,expr:a.value,attr:d,bool:f}),j(a,b)})}function za(e){var a=this.__,b=a.isAnonymous,c=a.skipAnonymous;K(this,"isMounted",e),b&&c||(e?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function Aa(c,d,e){void 0===c&&(c={}),void 0===d&&(d={});var p,s=d.context||{},v=d.opts||{},a=d.parent,i=d.isLoop,o=!!d.isAnonymous,r=ib.skipAnonymousTags&&o,u=d.item,w=d.index,x=c.tmpl,y=[],f=d.root,z=d.tagName||S(f),h="virtual"===z,A=!h&&!x;return p=A||i&&o?f:(h||(f.innerHTML=""),X(x,e,n(f))),r||M(s),c.name&&f._tag&&f._tag.unmount(!0),K(s,"__",{impl:c,root:f,skipAnonymous:r,implAttrs:[],isAnonymous:o,instAttrs:[],innerHTML:e,tagName:z,index:w,isLoop:i,isInline:A,item:u,parent:a,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",Z()],["root",f],["opts",v,{writable:!0,enumerable:!0}],["parent",a||null],["tags",{}],["refs",{}],["update",function(f){return i=f,j=y,k=(a=s).__,l={},m=a.isMounted&&!k.skipAnonymous,k.isAnonymous&&k.parent&&gc(a,k.parent),gc(a,i),ga.apply(a,[k.isLoop,k.parent,k.isAnonymous,l,k.instAttrs]),m&&a.isMounted&&E(a.shouldUpdate)&&!a.shouldUpdate(i,l)||(gc(a.opts,l),m&&a.trigger("update",i),fa.call(a,j),m&&a.trigger("updated")),a;var a,i,j,k,l,m}],["mixin",function(){for(var c=[],a=arguments.length;a--;)c[a]=arguments[a];return function(c){for(var a=[],b=arguments.length-1;0<b--;)a[b]=arguments[b+1];return U(a,function(a){var j,e,k=[],l=["init","__proto__"];a=hc(a)?ma(a):a,j=E(a)?new a:a;for(var h=Object.getPrototypeOf(j);k=k.concat(Object.getOwnPropertyNames(e||j)),e=Object.getPrototypeOf(e||j););U(k,function(a){if(!J(l,a)){var b=I(j,a)||I(h,a),d=b&&(b.get||b.set);!c.hasOwnProperty(a)&&d?Object.defineProperty(c,a,b):c[a]=E(j[a])?j[a].bind(c):j[a]}}),j.init&&j.init.bind(c)(c.opts)}),c}.apply(void 0,[s].concat(c))}],["mount",function(){return function(d,b,c,f){var e=d.__,g=e.root;g._tag=d,ya.apply(e.parent,[g,g.attributes,function(b,a){!e.isAnonymous&&vb.isPrototypeOf(a)&&(a.tag=d),b.expr=a,e.instAttrs.push(b)}]),m(e.impl.attrs,function(c,a){e.implAttrs.push({name:c,value:a})}),ya.apply(d,[g,e.implAttrs,function(d,a){a?c.push(a):t(g,d.name,d.value)}]),ga.apply(d,[e.isLoop,e.parent,e.isAnonymous,f,e.instAttrs]);var h=ma("__global_mixin");if(h&&!e.skipAnonymous)for(var i in h)h.hasOwnProperty(i)&&d.mixin(h[i]);if(e.impl.fn&&e.impl.fn.call(d,f),e.skipAnonymous||d.trigger("before-mount"),U(xa.apply(d,[b,e.isAnonymous]),function(b){return c.push(b)}),d.update(e.item),!e.isAnonymous&&!e.isInline)for(;b.firstChild;)g.appendChild(b.firstChild);if(K(d,"root",g),!e.skipAnonymous&&d.parent){var j=Y(d.parent);j.one(j.isMounted?"updated":"mount",function(){za.call(d,!0)})}else za.call(d,!0);return d.__.wasCreated=!0,d}(s,p,y,v)}],["unmount",function(b){return function(j,a,b){var c=j.__,d=c.root,e=Xa.indexOf(j),f=d.parentNode;if(c.skipAnonymous||j.trigger("before-unmount"),m(c.impl.attrs,function(b){G(b,"riot-")&&(b=b.slice(5)),l(d,b)}),j.__.listeners.forEach(function(c){Object.keys(c["__riot-events__"]).forEach(function(a){c.removeEventListener(a,c["__riot-events__"][a])})}),-1!==e&&Xa.splice(e,1),c.parent&&!c.isAnonymous){var g=Y(c.parent);c.isVirtual?Object.keys(j.tags).forEach(function(b){return ba(g.tags,b,j.tags[b])}):ba(g.tags,c.tagName,j)}return j.__.virts&&U(j.__.virts,function(b){b.parentNode&&b.parentNode.removeChild(b)}),va(b),U(c.instAttrs,function(b){return b.expr&&b.expr.unmount&&b.expr.unmount()}),a?k(d,""):f&&f.removeChild(d),c.onUnmount&&c.onUnmount(),j.isMounted||za.call(j,!0),za.call(j,!1),delete d._tag,j}(s,b,y)}]].reduce(function(f,a){var b=a[0],c=a[1],d=a[2];return K(s,b,c,d),f},gc(s,u))}function Ba(i,b,c,d){var e,l=Ya[b],g=Ya[b]["class"],h=d||(g?B(g.prototype):{}),j=i._innerHTML=i._innerHTML||i.innerHTML,a=gc({root:i,opts:c,context:h},{parent:c?c.parent:null});return l&&i&&(e=Aa(l,a,j)),e&&e.mount&&(e.mount(!0),J(Xa,e)||Xa.push(e)),e}function Ca(f){var a=arguments,b=f.source,g=f.global?"g":"";f.ignoreCase&&(g+="i"),f.multiline&&(g+="m");for(var h=1;h<arguments.length;h++)b=b.replace("@","\\"+a[h]);return new RegExp(b,g)}function Da(g,a,b){var c=/[`$\\]/g;for(c.lastIndex=a;c.exec(g);){var d=c.lastIndex,e=g[d-1];if("`"===e)return d;if("$"===e&&"{"===g[d])return b.push("`","}"),d+1;c.lastIndex++}throw new Error("Unclosed ES6 template")}function Ea(d){var e,f=Lb;for(1!==d.indexOf("\r")&&(d=d.replace(/\r\n?/g,"\n")),f.lastIndex=0;e=f.exec(d);)"<"===e[0][0]&&(d=RegExp.leftContext+RegExp.rightContext,f.lastIndex=e[3]+1);return d}function Fa(a,e){var c,i,l,m=[];for(Kb.lastIndex=0,a=a.replace(/\s+/g," ");c=Kb.exec(a);){var h=c[1].toLowerCase(),n=c[2];n?("\""!==n[0]&&(n="\""+("'"===n[0]?n.slice(1,-1):n)+"\""),"type"===h&&Rb.test(n)?i=n:(Ub.test(n)&&("value"==h&&(l=1),-1!==Ob.indexOf(h)&&(h="riot-"+h)),m.push(h+"="+n))):m.push(h)}return i&&(l&&(i="\""+e._bp[0]+"'"+i.slice(1,-1)+"'"+e._bp[1]+"\""),m.push("type="+i)),m.join(" ")}function Ga(a,e,c){var d=c._bp;if(a&&d[4].test(a)){for(var f,i=e.expr&&(e.parser||e.type)?Ka:0,h=R.split(a,0,d),j=1;j<h.length;j+=2)"^"===(f=h[j])[0]?f=f.slice(1):i&&";"===(f=i(f,e).trim()).slice(-1)&&(f=f.slice(0,-1)),h[j]="\x01#"+(c.push(f)-1)+d[1];a=h.join("")}return a}function Ha(c,d){return d.length&&(c=c.replace(Vb,function(b,a){return d._bp[0]+d[a].trim().replace(/[\r\n]+/g," ").replace(/"/g,"\u2057")})),c}function Ia(e,f,g){if(!/\S/.test(e))return"";if(e=Ga(e,f,g).replace(Mb,function(c,a,f,d){return a=a.toLowerCase(),d=d&&!Pb.test(a)?"></"+a:"",f&&(a+=" "+Fa(f,g)),"<"+a+d+">"}),!f.whitespace){var b=[];/<pre[\s>]/.test(e)&&(e=e.replace(Qb,function(c){return b.push(c),"\x02"})),e=e.trim().replace(/\s+/g," "),b.length&&(e=e.replace(/\u0002/g,function(){return b.shift()}))}return f.compact&&(e=e.replace(Nb,"><$1")),Ha(e,g).replace(Tb,"")}function Ja(e){function i(d){for(var a=/[{}]/g,b=1;b&&a.exec(d);)"{"===d[a.lastIndex-1]?++b:--b;return b?d.length:a.lastIndex}var d,l,n,o,q,r,s=[],m=RegExp,a=function(a,d){for(var e,g,h,i,n,o,r=new RegExp(Fb,"g"),s=R.skipRegex,u=0|d,l=[[]],c=[],p=r,w=p.lastIndex=u;o=p.exec(a);){if(i=o.index,n=p.lastIndex,g="",h=o[1]){if("{"===h)c.push("}");else if("}"===h){if(c.pop()!==h)throw new Error("Unexpected '}'");"`"===c[c.length-1]&&(h=c.pop())}else"/"===h&&i+1<(n=s(a,i))&&(g=a.slice(i,n));"`"===h&&(n=Da(a,n,c),g=a.slice(i,n),p=c.length?e||(e=new RegExp(Gb,"g")):r)}else"/"===(g=o[0])[0]?(g="*"===g[1]?" ":"",a=a.slice(u,i)+g+a.slice(n),n=i+g.length,g=""):2===g.length&&(g="");g&&(l[0].push(a.slice(w,i)),l.push(g),w=n),p.lastIndex=n}return l[0].push(a.slice(w)),l}(e);for(e=a.shift().join("<%>");d=e.match(Wb);)s.push(m.leftContext),n=i(e=m.rightContext),o=d[1],q=d[2]||"",r=d[3],r=(l=!/^(?:if|while|for|switch|catch|function)$/.test(r))?d[0].replace(o,"this."+r+" ="+q+" function"):d[0],s.push(r,e.slice(0,n)),e=e.slice(n),l&&!/^\s*.\s*bind\b/.test(e)&&s.push(".bind(this)");return s.length&&(e=s.join("")+e),a.length&&(e=e.replace(/<%>/g,function(){return a.shift()})),e}function Ka(f,a,b,g,d){return /\S/.test(f)?(b||(b=a.type),(a.parser||b&&Db._req("js."+b,!0)||Ja)(f,g,d).replace(/\r\n?/g,"\n").replace(Tb,"")):""}function La(e,h,b,c){var i,j;return(c=c||{},b)&&"css"!==b&&(e=Db._req("css."+b,!0)(h,e,c.parserOpts||{},c.url)),e=e.replace(R.R_MLCOMMS,"").replace(/\s+/g," ").trim(),h&&(i=h,j=":scope",e=e.replace(Xb,function(d,a,b){return b?(b=b.replace(/[^,]+/g,function(c){var a=c.trim();return 0===a.indexOf(i)?c:a&&"from"!==a&&"to"!==a&&"%"!==a.slice(-1)?a=0>a.indexOf(j)?i+" "+a+",[data-is=\""+i+"\"] "+a:a.replace(j,i)+","+a.replace(j,"[data-is=\""+i+"\"]"):c}),a?a+" "+b:b):d})),e}function Ma(c,d){return c?(c="'"+c.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'",d&&-1!==c.indexOf("\n")?c.replace(/\n/g,"\\n"):c):"''"}function Na(c){if(c){var a=c.match(Yb);if(a=a&&(a[2]||a[3]))return a.replace("text/","")}return""}function Oa(d,a){if(d){var b=d.match(RegExp("\\s"+a+Zb,"i"));if(b=b&&b[1])return /^['"]/.test(b)?b.slice(1,-1):b}return""}function Pa(c){var a=Oa(c,"options").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,"\"").replace(/&#039;/g,"'");return a?JSON.parse(a):null}function Qa(e,a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){4===c.readyState&&(200===c.status||!c.status&&c.responseText.length?a(c.responseText,b,e):Sa.error("\""+e+"\" not found"))},c.onerror=function(b){return Sa.error(b)},c.open("GET",e,!0),c.send("")}function Ra(b,e){if("string"===_typeof(b)){var c=r("script"),d=document.documentElement;e&&(b+="\n//# sourceURL="+e+".js"),c.text=b,d.appendChild(c),d.removeChild(c)}}function Sa(e,g,h){if("string"===_typeof(e)){if(y(g)&&(h=g,g=!1),/^\s*</m.test(e)){var a=cc.compile(e,h);return!0!==g&&Ra(a),E(g)&&g(a,e,h),a}Qa(e,function(b,a,c){var d=cc.compile(b,a,c);Ra(d,c),g&&g(d,b,a)},h)}else if(H(e)){var i=e.length;e.forEach(function(b){Qa(b,function(b,a,c){var d=cc.compile(b,a,c);Ra(d,c),! --i&&g&&g(d,b,a)},h)})}else{if(g=E(e)?(h=g,e):void(h=e),eb)return g&&g();db?g&&db.on("ready",g):(db=M(),function(k,b){function l(){db.trigger("ready"),eb=!0,k&&k()}function c(d,a,b){Ra(cc.compile(d,a,b),b),--e||l()}var d=q("script[type=\"riot/tag\"]"),e=d.length;if(e)for(var f=0;f<d.length;++f){var m=d[f],i=gc({template:D(m,"template")},b),a=D(m,"src")||D(m,"data-src");a?Qa(a,c,i):c(m.innerHTML,i)}else l()}(g,h))}}var Ta,Ua,Va,Wa,Xa=[],Ya={},Za=["ref","data-ref"],x=/^xlink:(\w+)/,u="undefined"===("undefined"==typeof window?"undefined":_typeof(window))?void 0:window,g=/^on/,v=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,$a={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},w=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,C=0|(u&&u.document||{}).documentMode,F={},j=!1;u&&(Va=r("style"),Wa=e("style[type=riot]"),t(Va,"type","text/css"),Wa?(Wa.id&&(Va.id=Wa.id),Wa.parentNode.replaceChild(Va,Wa)):document.head.appendChild(Va),Ua=(Ta=Va).styleSheet);var _,db,eb,ic={styleNode:Ta,add:function(c,a){F[a]=c,j=!0},inject:function(){if(u&&j){j=!1;var b=Object.keys(F).map(function(b){return F[b]}).join("\n");Ua?Ua.cssText=b:Ta.innerHTML=b}},remove:function(b){delete F[b],j=!0}},hb=function(){function a(c,a){for(;0<=--a&&/\s/.test(c[a]););return a}var b=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],d=b.reduce(function(c,a){return c+a.slice(-1)},""),f=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,e=/[$\w]/;return function(c,g){var h=/.*/g,j=h.lastIndex=g++,n=h.exec(c)[0].match(f);if(n){var l=j+n[0].length,i=c[j=a(c,j)];if(0>j||~"[{(,;:?=|&!^~>%*/".indexOf(i))return l;if("."===i)"."===c[j-1]&&(g=l);else if("+"===i||"-"===i)(c[--j]!==i||0>(j=a(c,j))||!e.test(c[j]))&&(g=l);else if(~d.indexOf(i)){for(var m=j+1;0<=--j&&e.test(c[j]););~b.indexOf(c.slice(j+1,m))&&(g=l)}}return g}}(),R=function(){function c(b){return b}function p(c,a){return a||(a=t),new RegExp(c.source.replace(/{/g,a[2]).replace(/}/g,a[3]),c.global?"g":"")}function b(a){if("{ }"===a)return o;var b=a.split(" ");if(2!==b.length||i.test(a))throw new Error("Unsupported brackets \""+a+"\"");return(b=b.concat(a.replace(m,"\\").split(" ")))[4]=p(1<b[1].length?/{[\S\s]*?}/:o[4],b),b[5]=p(3<a.length?/\\({|})/g:o[5],b),b[6]=p(o[6],b),b[7]=RegExp("\\\\("+b[3]+")|([[({])|("+b[3]+")|"+n,"g"),b[8]=a,b}function d(b){return b instanceof RegExp?f(b):t[b]}function e(d){(d||(d="{ }"))!==t[8]&&(t=b(d),f="{ }"===d?c:p,t[9]=f(o[9])),r=d}var f,h,r,s=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,l=s.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,i=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,m=/(?=[[\]()*+?.^$|])/g,n=s.source+"|"+/(\/)(?![*\/])/.source,a={"(":RegExp("([()])|"+n,"g"),"[":RegExp("([[\\]])|"+n,"g"),"{":RegExp("([{}])|"+n,"g")},o=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+n,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],t=[];return d.split=function(e,b,c){function f(d){B&&(d=B+d,B=""),b||k?u.push(d&&d.replace(c[5],"$1")):u.push(d)}function j(f,a,g){return g&&(a=hb(e,f)),b&&f+2<a&&(r="\u2057"+A.length+"~",A.push(e.slice(f,a)),B+=e.slice(m,f)+r,m=a),a}c||(c=t);var g,k,m,o,r,s,u=[],w=c[6],A=[],B="";for(k=m=w.lastIndex=0;g=w.exec(e);){if(s=w.lastIndex,o=g.index,k){if(g[2]){var D=g[2],C=a[D],d=1;for(C.lastIndex=s;g=C.exec(e);)if(!g[1])C.lastIndex=j(g.index,C.lastIndex,g[2]);else if(g[1]===D)++d;else if(! --d)break;w.lastIndex=d?e.length:C.lastIndex;continue}if(!g[3]){w.lastIndex=j(o,s,g[4]);continue}}g[1]||(f(e.slice(m,o)),m=w.lastIndex,(w=c[6+(k^=1)]).lastIndex=m)}return e&&m<e.length&&f(e.slice(m)),u.qblocks=A,u},d.hasExpr=function(b){return t[4].test(b)},d.loopKeys=function(c){var a=c.match(t[9]);return a?{key:a[1],pos:a[2],val:t[0]+a[3].trim()+t[1]}:{val:c.trim()}},d.array=function(c){return c?b(c):t},Object.defineProperty(d,"settings",{set:function(c){var d;d=(c=c||{}).brackets,Object.defineProperty(c,"brackets",{set:e,get:function(){return r},enumerable:!0}),h=c,e(d)},get:function(){return h}}),d.settings="undefined"!=typeof riot&&riot.settings||{},d.set=e,d.skipRegex=hb,d.R_STRINGS=s,d.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,d.S_QBLOCKS=l,d.S_QBLOCK2=n,d}(),jc=function(){function f(a,c){return a?(b[a]||(b[a]=function(a){var b=function(a){var b,l=R.split(a.replace(g,"\""),1),d=l.qblocks;if(2<l.length||l[0]){var f,m,n=[];for(f=m=0;f<l.length;++f)(b=l[f])&&(b=1&f?i(b,1,d):"\""+b.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,"\\\"")+"\"")&&(n[m++]=b);b=2>m?n[0]:"["+n.join(",")+"].join(\"\")"}else b=i(l[1],0,d);return d.length&&(b=b.replace(j,function(c,a){return d[a].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),b}(a);return"try{return "!==b.slice(0,11)&&(b="return "+b),new Function("E",b+";")}(a))).call(c,function(b,a){b.riotData={tagName:a&&a.__&&a.__.tagName,_riot_id:a&&a._riot_id},f.errorHandler?f.errorHandler(b):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(b.message),console.log("<%s> %s",b.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}.bind({data:c,tmpl:a})):a}function i(c,e,d){function f(b,a){var d,i=1,j=h[b];for(j.lastIndex=a.lastIndex;d=j.exec(c);)if(d[0]===b)++i;else if(! --i)break;a.lastIndex=i?c.length:j.lastIndex}if(c=c.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var g,i=[],k=0;c&&(g=c.match(a))&&!g.index;){var q,r,s=/,|([[{(])|$/g;for(c=RegExp.rightContext,q=g[2]?d[g[2]].slice(1,-1).trim().replace(/\s+/g," "):g[1];r=(g=s.exec(c))[1];)f(r,s);r=c.slice(0,g.index),c=RegExp.rightContext,i[k++]=o(r,1,q)}c=k?1<k?"["+i.join(",")+"].join(\" \").trim()":i[0]:o(c,e)}return c}function o(f,g,b){var h;return f=f.replace(k,function(d,i,b,c,j){return b&&(c=h?0:c+d.length,"this"!==b&&"global"!==b&&"window"!==b?(d=i+"(\""+b+e+b,c&&(h="."===(j=j[c])||"("===j||"["===j)):c&&(h=!l.test(j.slice(c)))),d}),h&&(f="try{return "+f+"}catch(e){E(e,this)}"),b?f=(h?"function(){"+f+"}.call(this)":"("+f+")")+"?\""+b+"\":\"\"":g&&(f="function(v){"+(h?f.replace("return ","v="):"v=("+f+")")+";return v||v===0?v:\"\"}.call(this)"),f}var b={};f.hasExpr=R.hasExpr,f.loopKeys=R.loopKeys,f.clearCache=function(){b={}},f.errorHandler=null;var g=/\u2057/g,j=/\u2057(\d+)~/g,a=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,h={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},e="\"in this?this:"+("object"==("undefined"==typeof window?"undefined":_typeof(window))?"window":"global")+").",k=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,l=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return f.version=R.version="v3.0.8",f}(),M=function(k){k=k||{};var l={},h=Array.prototype.slice;return Object.defineProperties(k,{on:{value:function(b,a){return"function"==typeof a&&(l[b]=l[b]||[]).push(a),k},enumerable:!1,writable:!1,configurable:!1},off:{value:function(b,a){if(!("*"!=b||a))l={};else if(a)for(var c,d=l[b],f=0;c=d&&d[f];++f)c==a&&d.splice(f--,1);else delete l[b];return k},enumerable:!1,writable:!1,configurable:!1},one:{value:function(b,a){return k.on(b,function c(){k.off(b,c),a.apply(k,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(b){var a,c,d,m=arguments,n=arguments.length-1,i=Array(n);for(d=0;d<n;d++)i[d]=m[d+1];for(a=h.call(l[b]||[],0),d=0;c=a[d];++d)c.apply(k,i);return l["*"]&&"*"!=b&&k.trigger.apply(k,["*",b].concat(i)),k},enumerable:!1,writable:!1,configurable:!1}}),k},ib=gc(B(R.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0}),z=Object.freeze({$$:q,$:e,createDOMPlaceholder:h,mkEl:r,setAttr:t,toggleVisibility:a,getAttr:D,remAttr:l,setInnerHTML:k,walkAttrs:m,createFrag:p,safeInsert:d,styleObjectToString:s,walkNodes:c}),P=Object.freeze({isBlank:o,isFunction:E,isObject:y,isSvg:n,isWritable:fc,isArray:H,isBoolAttr:i,isNil:b,isString:hc,isUndefined:T}),Z=(_=-1,function(){return++_}),$=Object.freeze({contains:J,each:U,getPropDescriptor:I,startsWith:G,uid:Z,defineProperty:K,objectCreate:B,extend:gc,toCamel:N,warn:O}),jb=/<yield\b/i,kb=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,lb=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,mb=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,nb={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},ob=C&&10>C?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,pb=/^on/,qb={},rb=qb.__global_mixin={},sb=0,tb=Object.freeze({Tag:ia,tag:ja,tag2:ka,mount:la,mixin:ma,update:na,unregister:oa,version:"v3.13.2"}),vb={init:function(e,a,b,c){return this.dom=e,this.attr=b,this.rawValue=c,this.parent=a,this.hasExp=jc.hasExpr(c),this},update:function(){var d=this.value,a=this.parent&&Y(this.parent),b=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?jc(this.rawValue,this.parent):this.rawValue,!o(d)&&a&&ba(a.refs,d,b),!o(this.value)&&hc(this.value)?(a&&V(a.refs,this.value,b,null,this.parent.__.index),this.value!==d&&t(this.dom,this.attr,this.value)):l(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=b)},unmount:function(){var c=this.tag||this.dom,a=this.parent&&Y(this.parent);!o(this.value)&&a&&ba(a.refs,this.value,c)}},wb={init:function(e,a,b){l(e,"if"),gc(this,{tag:a,expr:b,stub:h(),pristine:e});var c=e.parentNode;return c.insertBefore(this.stub,e),c.removeChild(e),this},update:function(){this.value=jc(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=xa.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&fa.call(this.tag,this.expressions))},unmount:function(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),va(this.expressions||[])}},xb=Object.freeze({arrayishAdd:V,getTagName:S,inheritParentProps:W,mountTo:Ba,selectTags:ha,arrayishRemove:ba,getTag:Q,initChildTag:aa,moveChildTag:pa,makeReplaceVirtual:da,getImmediateCustomParentTag:Y,makeVirtual:ca,moveVirtual:qa,unmountAll:va,createIfDirective:wa,createRefDirective:ua}),yb=ib,zb={tmpl:jc,brackets:R,styleManager:ic,vdom:Xa,styleNode:ic.styleNode,dom:z,check:P,misc:$,tags:xb},Ab=la,Bb=gc({},tb,{observable:M,settings:yb,util:zb}),Cb=Object.freeze({settings:yb,util:zb,Tag:ia,tag:ja,tag2:ka,mount:Ab,mixin:ma,update:na,unregister:oa,version:"v3.13.2",observable:M,default:Bb}),Db=function(e){function h(a){var b=e[a];if(b)return b;throw new Error("Parser \""+a+"\" not loaded.")}function b(d,a){if(a)for(var b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);return d}function g(c,a,d,g){return d=b({pretty:!0,filename:g,doctype:"html"},d),h(c).render(a,d)}var d={};return d.html={jade:function(d,a,b){return console.log("DEPRECATION WARNING: jade was renamed \"pug\" - The jade parser will be removed in riot@3.0.0!"),g("jade",d,a,b)},pug:function(d,a,b){return g("pug",d,a,b)}},d.css={less:function(c,a,d,i){var f;return d=b({sync:!0,syncImport:!0,filename:i},d),h("less").render(a,d,function(c,a){if(c)throw c;f=a.css}),f}},d.js={es6:function(c,a){return h("Babel").transform(c,b({plugins:[["transform-es2015-template-literals",{loose:!0}],"transform-es2015-literals","transform-es2015-function-name","transform-es2015-arrow-functions","transform-es2015-block-scoped-functions",["transform-es2015-classes",{loose:!0}],"transform-es2015-object-super","transform-es2015-shorthand-properties","transform-es2015-duplicate-keys",["transform-es2015-computed-properties",{loose:!0}],["transform-es2015-for-of",{loose:!0}],"transform-es2015-sticky-regex","transform-es2015-unicode-regex","check-es2015-constants",["transform-es2015-spread",{loose:!0}],"transform-es2015-parameters",["transform-es2015-destructuring",{loose:!0}],"transform-es2015-block-scoping","transform-es2015-typeof-symbol",["transform-es2015-modules-commonjs",{allowTopLevelThis:!0}],["transform-regenerator",{async:!1,asyncGenerators:!1}]]},a)).code},buble:function(c,a,f){return a=b({source:f,modules:!1},a),h("buble").transform(c,a).code},coffee:function(c,a){return h("CoffeeScript").compile(c,b({bare:!0},a))},livescript:function(c,a){return h("livescript").compile(c,b({bare:!0,header:!1},a))},typescript:function(b,a){return h("typescript")(b,a)},none:function(b){return b}},d.js.javascript=d.js.none,d.js.coffeescript=d.js.coffee,d._req=function(e){var a=e.split(".");if(2!==a.length)throw new Error("Bad format for parsers._req");var b=d[a[0]][a[1]];if(b)return b;throw new Error("Parser \""+e+"\" not found.")},d.utils={extend:b},d}(window||global),Eb=/'[^'\n\r\\]*(?:\\(?:\r\n?|[\S\s])[^'\n\r\\]*)*'/.source,Fb=[/\/\*[^*]*\*+(?:[^*/][^*]*\*+)*\//.source,"//.*",Eb,Eb.replace(/'/g,"\""),"([/`])"].join("|"),Gb=Fb.slice(0,-2)+"{}])",Hb=Db.utils.extend,Ib=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,Jb=R.R_STRINGS.source,Kb=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,Lb=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+Ib,"g"),Mb=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"/>]*)*)|\s*)(\/?)>/g,Nb=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,Ob=["style","src","d","value"],Pb=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,Qb=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,Rb=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,Sb=/^\s*import(?!\w|(\s)?\()(?:(?:\s|[^\s'"])*)['|"].*\n?/gm,Tb=/[ \t]+$/gm,Ub=Ca(/@#\d/,"x01"),Vb=Ca(/@#(\d+)/g,"x01"),Wb=/^[ \t]*(((?:async|\*)\s*)?([$_A-Za-z][$\w]*))\s*\([^()]*\)\s*{/m,Xb=RegExp("([{}]|^)[; ]*((?:[^@ ;{}][^{}]*)?[^@ ;{}:] ?)(?={)|"+Ib,"g"),Yb=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,Zb="\\s*=\\s*("+Jb+"|{[^}]+}|\\S+)",$b=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/,_b=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"/>]+(?:(?:@|\/[^>])[^'"/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",Jb),"gim"),ac=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,bc=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi,cc={compile:function(b,l,a){var o,m=[],i=b;l||(l={}),l.parserOptions=Hb({template:{},js:{},style:{}},l.parserOptions||{}),o=l.exclude?function(b){return 0>l.exclude.indexOf(b)}:function(){return 1},a||(a="");var n,p,q,r,s=R.array(l.brackets);return l.template&&(n=i,p=a,q=l.template,r=l.parserOptions.template,i=Db._req("html."+q,!0)(n,r,p)),i=Ea(i).replace(_b,function(c,b,d,e,f,g){var h,j,k,n,p,q,r,u,v="",y="",z="",B="",O=[];if(O._bp=s,d=d.toLowerCase(),e=e&&o("attribs")?Ha(Fa(Ga(e,l,O),O),O):"",(f||(f=g))&&/\S/.test(f))if(g)o("html")&&(z=Ia(g,l,O));else{var N=function(e){if(/<[-\w]/.test(e))for(var a,f=e.lastIndexOf("<"),g=e.length;-1!==f;){if(a=e.slice(f,g).match($b))return f+=a.index+a[0].length,"<-/>\n"===(a=e.slice(0,f)).slice(-5)&&(a=a.slice(0,-5)),[a,e.slice(f)];g=f,f=e.lastIndexOf("<",f-1)}return["",e]}((f=(f=(f=f.replace(RegExp("^"+b,"gm"),"")).replace(ac,function(c,b,d){if(o("js")){var e=(f=d,g=l,j=a,k=Na(i=b),s=Oa(i,"src"),u=Hb({},g.parserOptions.js),!s&&Ka(f,g,k,Hb(u,Pa(i)),j));e&&(v+=(v?"\n":"")+e)}var f,g,i,j,k,s,u;return""})).replace(bc,function(i,b,c){var e,j,k,n,s,t,u;return o("css")&&(y+=(y?" ":"")+(e=c,k=b,n=a,s=d,t=Hb({},(j=l).parserOptions.style),u={parserOpts:Hb(t,Pa(k)),url:n},La(e,s,Na(k)||j.style,u))),""})).replace(Tb,""));o("html")&&(z=Ia(N[0],l,O)),o("js")&&((f=Ka(N[1],l,null,null,a))&&(v+=(v?"\n":"")+f),v=v.replace(Sb,function(b){return B+=b.trim()+"\n",""}))}return v=/\S/.test(v)?v.replace(/\n{3,}/g,"\n\n"):"",l.entities?(m.push({tagName:d,html:z,css:y,attribs:e,js:v,imports:B}),""):(h=d,j=z,k=y,n=e,p=v,q=B,r=l.debug?",\n  ":", ",u="});",p&&"\n"!==p.slice(-1)&&(u="\n"+u),q+"riot.tag2('"+h+"'"+r+Ma(j,1)+r+Ma(k)+r+Ma(n)+", function(opts) {\n"+p+u)}),l.entities?m:i},compileHTML:function(d,a,e){return Array.isArray(a)?(e=a,a={}):(e||(e=[]),a||(a={})),e._bp=R.array(a.brackets),Ia(Ea(d),a,e)},compileCSS:function(d,a,e){return a&&"object"==_typeof(a)?(e=a,a=""):e||(e={}),La(d,e.tagName,a,e)},compileJS:function(e,a,f,g){return"string"==typeof a&&(g=f,f=a,a={}),f&&"object"==_typeof(f)&&(g=f,f=""),g||(g={}),Ka(e,a||{},f,g.parserOptions,g.url)},parsers:Db,version:"v3.5.2"},dc=cc.parsers;return Sa.error=function(b){throw new Error(b)},gc({},Cb,{mount:function(){for(var d,e=[],b=arguments.length;b--;)e[b]=arguments[b];return Sa(function(){d=Ab.apply(Cb,e)}),d},compile:Sa,parsers:dc})},"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.riot=t();