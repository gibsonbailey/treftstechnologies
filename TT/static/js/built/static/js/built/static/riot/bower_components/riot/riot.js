"use strict";function _typeof2(a){return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof2(a)}function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(a){return _typeof2(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":_typeof2(a)},_typeof(a)}(function(a,b){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.riot={})})(void 0,function(aa){'use strict';function ba(a,b){return(b||document).querySelector(a)}function ca(a){return"svg"===a?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}function da(b,c,d){var e=Ka.exec(c);e&&e[1]?b.setAttributeNS("http://www.w3.org/1999/xlink",e[1],d):b.setAttribute(c,d)}function ea(a,b){return Object.getOwnPropertyDescriptor(a,b)}function fa(a){return"undefined"===_typeof(a)}function ga(a,b){var c=ea(a,b);return fa(a[b])||c&&c.writable}function ha(b){for(var c,d=1,e=arguments,a=e.length;d<a;d++)if(c=e[d])for(var f in c)ga(b,f)&&(b[f]=c[f]);return b}function s(a){return Object.create(a)}function r(a,b){return[].slice.call((b||document).querySelectorAll(a))}function ia(){return document.createTextNode("")}function d(a,b){a.style.display=b?"":"none",a.hidden=!b}function ja(a,b){return a.getAttribute(b)}function m(a,b){a.removeAttribute(b)}function c(b,c,d){if(d){var e=b.ownerDocument.importNode(new DOMParser().parseFromString("<svg xmlns=\"http://www.w3.org/2000/svg\">"+c+"</svg>","application/xml").documentElement,!0);b.appendChild(e)}else b.innerHTML=c}function g(a,b){if(a)for(var c;c=Pa.exec(a);)b(c[1].toLowerCase(),c[2]||c[3]||c[4])}function ka(){return document.createDocumentFragment()}function a(a,b,c){a.insertBefore(b,c.parentNode&&c)}function p(a){return Object.keys(a).reduce(function(b,c){return b+" "+c+": "+a[c]+";"},"")}function f(b,c,d){if(b){var g,h=c(b,d);if(!1===h)return;for(b=b.firstChild;b;)g=b.nextSibling,f(b,c,h),b=g}}function h(a){return fa(a)||null===a}function y(a){return h(a)||""===a}function b(a){return"function"===_typeof(a)}function N(a){return a&&"object"===_typeof(a)}function k(a){var b=a.ownerSVGElement;return!!b||null===b}function i(a){return Array.isArray(a)||a instanceof Array}function l(a){return Ra.test(a)}function A(a){return"string"===_typeof(a)}function la(a,b){return-1!==a.indexOf(b)}function L(b,c){for(var d=b?b.length:0,e=0;e<d;e++)c(b[e],e);return b}function n(a,b){return a.slice(0,b.length)===b}function v(b,c,d,e){return Object.defineProperty(b,c,ha({value:d,enumerable:!1,writable:!1,configurable:!0},e)),b}function o(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})}function e(a){console&&console.warn&&console.warn(a)}function ma(b,c,e,f,a){var g=b[c],h=i(g),j=!fa(a);if(!(g&&g===e))if(!g&&f)b[c]=[e];else if(!g)b[c]=e;else if(h){var d=g.indexOf(e);if(d===a)return;-1!==d&&g.splice(d,1),j?g.splice(a,0,e):g.push(e)}else b[c]=[g,e]}function w(a){return a.tagName&&Ia[ja(a,"data-is")||ja(a,"data-is")||a.tagName.toLowerCase()]}function C(b,c){var d=w(b),e=!c&&ja(b,"data-is");return e&&!Ya.hasExpr(e)?e:d?d.name:b.tagName.toLowerCase()}function E(){return this.parent?ha(s(this),this.parent):this}function u(b,c,d){var a="o"===d[0],e=a?"select>":"table>";if(b.innerHTML="<"+e+c.trim()+"</"+e,e=b.firstChild,a)e.selectedIndex=-1;else{var f=hb[d];f&&1===e.childElementCount&&(e=ba(f,e))}return e}function j(a,b){if(!db.test(a))return a;var c={};return b=b&&b.replace(fb,function(b,d,e){return c[d]=c[d]||e,""}).trim(),a.replace(gb,function(b,d,e){return c[d]||e||""}).replace(eb,function(a,c){return b||c||""})}function x(b,d,f){var a=b&&b.match(/^\s*<([-\w]+)/),g=a&&a[1].toLowerCase(),h=ca(f?"svg":"div");return b=j(b,d),ib.test(g)?h=u(h,b,g):c(h,b,f),h}function B(a){return jb.test(a)}function D(a){for(var b=a;b.__.isAnonymous&&!!b.parent;)b=b.parent;return b}function z(b,c,d){var a=this.__.parent,f=this.__.item;if(!f)for(;a&&!f;)f=a.__.item,a=a.__.parent;if((ga(d,"currentTarget")&&(d.currentTarget=b),ga(d,"target")&&(d.target=d.srcElement),ga(d,"which")&&(d.which=d.charCode||d.keyCode),d.item=f,c.call(this,d),!!$a.autoUpdate)&&!d.preventUpdate){var g=D(this);g.isMounted&&g.update()}}function H(b,c,d,e){var a,f=z.bind(e,d,c);d[b]=null,a=b.replace(Oa,""),la(e.__.listeners,d)||e.__.listeners.push(d),d["__riot-events__"]||(d["__riot-events__"]={}),d["__riot-events__"][b]&&d.removeEventListener(a,d["__riot-events__"][b]),d["__riot-events__"][b]=f,d.addEventListener(a,f,!1)}function I(b,c,d,e){var a=Da(b,c,d),f=c.tagName||C(c.root,!0),g=D(e);return v(a,"parent",g),a.__.parent=e,ma(g.tags,f,a),g!==e&&ma(e.tags,f,a),a}function F(b,c,d,e){if(i(b[c])){var a=b[c].indexOf(d);-1!==a&&b[c].splice(a,1),b[c].length?1===b[c].length&&!e&&(b[c]=b[c][0]):delete b[c]}else b[c]===d&&delete b[c]}function q(b,c){var d,e,f=this,g=ia(),h=ia(),i=ka();for(this.root.insertBefore(g,this.root.firstChild),this.root.appendChild(h),this.__.head=e=g,this.__.tail=h;e;)d=e.nextSibling,i.appendChild(e),f.__.virts.push(e),e=d;c?b.insertBefore(i,c.__.head):b.appendChild(i)}function K(a,b){if(b.parentNode){var c=ka();q.call(a,c),b.parentNode.replaceChild(c,b)}}function G(b,c,e){var f,g=b.tag||b.dom._tag,h=g?g.__:{},j=h.head,k="VIRTUAL"===b.dom.tagName;return g&&b.tagName===e?void g.update():void((g&&(k&&(f=ia(),j.parentNode.insertBefore(f,j)),g.unmount(!0)),!!A(e))&&(b.impl=Ia[e],b.impl&&(b.tag=g=I(b.impl,{root:b.dom,parent:c,tagName:e},b.dom.innerHTML,c),L(b.attrs,function(a){return da(g.root,a.name,a.value)}),b.tagName=e,g.mount(),k&&K(g,f||g.root),c.__.onUnmount=function(){var a=g.opts.dataIs;F(g.parent.tags,a,g),F(g.__.parent.tags,a,g),g.unmount()})))}function M(a){return a?(a=a.replace("riot-",""),Qa[a]&&(a=Qa[a]),a):null}function t(c){if(!(this.root&&ja(this.root,"virtualized"))){var e,j=c.dom,k=M(c.attr),a=la(["show","hide"],k),i=c.root&&"VIRTUAL"===c.root.tagName,n=this.__,o=n.isAnonymous,q=j&&(c.parent||j.parentNode),l=$a.keepValueAttributes,r="style"===k,g="class"===k,f="value"===k;if(c._riot_id)return void(c.__.wasCreated?c.update():(c.mount(),i&&K(c,c.root)));if(c.update)return c.update();var s=a&&!o?E.call(this):this;e=Ya(c.expr,s);var h=!y(e),u=N(e);if(u&&(g?e=Ya(JSON.stringify(e),this):r&&(e=p(e))),!c.attr||c.wasParsedOnce&&!1!==e&&(h||f&&(!f||l))||m(j,ja(j,c.attr)?c.attr:k),c.bool&&(e=!!e&&k),c.isRtag)return G(c,this,e);if(!(c.wasParsedOnce&&c.value===e)&&(c.value=e,c.wasParsedOnce=!0,!u||g||r||a)){if(h||(e=""),!k)return e+="",void(q&&(c.parent=q,"TEXTAREA"===q.tagName?(q.value=e,!Sa&&(j.nodeValue=e)):j.nodeValue=e));switch(!0){case b(e):B(k)&&H(k,e,j,this);break;case a:d(j,"hide"===k?!e:e);break;default:c.bool&&(j[k]=e),f&&j.value!==e?j.value=e:h&&!1!==e&&da(j,k,e),r&&j.hidden&&d(j,!1);}}}}function O(a){L(a,t.bind(this))}function J(b,c,d,f,a){if(!(b&&d)){var g=b?E.call(this):c||this;L(a,function(a){a.expr&&t.call(g,a.expr),f[o(a.name).replace("riot-","")]=a.expr?a.expr.value:a.value})}}function P(c,d,e){var f=c.__,a={},g=c.isMounted&&!f.skipAnonymous;return(f.isAnonymous&&f.parent&&ha(c,f.parent),ha(c,d),J.apply(c,[f.isLoop,f.parent,f.isAnonymous,a,f.instAttrs]),g&&c.isMounted&&b(c.shouldUpdate)&&!c.shouldUpdate(d,a))?c:(ha(c.opts,a),g&&c.trigger("update",d),O.call(c,e),g&&c.trigger("updated"),c)}function Q(a){if(!a){var b=Object.keys(Ia);return b+Q(b)}return a.filter(function(a){return!/[^-\w]/.test(a)}).reduce(function(a,b){var c=b.trim().toLowerCase();return a+",[data-is=\""+c+"\"]"},"")}function R(b,c){var d=this,e=d.name,a=d.tmpl,f=d.css,g=d.attrs,h=d.onCreate;return Ia[e]||(S(e,a,f,g,h),Ia[e]["class"]=this.constructor),Ea(b,e,c,this),f&&Va.inject(),this}function S(c,d,f,g,h){return b(g)&&(h=g,/^[\w-]+\s?=/.test(f)?(g=f,f=""):g=""),f&&(b(f)?h=f:Va.add(f,c)),c=c.toLowerCase(),Ia[c]={name:c,tmpl:d,attrs:g,fn:h},c}function T(b,c,d,e,a){return d&&Va.add(d,b),Ia[b]={name:b,tmpl:c,attrs:e,fn:a},b}function U(c,f,g){function h(a){if(a.tagName){var c,d=ja(a,"data-is");f&&d!==f&&(d=f,da(a,"data-is",f)),c=Ea(a,d||a.tagName.toLowerCase(),b(g)?g():g),c&&k.push(c)}else a.length&&L(a,h)}var a,j,k=[];if(Va.inject(),(N(f)||b(f))&&(g=f,f=0),A(c)?(c="*"===c?j=Q():c+Q(c.split(/, */)),a=c?r(c):[]):a=c,"*"===f){if(f=j||Q(),a.tagName)a=r(f,a);else{var l=[];L(a,function(a){return l.push(r(f,a))}),a=l}f=0}return h(a),k}function V(c,d,e){if(N(c))return void V("__"+mb++ +"__",c,!0);var f=e?lb:kb;if(!d){if(fa(f[c]))throw new Error("Unregistered mixin: "+c);return f[c]}f[c]=b(d)?ha(d.prototype,f[c]||{})&&d:ha(f[c]||{},d)}function W(){return L(Ha,function(a){return a.update()})}function X(a){return Va.remove(a),delete Ia[a]}function Y(a){for(var c=[],d=arguments.length-1;0<d--;)c[d]=arguments[d+1];return L(c,function(c){var d,e,f=[],g=["init","__proto__"];c=A(c)?V(c):c,d=b(c)?new c:c;var h=Object.getPrototypeOf(d);do f=f.concat(Object.getOwnPropertyNames(e||d));while(e=Object.getPrototypeOf(e||d));L(f,function(c){if(!la(g,c)){var e=ea(d,c)||ea(h,c),f=e&&(e.get||e.set);!a.hasOwnProperty(c)&&f?Object.defineProperty(a,c,e):a[c]=b(d[c])?d[c].bind(a):d[c]}}),d.init&&d.init.bind(a)(a.opts)}),a}function Z(b,c){var d,e=this.parent;e&&(d=e.tags[b],i(d)?d.splice(c,0,d.splice(d.indexOf(this),1)[0]):ma(e.tags,b,this))}function $(b,c){for(var d,e=this,a=this.__.head,f=ka();a;)if(d=a.nextSibling,f.appendChild(a),a=d,a===e.__.tail){f.appendChild(a),b.insertBefore(f,c.__.head);break}}function na(b,c,d){var e={};return e[b.key]=c,b.pos&&(e[b.pos]=d),e}function _(b,c,d){for(var e=c.length,f=b.length-d;e>f;)e--,oa.apply(c[e],[c,e])}function oa(a,b){a.splice(b,1),this.unmount(),F(this.parent,this,this.__.tagName,!0)}function pa(a){var b=this;L(Object.keys(this.tags),function(c){Z.apply(b.tags[c],[c,a])})}function qa(b,c,d){d?$.apply(this,[b,c]):a(b,this.root,c.root)}function ra(b,c,d){d?q.apply(this,[b,c]):a(b,this.root,c.root)}function sa(a,b){b?q.call(this,a):a.appendChild(this.root)}function ta(b,c,d,e){return b?e?Ya(b,d):c[b]:c}function ua(d,e,j){var q="string"!==_typeof(ja(d,"no-reorder"))||m(d,"no-reorder"),a=ja(d,"key"),r=!!a&&Ya.hasExpr(a),o=C(d),l=Ia[o],c=d.parentNode,p=ia(),t=w(d),f=ja(d,"if"),h=[],y=d.innerHTML,v=!Ia[o],x="VIRTUAL"===d.tagName,b=[];return m(d,"each"),m(d,"key"),j=Ya.loopKeys(j),j.isLoop=!0,f&&m(d,"if"),c.insertBefore(p,d),c.removeChild(d),j.update=function(){j.value=Ya(j.val,e);var n=j.value,z=ka(),m=!i(n)&&!A(n),c=p.parentNode,k=[],w=m&&!!n;if(c){m&&(n=n?Object.keys(n).map(function(a){return na(j,n[a],a)}):[]);var B=0;L(n,function(p,g){var u=g-B,A=!w&&j.key?na(j,p,g):p;if(f&&!Ya(f,ha(s(e),A)))return void B++;var i=ta(a,p,A,r),C=!m&&q&&"object"===_typeof(p)||a,D=b.indexOf(i),E=-1===D,F=!E&&C?D:u,G=h[F],I=u>=b.length,H=C&&E||!C&&!G||!h[u];H?(G=Da(l,{parent:e,isLoop:!0,isAnonymous:v,tagName:o,root:d.cloneNode(v),item:A,index:u},y),G.mount(),I?sa.apply(G,[z||c,x]):ra.apply(G,[c,h[u],x]),!I&&b.splice(u,0,A),h.splice(u,0,G),t&&ma(e.tags,o,G,!0)):F!==u&&C&&((a||la(n,b[F]))&&(qa.apply(G,[c,h[u],x]),h.splice(u,0,h.splice(F,1)[0]),b.splice(u,0,b.splice(F,1)[0])),j.pos&&(G[j.pos]=u),!t&&G.tags&&pa.call(G,u)),ha(G.__,{item:A,index:u,parent:e}),k[u]=i,H||G.update(A)}),_(n,h,B),b=k.slice(),c.insertBefore(z,p)}},j.unmount=function(){L(h,function(a){a.unmount()})},j}function va(b,c,d,e){return s(ob).init(b,c,d,e)}function wa(a){L(a,function(a){a.unmount?a.unmount(!0):a.tagName?a.tag.unmount(!0):a.unmount&&a.unmount()})}function xa(a,b,c){return s(pb).init(a,b,c)}function ya(b,c){var d=this,g=[];return f(b,function(a){var f,h,i=a.nodeType;if((c||a!==b)&&(3===i&&"STYLE"!==a.parentNode.tagName&&Ya.hasExpr(a.nodeValue)&&g.push({dom:a,expr:a.nodeValue}),1===i)){var j="VIRTUAL"===a.tagName;if(f=ja(a,"each"))return j&&da(a,"loopVirtual",!0),g.push(ua(a,d,f)),!1;if(f=ja(a,"if"))return g.push(xa(a,d,f)),!1;if((f=ja(a,"data-is"))&&Ya.hasExpr(f))return g.push({isRtag:!0,expr:f,dom:a,attrs:[].slice.call(a.attributes)}),!1;if(h=w(a),j&&(ja(a,"virtualized")&&a.parentElement.removeChild(a),!h&&!ja(a,"virtualized")&&!ja(a,"loopVirtual")&&(h={tmpl:a.outerHTML})),h&&(a!==b||c)){var k=ja(a,"data-is");if(j&&!k){da(a,"virtualized",!0);var l=Da({tmpl:a.outerHTML},{root:a,parent:d},a.innerHTML);g.push(l)}else return k&&j&&e("Virtual tags shouldn't be used together with the \"data-is\" attribute - https://github.com/riot/riot/issues/2511"),g.push(I(h,{root:a,parent:d},a.innerHTML,d)),!1}za.apply(d,[a,a.attributes,function(a,b){b&&g.push(b)}])}}),g}function za(b,c,d){var e=this;L(c,function(a){if(!a)return!1;var c,f=a.name,g=l(f);la(Ja,f)&&"yield"!==b.tagName.toLowerCase()?c=va(b,e,f,a.value):Ya.hasExpr(a.value)&&(c={dom:b,expr:a.value,attr:f,bool:g}),d(a,c)})}function Aa(b){var c=this.__,d=c.isAnonymous,e=c.skipAnonymous;v(this,"isMounted",b),d&&e||(b?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function Ba(b,c,f,e){var a=b.__,h=a.root;h._tag=b,za.apply(a.parent,[h,h.attributes,function(c,d){!a.isAnonymous&&ob.isPrototypeOf(d)&&(d.tag=b),c.expr=d,a.instAttrs.push(c)}]),g(a.impl.attrs,function(b,c){a.implAttrs.push({name:b,value:c})}),za.apply(b,[h,a.implAttrs,function(a,b){b?f.push(b):da(h,a.name,a.value)}]),J.apply(b,[a.isLoop,a.parent,a.isAnonymous,e,a.instAttrs]);var j=V("__global_mixin");if(j&&!a.skipAnonymous)for(var d in j)j.hasOwnProperty(d)&&b.mixin(j[d]);if(a.impl.fn&&a.impl.fn.call(b,e),a.skipAnonymous||b.trigger("before-mount"),L(ya.apply(b,[c,a.isAnonymous]),function(a){return f.push(a)}),b.update(a.item),!a.isAnonymous&&!a.isInline)for(;c.firstChild;)h.appendChild(c.firstChild);if(v(b,"root",h),!a.skipAnonymous&&b.parent){var k=D(b.parent);k.one(k.isMounted?"updated":"mount",function(){Aa.call(b,!0)})}else Aa.call(b,!0);return b.__.wasCreated=!0,b}function Ca(b,d,e){var f=b.__,a=f.root,h=Ha.indexOf(b),i=a.parentNode;if(f.skipAnonymous||b.trigger("before-unmount"),g(f.impl.attrs,function(b){n(b,"riot-")&&(b=b.slice(5)),m(a,b)}),b.__.listeners.forEach(function(a){Object.keys(a["__riot-events__"]).forEach(function(b){a.removeEventListener(b,a["__riot-events__"][b])})}),-1!==h&&Ha.splice(h,1),f.parent&&!f.isAnonymous){var j=D(f.parent);f.isVirtual?Object.keys(b.tags).forEach(function(a){return F(j.tags,a,b.tags[a])}):F(j.tags,f.tagName,b)}return b.__.virts&&L(b.__.virts,function(a){a.parentNode&&a.parentNode.removeChild(a)}),wa(e),L(f.instAttrs,function(a){return a.expr&&a.expr.unmount&&a.expr.unmount()}),d?c(a,""):i&&i.removeChild(a),f.onUnmount&&f.onUnmount(),b.isMounted||Aa.call(b,!0),Aa.call(b,!1),delete a._tag,b}function Da(b,j,q){void 0===b&&(b={}),void 0===j&&(j={});var n,s=j.context||{},r=j.opts||{},i=j.parent,o=j.isLoop,d=!!j.isAnonymous,l=$a.skipAnonymousTags&&d,u=j.item,p=j.index,m=b.tmpl,c=[],g=j.root,f=j.tagName||C(g),w="virtual"===f,h=!w&&!m;return h||o&&d?n=g:(!w&&(g.innerHTML=""),n=x(m,q,k(g))),l||Za(s),b.name&&g._tag&&g._tag.unmount(!0),v(s,"__",{impl:b,root:g,skipAnonymous:l,implAttrs:[],isAnonymous:d,instAttrs:[],innerHTML:q,tagName:f,index:p,isLoop:o,isInline:h,item:u,parent:i,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",bb()],["root",g],["opts",r,{writable:!0,enumerable:!0}],["parent",i||null],["tags",{}],["refs",{}],["update",function(a){return P(s,a,c)}],["mixin",function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return Y.apply(void 0,[s].concat(a))}],["mount",function(){return Ba(s,n,c,r)}],["unmount",function(a){return Ca(s,a,c)}]].reduce(function(b,c){var d=c[0],e=c[1],a=c[2];return v(s,d,e,a),b},ha(s,u))}function Ea(b,c,d,e){var a,f=Ia[c],g=Ia[c]["class"],h=e||(g?s(g.prototype):{}),i=b._innerHTML=b._innerHTML||b.innerHTML,j=ha({root:b,opts:d,context:h},{parent:d?d.parent:null});return f&&b&&(a=Da(f,j,i)),a&&a.mount&&(a.mount(!0),!la(Ha,a)&&Ha.push(a)),a}var Fa,Ga,Ha=[],Ia={},Ja=["ref","data-ref"],Ka=/^xlink:(\w+)/,La="undefined"===("undefined"==typeof window?"undefined":_typeof(window))?void 0:window,Ma=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,Na=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Oa=/^on/,Pa=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Qa={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},Ra=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,Sa=0|(La&&La.document||{}).documentMode,Ta={},Ua=!1;La&&(Fa=function(){var b=ca("style"),c=ba("style[type=riot]");return da(b,"type","text/css"),c?(c.id&&(b.id=c.id),c.parentNode.replaceChild(b,c)):document.head.appendChild(b),b}(),Ga=Fa.styleSheet);var Va={styleNode:Fa,add:function add(a,b){Ta[b]=a,Ua=!0},inject:function inject(){if(La&&Ua){Ua=!1;var a=Object.keys(Ta).map(function(a){return Ta[a]}).join("\n");Ga?Ga.cssText=a:Fa.innerHTML=a}},remove:function remove(a){delete Ta[a],Ua=!0}},Wa=function(){function b(a,b){for(;0<=--b&&/\s/.test(a[b]););return b}var c=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],e=c.reduce(function(a,b){return a+b.slice(-1)},""),f=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,a=/[$\w]/;return function(g,h){var i=/.*/g,j=i.lastIndex=h++,k=i.exec(g)[0].match(f);if(k){var l=j+k[0].length;j=b(g,j);var n=g[j];if(0>j||~"[{(,;:?=|&!^~>%*/".indexOf(n))return l;if("."===n)"."===g[j-1]&&(h=l);else if("+"===n||"-"===n)(g[--j]!==n||0>(j=b(g,j))||!a.test(g[j]))&&(h=l);else if(~e.indexOf(n)){for(var p=j+1;0<=--j&&a.test(g[j]););~c.indexOf(g.slice(j+1,p))&&(h=l)}}return h}}(),Xa=function(b){function j(a){return a}function k(a,b){return b||(b=w),new RegExp(a.source.replace(/{/g,b[2]).replace(/}/g,b[3]),a.global?"g":"")}function n(a){if("{ }"===a)return g;var b=a.split(" ");if(2!==b.length||u.test(a))throw new Error("Unsupported brackets \""+a+"\"");return b=b.concat(a.replace(p,"\\").split(" ")),b[4]=k(1<b[1].length?/{[\S\s]*?}/:g[4],b),b[5]=k(3<a.length?/\\({|})/g:g[5],b),b[6]=k(g[6],b),b[7]=RegExp("\\\\("+b[3]+")|([[({])|("+b[3]+")|"+m,"g"),b[8]=a,b}function a(a){return a instanceof RegExp?i(a):w[a]}function q(a){(a||(a="{ }"))!==w[8]&&(w=n(a),i="{ }"===a?j:k,w[9]=i(g[9])),f=a}var i,r,e=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,d=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,l=d.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,u=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,p=/(?=[[\]()*+?.^$|])/g,m=d.source+"|"+/(\/)(?![*\/])/.source,c={"(":RegExp("([()])|"+m,"g"),"[":RegExp("([[\\]])|"+m,"g"),"{":RegExp("([{}])|"+m,"g")},g=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+m,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],f=b,w=[];return a.split=function(b,g,h){function e(a){B&&(a=B+a,B=""),g||k?z.push(a&&a.replace(h[5],"$1")):z.push(a)}function a(c,d,e){return e&&(d=Wa(b,c)),g&&d>c+2&&(t="\u2057"+A.length+"~",A.push(b.slice(c,d)),B+=b.slice(q,c)+t,q=d),d}h||(h=w);var j,k,q,r,t,x,z=[],p=h[6],A=[],B="";for(k=q=p.lastIndex=0;j=p.exec(b);){if(x=p.lastIndex,r=j.index,k){if(j[2]){var C=j[2],D=c[C],y=1;for(D.lastIndex=x;j=D.exec(b);)if(!j[1])D.lastIndex=a(j.index,D.lastIndex,j[2]);else if(j[1]===C)++y;else if(! --y)break;p.lastIndex=y?b.length:D.lastIndex;continue}if(!j[3]){p.lastIndex=a(r,x,j[4]);continue}}j[1]||(e(b.slice(q,r)),q=p.lastIndex,p=h[6+(k^=1)],p.lastIndex=q)}return b&&q<b.length&&e(b.slice(q)),z.qblocks=A,z},a.hasExpr=function(a){return w[4].test(a)},a.loopKeys=function(a){var b=a.match(w[9]);return b?{key:b[1],pos:b[2],val:w[0]+b[3].trim()+w[1]}:{val:a.trim()}},a.array=function(a){return a?n(a):w},Object.defineProperty(a,"settings",{set:function set(a){var b;a=a||{},b=a.brackets,Object.defineProperty(a,"brackets",{set:q,get:function get(){return f},enumerable:!0}),r=a,q(b)},get:function get(){return r}}),a.settings="undefined"!=typeof riot&&riot.settings||{},a.set=q,a.skipRegex=Wa,a.R_STRINGS=d,a.R_MLCOMMS=e,a.S_QBLOCKS=l,a.S_QBLOCK2=m,a}(),Ya=function(){function b(b,c){return b?(i[b]||(i[b]=g(b))).call(c,f.bind({data:c,tmpl:b})):b}function f(a,c){a.riotData={tagName:c&&c.__&&c.__.tagName,_riot_id:c&&c._riot_id},b.errorHandler?b.errorHandler(a):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(a.message),console.log("<%s> %s",a.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}function g(a){var b=h(a);return"try{return "!==b.slice(0,11)&&(b="return "+b),new Function("E",b+";")}function h(b){var c,d=Xa.split(b.replace(q,"\""),1),f=d.qblocks;if(2<d.length||d[0]){var a,e,g=[];for(a=e=0;a<d.length;++a)c=d[a],c&&(c=1&a?j(c,1,f):"\""+c.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,"\\\"")+"\"")&&(g[e++]=c);c=2>e?g[0]:"["+g.join(",")+"].join(\"\")"}else c=j(d[1],0,f);return f.length&&(c=c.replace(r,function(a,b){return f[b].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),c}function j(b,c,f){function g(c,e){var f,g=1,h=d[c];for(h.lastIndex=e.lastIndex;f=h.exec(b);)if(f[0]===c)++g;else if(! --g)break;e.lastIndex=g?b.length:h.lastIndex}if(b=b.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1"),b){for(var a,h=[],i=0;b&&(a=b.match(t))&&!a.index;){var j,l,n=/,|([[{(])|$/g;for(b=RegExp.rightContext,j=a[2]?f[a[2]].slice(1,-1).trim().replace(/\s+/g," "):a[1];l=(a=n.exec(b))[1];)g(l,n);l=b.slice(0,a.index),b=RegExp.rightContext,h[i++]=k(l,1,j)}b=i?1<i?"["+h.join(",")+"].join(\" \").trim()":h[0]:k(b,c)}return b}function k(b,c,d){var f;return b=b.replace(m,function(a,b,c,d,g){return c&&(d=f?0:d+a.length,"this"!==c&&"global"!==c&&"window"!==c?(a=b+"(\""+c+l+c,d&&(f="."===(g=g[d])||"("===g||"["===g)):d&&(f=!p.test(g.slice(d)))),a}),f&&(b="try{return "+b+"}catch(e){E(e,this)}"),d?b=(f?"function(){"+b+"}.call(this)":"("+b+")")+"?\""+d+"\":\"\"":c&&(b="function(v){"+(f?b.replace("return ","v="):"v=("+b+")")+";return v||v===0?v:\"\"}.call(this)"),b}var i={};b.hasExpr=Xa.hasExpr,b.loopKeys=Xa.loopKeys,b.clearCache=function(){i={}},b.errorHandler=null;var q=/\u2057/g,r=/\u2057(\d+)~/g,t=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,d={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},l="\"in this?this:"+("object"===("undefined"==typeof window?"undefined":_typeof(window))?"window":"global")+").",m=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,p=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return b.version=Xa.version="v3.0.8",b}(),Za=function(b){b=b||{};var c={},d=Array.prototype.slice;return Object.defineProperties(b,{on:{value:function(d,e){return"function"==typeof e&&(c[d]=c[d]||[]).push(e),b},enumerable:!1,writable:!1,configurable:!1},off:{value:function(d,e){if("*"==d&&!e)c={};else if(e)for(var a,f=c[d],g=0;a=f&&f[g];++g)a==e&&f.splice(g--,1);else delete c[d];return b},enumerable:!1,writable:!1,configurable:!1},one:{value:function(c,d){function e(){b.off(c,e),d.apply(b,arguments)}return b.on(c,e)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(e){var a,f,g,h=arguments,i=arguments.length-1,j=Array(i);for(g=0;g<i;g++)j[g]=h[g+1];for(a=d.call(c[e]||[],0),g=0;f=a[g];++g)f.apply(b,j);return c["*"]&&"*"!=e&&b.trigger.apply(b,["*",e].concat(j)),b},enumerable:!1,writable:!1,configurable:!1}}),b},$a=ha(s(Xa.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0}),_a=Object.freeze({$$:r,$:ba,createDOMPlaceholder:ia,mkEl:ca,setAttr:da,toggleVisibility:d,getAttr:ja,remAttr:m,setInnerHTML:c,walkAttrs:g,createFrag:ka,safeInsert:a,styleObjectToString:p,walkNodes:f}),ab=Object.freeze({isBlank:y,isFunction:b,isObject:N,isSvg:k,isWritable:ga,isArray:i,isBoolAttr:l,isNil:h,isString:A,isUndefined:fa}),bb=function(){var a=-1;return function(){return++a}}(),cb=Object.freeze({contains:la,each:L,getPropDescriptor:ea,startsWith:n,uid:bb,defineProperty:v,objectCreate:s,extend:ha,toCamel:o,warn:e}),db=/<yield\b/i,eb=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/ig,fb=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/ig,gb=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/ig,hb={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},ib=Sa&&10>Sa?Ma:Na,jb=/^on/,kb={},lb=kb.__global_mixin={},mb=0,nb=Object.freeze({Tag:R,tag:S,tag2:T,mount:U,mixin:V,update:W,unregister:X,version:"v3.13.2"}),ob={init:function init(b,c,d,e){return this.dom=b,this.attr=d,this.rawValue=e,this.parent=c,this.hasExp=Ya.hasExpr(e),this},update:function update(){var a=this.value,b=this.parent&&D(this.parent),c=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?Ya(this.rawValue,this.parent):this.rawValue,!y(a)&&b&&F(b.refs,a,c),!y(this.value)&&A(this.value)?(b&&ma(b.refs,this.value,c,null,this.parent.__.index),this.value!==a&&da(this.dom,this.attr,this.value)):m(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=c)},unmount:function unmount(){var a=this.tag||this.dom,b=this.parent&&D(this.parent);!y(this.value)&&b&&F(b.refs,this.value,a)}},pb={init:function init(b,c,d){m(b,"if"),ha(this,{tag:c,expr:d,stub:ia(),pristine:b});var e=b.parentNode;return e.insertBefore(this.stub,b),e.removeChild(b),this},update:function update(){this.value=Ya(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=ya.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&O.call(this.tag,this.expressions))},unmount:function unmount(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),wa(this.expressions||[])}},qb=Object.freeze({arrayishAdd:ma,getTagName:C,inheritParentProps:E,mountTo:Ea,selectTags:Q,arrayishRemove:F,getTag:w,initChildTag:I,moveChildTag:Z,makeReplaceVirtual:K,getImmediateCustomParentTag:D,makeVirtual:q,moveVirtual:$,unmountAll:wa,createIfDirective:xa,createRefDirective:va}),rb=$a,sb={tmpl:Ya,brackets:Xa,styleManager:Va,vdom:Ha,styleNode:Va.styleNode,dom:_a,check:ab,misc:cb,tags:qb},tb=ha({},nb,{observable:Za,settings:rb,util:sb});aa.settings=rb,aa.util=sb,aa.Tag=R,aa.tag=S,aa.tag2=T,aa.mount=U,aa.mixin=V,aa.update=W,aa.unregister=X,aa.version="v3.13.2",aa.observable=Za,aa["default"]=tb,Object.defineProperty(aa,"__esModule",{value:!0})});