"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}(function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.riot={})})(void 0,function(e){'use strict';function t(e,t){return(t||document).querySelector(e)}function n(e){return"svg"===e?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function r(e,t,n){var a=He.exec(t);a&&a[1]?e.setAttributeNS("http://www.w3.org/1999/xlink",a[1],n):e.setAttribute(t,n)}function a(e,t){return Object.getOwnPropertyDescriptor(e,t)}function i(e){return _typeof(e)==="undefined"}function o(e,t){var n=a(e,t);return i(e[t])||n&&n.writable}function s(e){for(var t,n=1,a=arguments,r=a.length;n<r;n++)if(t=a[n])for(var s in t)o(e,s)&&(e[s]=t[s]);return e}function d(e){return Object.create(e)}function l(e,t){return[].slice.call((t||document).querySelectorAll(e))}function u(){return document.createTextNode("")}function p(e,t){e.style.display=t?"":"none",e.hidden=!t}function m(e,t){return e.getAttribute(t)}function c(e,t){e.removeAttribute(t)}function g(e,t,n){if(n){var a=e.ownerDocument.importNode(new DOMParser().parseFromString("<svg xmlns=\"http://www.w3.org/2000/svg\">"+t+"</svg>","application/xml").documentElement,!0);e.appendChild(a)}else e.innerHTML=t}function f(e,t){if(e)for(var n;n=De.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function _(){return document.createDocumentFragment()}function h(e,t,n){e.insertBefore(t,n.parentNode&&n)}function y(e){return Object.keys(e).reduce(function(t,n){return t+" "+n+": "+e[n]+";"},"")}function v(e,t,n){if(e){var a,r=t(e,n);if(!1===r)return;for(e=e.firstChild;e;)a=e.nextSibling,v(e,t,r),e=a}}function x(e){return i(e)||null===e}function b(e){return x(e)||""===e}function N(e){return _typeof(e)==="function"}function k(e){return e&&_typeof(e)==="object"}function w(e){var t=e.ownerSVGElement;return!!t||null===t}function A(e){return Array.isArray(e)||e instanceof Array}function C(e){return Ke.test(e)}function T(e){return _typeof(e)==="string"}function L(e,t){return-1!==e.indexOf(t)}function E(e,t){for(var n=e?e.length:0,a=0;a<n;a++)t(e[a],a);return e}function M(e,t){return e.slice(0,t.length)===t}function I(e,t,n,a){return Object.defineProperty(e,t,s({value:n,enumerable:!1,writable:!1,configurable:!0},a)),e}function O(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function P(e){console&&console.warn&&console.warn(e)}function V(e,t,n,a,r){var o=e[t],s=A(o),d=!i(r);if(!(o&&o===n))if(!o&&a)e[t]=[n];else if(!o)e[t]=n;else if(s){var l=o.indexOf(n);if(l===r)return;-1!==l&&o.splice(l,1),d?o.splice(r,0,n):o.push(n)}else e[t]=[o,n]}function S(e){return e.tagName&&Ve[m(e,"data-is")||m(e,"data-is")||e.tagName.toLowerCase()]}function H(e,t){var n=S(e),a=!t&&m(e,"data-is");return a&&!Xe.hasExpr(a)?a:n?n.name:e.tagName.toLowerCase()}function U(){return this.parent?s(d(this),this.parent):this}function j(e,n,a){var r="o"===a[0],i=r?"select>":"table>";if(e.innerHTML="<"+i+n.trim()+"</"+i,i=e.firstChild,r)i.selectedIndex=-1;else{var o=st[a];o&&1===i.childElementCount&&(i=t(o,i))}return i}function R(e,t){if(!at.test(e))return e;var n={};return t=t&&t.replace(it,function(e,t,a){return n[t]=n[t]||a,""}).trim(),e.replace(ot,function(e,t,a){return n[t]||a||""}).replace(rt,function(e,n){return t||n||""})}function B(e,t,a){var r=e&&e.match(/^\s*<([-\w]+)/),i=r&&r[1].toLowerCase(),o=n(a?"svg":"div");return e=R(e,t),dt.test(i)?o=j(o,e,i):g(o,e,a),o}function D(e){return lt.test(e)}function z(e){for(var t=e;t.__.isAnonymous&&!!t.parent;)t=t.parent;return t}function K(t,n,a){var e=this.__.parent,r=this.__.item;if(!r)for(;e&&!r;)r=e.__.item,e=e.__.parent;if((o(a,"currentTarget")&&(a.currentTarget=t),o(a,"target")&&(a.target=a.srcElement),o(a,"which")&&(a.which=a.charCode||a.keyCode),a.item=r,n.call(this,a),!!Je.autoUpdate)&&!a.preventUpdate){var i=z(this);i.isMounted&&i.update()}}function $(e,t,n,a){var r,i=K.bind(a,n,t);n[e]=null,r=e.replace(Be,""),L(a.__.listeners,n)||a.__.listeners.push(n),n["__riot-events__"]||(n["__riot-events__"]={}),n["__riot-events__"][e]&&n.removeEventListener(r,n["__riot-events__"][e]),n["__riot-events__"][e]=i,n.addEventListener(r,i,!1)}function F(e,t,n,a){var r=Ee(e,t,n),i=t.tagName||H(t.root,!0),o=z(a);return I(r,"parent",o),r.__.parent=a,V(o.tags,i,r),o!==a&&V(a.tags,i,r),r}function q(e,t,n,a){if(A(e[t])){var r=e[t].indexOf(n);-1!==r&&e[t].splice(r,1),e[t].length?1===e[t].length&&!a&&(e[t]=e[t][0]):delete e[t]}else e[t]===n&&delete e[t]}function Q(e,t){var n,a,r=this,i=u(),o=u(),s=_();for(this.root.insertBefore(i,this.root.firstChild),this.root.appendChild(o),this.__.head=a=i,this.__.tail=o;a;)n=a.nextSibling,s.appendChild(a),r.__.virts.push(a),a=n;t?e.insertBefore(s,t.__.head):e.appendChild(s)}function G(e,t){if(t.parentNode){var n=_();Q.call(e,n),t.parentNode.replaceChild(n,t)}}function W(e,t,n){var a,i=e.tag||e.dom._tag,o=i?i.__:{},s=o.head,d="VIRTUAL"===e.dom.tagName;return i&&e.tagName===n?void i.update():void((i&&(d&&(a=u(),s.parentNode.insertBefore(a,s)),i.unmount(!0)),!!T(n))&&(e.impl=Ve[n],e.impl&&(e.tag=i=F(e.impl,{root:e.dom,parent:t,tagName:n},e.dom.innerHTML,t),E(e.attrs,function(e){return r(i.root,e.name,e.value)}),e.tagName=n,i.mount(),d&&G(i,a||i.root),t.__.onUnmount=function(){var e=i.opts.dataIs;q(i.parent.tags,e,i),q(i.__.parent.tags,e,i),i.unmount()})))}function X(e){return e?(e=e.replace("riot-",""),ze[e]&&(e=ze[e]),e):null}function Y(e){if(!(this.root&&m(this.root,"virtualized"))){var t,n=e.dom,a=X(e.attr),i=L(["show","hide"],a),o=e.root&&"VIRTUAL"===e.root.tagName,s=this.__,d=s.isAnonymous,l=n&&(e.parent||n.parentNode),u=Je.keepValueAttributes,g="style"===a,f="class"===a,_="value"===a;if(e._riot_id)return void(e.__.wasCreated?e.update():(e.mount(),o&&G(e,e.root)));if(e.update)return e.update();var h=i&&!d?U.call(this):this;t=Xe(e.expr,h);var v=!b(t),x=k(t);if(x&&(f?t=Xe(JSON.stringify(t),this):g&&(t=y(t))),!e.attr||e.wasParsedOnce&&!1!==t&&(v||_&&(!_||u))||c(n,m(n,e.attr)?e.attr:a),e.bool&&(t=!!t&&a),e.isRtag)return W(e,this,t);if(!(e.wasParsedOnce&&e.value===t)&&(e.value=t,e.wasParsedOnce=!0,!x||f||g||i)){if(v||(t=""),!a)return t+="",void(l&&(e.parent=l,"TEXTAREA"===l.tagName?(l.value=t,!$e&&(n.nodeValue=t)):n.nodeValue=t));switch(!0){case N(t):D(a)&&$(a,t,n,this);break;case i:p(n,"hide"===a?!t:t);break;default:e.bool&&(n[a]=t),_&&n.value!==t?n.value=t:v&&!1!==t&&r(n,a,t),g&&n.hidden&&p(n,!1);}}}}function J(e){E(e,Y.bind(this))}function Z(e,t,n,a,r){if(!(e&&n)){var i=e?U.call(this):t||this;E(r,function(e){e.expr&&Y.call(i,e.expr),a[O(e.name).replace("riot-","")]=e.expr?e.expr.value:e.value})}}function ee(e,t,n){var a=e.__,r={},i=e.isMounted&&!a.skipAnonymous;return(a.isAnonymous&&a.parent&&s(e,a.parent),s(e,t),Z.apply(e,[a.isLoop,a.parent,a.isAnonymous,r,a.instAttrs]),i&&e.isMounted&&N(e.shouldUpdate)&&!e.shouldUpdate(t,r))?e:(s(e.opts,r),i&&e.trigger("update",t),J.call(e,n),i&&e.trigger("updated"),e)}function te(e){if(!e){var t=Object.keys(Ve);return t+te(t)}return e.filter(function(e){return!/[^-\w]/.test(e)}).reduce(function(e,n){var t=n.trim().toLowerCase();return e+",["+"data-is"+"=\""+t+"\"]"},"")}function ne(e,t){var n=this,a=n.name,r=n.tmpl,i=n.css,o=n.attrs,s=n.onCreate;return Ve[a]||(ae(a,r,i,o,s),Ve[a]["class"]=this.constructor),Me(e,a,t,this),i&&Qe.inject(),this}function ae(e,t,n,a,r){return N(a)&&(r=a,/^[\w-]+\s?=/.test(n)?(a=n,n=""):a=""),n&&(N(n)?r=n:Qe.add(n,e)),e=e.toLowerCase(),Ve[e]={name:e,tmpl:t,attrs:a,fn:r},e}function re(e,t,n,a,r){return n&&Qe.add(n,e),Ve[e]={name:e,tmpl:t,attrs:a,fn:r},e}function ie(e,t,n){function a(e){if(e.tagName){var i,o=m(e,"data-is");t&&o!==t&&(o=t,r(e,"data-is",t)),i=Me(e,o||e.tagName.toLowerCase(),N(n)?n():n),i&&s.push(i)}else e.length&&E(e,a)}var i,o,s=[];if(Qe.inject(),(k(t)||N(t))&&(n=t,t=0),T(e)?(e="*"===e?o=te():e+te(e.split(/, */)),i=e?l(e):[]):i=e,"*"===t){if(t=o||te(),i.tagName)i=l(t,i);else{var d=[];E(i,function(e){return d.push(l(t,e))}),i=d}t=0}return a(i),s}function oe(e,t,n){if(k(e))return void oe("__"+mt++ +"__",e,!0);var a=n?pt:ut;if(!t){if(i(a[e]))throw new Error("Unregistered mixin: "+e);return a[e]}a[e]=N(t)?s(t.prototype,a[e]||{})&&t:s(a[e]||{},t)}function se(){return E(Pe,function(e){return e.update()})}function de(e){return Qe.remove(e),delete Ve[e]}function le(e){for(var t=[],n=arguments.length-1;0<n--;)t[n]=arguments[n+1];return E(t,function(t){var n,r,i=[],o=["init","__proto__"];t=T(t)?oe(t):t,n=N(t)?new t:t;var s=Object.getPrototypeOf(n);do i=i.concat(Object.getOwnPropertyNames(r||n));while(r=Object.getPrototypeOf(r||n));E(i,function(t){if(!L(o,t)){var r=a(n,t)||a(s,t),i=r&&(r.get||r.set);!e.hasOwnProperty(t)&&i?Object.defineProperty(e,t,r):e[t]=N(n[t])?n[t].bind(e):n[t]}}),n.init&&n.init.bind(e)(e.opts)}),e}function ue(e,t){var n,a=this.parent;a&&(n=a.tags[e],A(n)?n.splice(t,0,n.splice(n.indexOf(this),1)[0]):V(a.tags,e,this))}function pe(e,t){for(var n,a=this,r=this.__.head,i=_();r;)if(n=r.nextSibling,i.appendChild(r),r=n,r===a.__.tail){i.appendChild(r),e.insertBefore(i,t.__.head);break}}function me(e,t,n){var a={};return a[e.key]=t,e.pos&&(a[e.pos]=n),a}function ce(e,t,n){for(var a=t.length,r=e.length-n;a>r;)a--,ge.apply(t[a],[t,a])}function ge(e,t){e.splice(t,1),this.unmount(),q(this.parent,this,this.__.tagName,!0)}function fe(e){var t=this;E(Object.keys(this.tags),function(n){ue.apply(t.tags[n],[n,e])})}function _e(e,t,n){n?pe.apply(this,[e,t]):h(e,this.root,t.root)}function he(e,t,n){n?Q.apply(this,[e,t]):h(e,this.root,t.root)}function ye(e,t){t?Q.call(this,e):e.appendChild(this.root)}function ve(e,t,n,a){return e?a?Xe(e,n):t[e]:t}function xe(e,t,n){var a="string"!==_typeof(m(e,"no-reorder"))||c(e,"no-reorder"),r=m(e,"key"),o=!!r&&Xe.hasExpr(r),l=H(e),p=Ve[l],i=e.parentNode,g=u(),f=S(e),h=m(e,"if"),y=[],v=e.innerHTML,x=!Ve[l],b="VIRTUAL"===e.tagName,N=[];return c(e,"each"),c(e,"key"),n=Xe.loopKeys(n),n.isLoop=!0,h&&c(e,"if"),i.insertBefore(g,e),i.removeChild(e),n.update=function(){n.value=Xe(n.val,t);var u=n.value,m=_(),c=!A(u)&&!T(u),k=g.parentNode,w=[],C=c&&!!u;if(k){c&&(u=u?Object.keys(u).map(function(e){return me(n,u[e],e)}):[]);var M=0;E(u,function(g,_){var A=_-M,i=!C&&n.key?me(n,g,_):g;if(h&&!Xe(h,s(d(t),i)))return void M++;var T=ve(r,g,i,o),E=!c&&a&&"object"===_typeof(g)||r,I=N.indexOf(T),O=-1===I,P=!O&&E?I:A,S=y[P],H=A>=N.length,U=E&&O||!E&&!S||!y[A];U?(S=Ee(p,{parent:t,isLoop:!0,isAnonymous:x,tagName:l,root:e.cloneNode(x),item:i,index:A},v),S.mount(),H?ye.apply(S,[m||k,b]):he.apply(S,[k,y[A],b]),!H&&N.splice(A,0,i),y.splice(A,0,S),f&&V(t.tags,l,S,!0)):P!==A&&E&&((r||L(u,N[P]))&&(_e.apply(S,[k,y[A],b]),y.splice(A,0,y.splice(P,1)[0]),N.splice(A,0,N.splice(P,1)[0])),n.pos&&(S[n.pos]=A),!f&&S.tags&&fe.call(S,A)),s(S.__,{item:i,index:A,parent:t}),w[A]=T,U||S.update(i)}),ce(u,y,M),N=w.slice(),k.insertBefore(m,g)}},n.unmount=function(){E(y,function(e){e.unmount()})},n}function be(e,t,n,a){return d(ft).init(e,t,n,a)}function Ne(e){E(e,function(e){e.unmount?e.unmount(!0):e.tagName?e.tag.unmount(!0):e.unmount&&e.unmount()})}function ke(e,t,n){return d(_t).init(e,t,n)}function we(e,t){var n=this,a=[];return v(e,function(i){var o,s,d=i.nodeType;if((t||i!==e)&&(3===d&&"STYLE"!==i.parentNode.tagName&&Xe.hasExpr(i.nodeValue)&&a.push({dom:i,expr:i.nodeValue}),1===d)){var l="VIRTUAL"===i.tagName;if(o=m(i,"each"))return l&&r(i,"loopVirtual",!0),a.push(xe(i,n,o)),!1;if(o=m(i,"if"))return a.push(ke(i,n,o)),!1;if((o=m(i,"data-is"))&&Xe.hasExpr(o))return a.push({isRtag:!0,expr:o,dom:i,attrs:[].slice.call(i.attributes)}),!1;if(s=S(i),l&&(m(i,"virtualized")&&i.parentElement.removeChild(i),!s&&!m(i,"virtualized")&&!m(i,"loopVirtual")&&(s={tmpl:i.outerHTML})),s&&(i!==e||t)){var u=m(i,"data-is");if(l&&!u){r(i,"virtualized",!0);var p=Ee({tmpl:i.outerHTML},{root:i,parent:n},i.innerHTML);a.push(p)}else return u&&l&&P("Virtual tags shouldn't be used together with the \"data-is\" attribute - https://github.com/riot/riot/issues/2511"),a.push(F(s,{root:i,parent:n},i.innerHTML,n)),!1}Ae.apply(n,[i,i.attributes,function(e,t){t&&a.push(t)}])}}),a}function Ae(e,t,n){var a=this;E(t,function(t){if(!t)return!1;var r,i=t.name,o=C(i);L(Se,i)&&e.tagName.toLowerCase()!=="yield"?r=be(e,a,i,t.value):Xe.hasExpr(t.value)&&(r={dom:e,expr:t.value,attr:i,bool:o}),n(t,r)})}function Ce(e){var t=this.__,n=t.isAnonymous,a=t.skipAnonymous;I(this,"isMounted",e),n&&a||(e?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function Te(e,t,n,a){var o=e.__,s=o.root;s._tag=e,Ae.apply(o.parent,[s,s.attributes,function(t,n){!o.isAnonymous&&ft.isPrototypeOf(n)&&(n.tag=e),t.expr=n,o.instAttrs.push(t)}]),f(o.impl.attrs,function(e,t){o.implAttrs.push({name:e,value:t})}),Ae.apply(e,[s,o.implAttrs,function(e,t){t?n.push(t):r(s,e.name,e.value)}]),Z.apply(e,[o.isLoop,o.parent,o.isAnonymous,a,o.instAttrs]);var d=oe("__global_mixin");if(d&&!o.skipAnonymous)for(var l in d)d.hasOwnProperty(l)&&e.mixin(d[l]);if(o.impl.fn&&o.impl.fn.call(e,a),o.skipAnonymous||e.trigger("before-mount"),E(we.apply(e,[t,o.isAnonymous]),function(t){return n.push(t)}),e.update(o.item),!o.isAnonymous&&!o.isInline)for(;t.firstChild;)s.appendChild(t.firstChild);if(I(e,"root",s),!o.skipAnonymous&&e.parent){var i=z(e.parent);i.one(i.isMounted?"updated":"mount",function(){Ce.call(e,!0)})}else Ce.call(e,!0);return e.__.wasCreated=!0,e}function Le(e,t,n){var a=e.__,r=a.root,i=Pe.indexOf(e),o=r.parentNode;if(a.skipAnonymous||e.trigger("before-unmount"),f(a.impl.attrs,function(e){M(e,"riot-")&&(e=e.slice(5)),c(r,e)}),e.__.listeners.forEach(function(e){Object.keys(e["__riot-events__"]).forEach(function(t){e.removeEventListener(t,e["__riot-events__"][t])})}),-1!==i&&Pe.splice(i,1),a.parent&&!a.isAnonymous){var s=z(a.parent);a.isVirtual?Object.keys(e.tags).forEach(function(t){return q(s.tags,t,e.tags[t])}):q(s.tags,a.tagName,e)}return e.__.virts&&E(e.__.virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),Ne(n),E(a.instAttrs,function(e){return e.expr&&e.expr.unmount&&e.expr.unmount()}),t?g(r,""):o&&o.removeChild(r),a.onUnmount&&a.onUnmount(),e.isMounted||Ce.call(e,!0),Ce.call(e,!1),delete r._tag,e}function Ee(e,t,n){void 0===e&&(e={}),void 0===t&&(t={});var a,r=t.context||{},i=t.opts||{},o=t.parent,d=t.isLoop,l=!!t.isAnonymous,u=Je.skipAnonymousTags&&l,p=t.item,m=t.index,c=e.tmpl,g=[],f=t.root,_=t.tagName||H(f),h="virtual"===_,y=!h&&!c;return y||d&&l?a=f:(!h&&(f.innerHTML=""),a=B(c,n,w(f))),u||Ye(r),e.name&&f._tag&&f._tag.unmount(!0),I(r,"__",{impl:e,root:f,skipAnonymous:u,implAttrs:[],isAnonymous:l,instAttrs:[],innerHTML:n,tagName:_,index:m,isLoop:d,isInline:y,item:p,parent:o,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",tt()],["root",f],["opts",i,{writable:!0,enumerable:!0}],["parent",o||null],["tags",{}],["refs",{}],["update",function(e){return ee(r,e,g)}],["mixin",function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return le.apply(void 0,[r].concat(e))}],["mount",function(){return Te(r,a,g,i)}],["unmount",function(e){return Le(r,e,g)}]].reduce(function(e,t){var n=t[0],a=t[1],i=t[2];return I(r,n,a,i),e},s(r,p))}function Me(e,t,n,a){var r,i=Ve[t],o=Ve[t]["class"],l=a||(o?d(o.prototype):{}),u=e._innerHTML=e._innerHTML||e.innerHTML,p=s({root:e,opts:n,context:l},{parent:n?n.parent:null});return i&&e&&(r=Ee(i,p,u)),r&&r.mount&&(r.mount(!0),!L(Pe,r)&&Pe.push(r)),r}var Ie,Oe,Pe=[],Ve={},Se=["ref","data-ref"],He=/^xlink:(\w+)/,Ue=("undefined"==typeof window?"undefined":_typeof(window))==="undefined"?void 0:window,je=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,Re=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,Be=/^on/,De=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,ze={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},Ke=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,$e=0|(Ue&&Ue.document||{}).documentMode,Fe={},qe=!1;Ue&&(Ie=function(){var e=n("style"),a=t("style[type=riot]");return r(e,"type","text/css"),a?(a.id&&(e.id=a.id),a.parentNode.replaceChild(e,a)):document.head.appendChild(e),e}(),Oe=Ie.styleSheet);var Qe={styleNode:Ie,add:function(e,t){Fe[t]=e,qe=!0},inject:function(){if(Ue&&qe){qe=!1;var e=Object.keys(Fe).map(function(e){return Fe[e]}).join("\n");Oe?Oe.cssText=e:Ie.innerHTML=e}},remove:function(e){delete Fe[e],qe=!0}},Ge=function(){function e(e,t){for(;0<=--t&&/\s/.test(e[t]););return t}var t=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],n=t.reduce(function(e,t){return e+t.slice(-1)},""),a=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,r=/[$\w]/;return function(i,o){var s=/.*/g,d=s.lastIndex=o++,l=s.exec(i)[0].match(a);if(l){var u=d+l[0].length;d=e(i,d);var p=i[d];if(0>d||~"[{(,;:?=|&!^~>%*/".indexOf(p))return u;if("."===p)"."===i[d-1]&&(o=u);else if("+"===p||"-"===p)(i[--d]!==p||0>(d=e(i,d))||!r.test(i[d]))&&(o=u);else if(~n.indexOf(p)){for(var m=d+1;0<=--d&&r.test(i[d]););~t.indexOf(i.slice(d+1,m))&&(o=u)}}return o}}(),We=function(e){function t(e){return e}function n(e,t){return t||(t=h),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?"g":"")}function a(e){if("{ }"===e)return f;var t=e.split(" ");if(2!==t.length||p.test(e))throw new Error("Unsupported brackets \""+e+"\"");return t=t.concat(e.replace(m,"\\").split(" ")),t[4]=n(1<t[1].length?/{[\S\s]*?}/:f[4],t),t[5]=n(3<e.length?/\\({|})/g:f[5],t),t[6]=n(f[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+c,"g"),t[8]=e,t}function r(e){return e instanceof RegExp?o(e):h[e]}function i(e){(e||(e="{ }"))!==h[8]&&(h=a(e),o="{ }"===e?t:n,h[9]=o(f[9])),_=e}var o,s,d=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,l=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,u=l.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,p=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,m=/(?=[[\]()*+?.^$|])/g,c=l.source+"|"+/(\/)(?![*\/])/.source,g={"(":RegExp("([()])|"+c,"g"),"[":RegExp("([[\\]])|"+c,"g"),"{":RegExp("([{}])|"+c,"g")},f=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+c,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],_=e,h=[];return r.split=function(e,t,n){function a(e){f&&(e=f+e,f=""),t||o?p.push(e&&e.replace(n[5],"$1")):p.push(e)}function r(n,a,r){return r&&(a=Ge(e,n)),t&&a>n+2&&(l="\u2057"+c.length+"~",c.push(e.slice(n,a)),f+=e.slice(s,n)+l,s=a),a}n||(n=h);var i,o,s,d,l,u,p=[],m=n[6],c=[],f="";for(o=s=m.lastIndex=0;i=m.exec(e);){if(u=m.lastIndex,d=i.index,o){if(i[2]){var _=i[2],y=g[_],v=1;for(y.lastIndex=u;i=y.exec(e);)if(!i[1])y.lastIndex=r(i.index,y.lastIndex,i[2]);else if(i[1]===_)++v;else if(! --v)break;m.lastIndex=v?e.length:y.lastIndex;continue}if(!i[3]){m.lastIndex=r(d,u,i[4]);continue}}i[1]||(a(e.slice(s,d)),s=m.lastIndex,m=n[6+(o^=1)],m.lastIndex=s)}return e&&s<e.length&&a(e.slice(s)),p.qblocks=c,p},r.hasExpr=function(e){return h[4].test(e)},r.loopKeys=function(e){var t=e.match(h[9]);return t?{key:t[1],pos:t[2],val:h[0]+t[3].trim()+h[1]}:{val:e.trim()}},r.array=function(e){return e?a(e):h},Object.defineProperty(r,"settings",{set:function(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:i,get:function(){return _},enumerable:!0}),s=e,i(t)},get:function(){return s}}),r.settings="undefined"!=typeof riot&&riot.settings||{},r.set=i,r.skipRegex=Ge,r.R_STRINGS=l,r.R_MLCOMMS=d,r.S_QBLOCKS=u,r.S_QBLOCK2=c,r}(),Xe=function(){function e(e,a){return e?(o[e]||(o[e]=n(e))).call(a,t.bind({data:a,tmpl:e})):e}function t(t,n){t.riotData={tagName:n&&n.__&&n.__.tagName,_riot_id:n&&n._riot_id},e.errorHandler?e.errorHandler(t):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(t.message),console.log("<%s> %s",t.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}function n(e){var t=a(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function a(e){var t,n=We.split(e.replace(s,"\""),1),a=n.qblocks;if(2<n.length||n[0]){var o,l,u=[];for(o=l=0;o<n.length;++o)t=n[o],t&&(t=1&o?r(t,1,a):"\""+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,"\\\"")+"\"")&&(u[l++]=t);t=2>l?u[0]:"["+u.join(",")+"].join(\"\")"}else t=r(n[1],0,a);return a.length&&(t=t.replace(d,function(e,t){return a[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function r(e,t,n){function a(t,n){var a,r=1,i=u[t];for(i.lastIndex=n.lastIndex;a=i.exec(e);)if(a[0]===t)++r;else if(! --r)break;n.lastIndex=r?e.length:i.lastIndex}if(e=e.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1"),e){for(var r,o=[],s=0;e&&(r=e.match(l))&&!r.index;){var d,p,m=/,|([[{(])|$/g;for(e=RegExp.rightContext,d=r[2]?n[r[2]].slice(1,-1).trim().replace(/\s+/g," "):r[1];p=(r=m.exec(e))[1];)a(p,m);p=e.slice(0,r.index),e=RegExp.rightContext,o[s++]=i(p,1,d)}e=s?1<s?"["+o.join(",")+"].join(\" \").trim()":o[0]:i(e,t)}return e}function i(e,t,n){var a;return e=e.replace(p,function(e,t,n,r,i){return n&&(r=a?0:r+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+"(\""+n+m+n,r&&(a="."===(i=i[r])||"("===i||"["===i)):r&&(a=!c.test(i.slice(r)))),e}),a&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(a?"function(){"+e+"}.call(this)":"("+e+")")+"?\""+n+"\":\"\"":t&&(e="function(v){"+(a?e.replace("return ","v="):"v=("+e+")")+";return v||v===0?v:\"\"}.call(this)"),e}var o={};e.hasExpr=We.hasExpr,e.loopKeys=We.loopKeys,e.clearCache=function(){o={}},e.errorHandler=null;var s=/\u2057/g,d=/\u2057(\d+)~/g,l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,u={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},m="\"in this?this:"+("object"===("undefined"==typeof window?"undefined":_typeof(window))?"window":"global")+").",p=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,c=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return e.version=We.version="v3.0.8",e}(),Ye=function(e){e=e||{};var t={},n=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function value(n,a){return"function"==typeof a&&(t[n]=t[n]||[]).push(a),e},enumerable:!1,writable:!1,configurable:!1},off:{value:function value(n,a){if("*"==n&&!a)t={};else if(a)for(var r,o=t[n],s=0;r=o&&o[s];++s)r==a&&o.splice(s--,1);else delete t[n];return e},enumerable:!1,writable:!1,configurable:!1},one:{value:function value(t,n){function a(){e.off(t,a),n.apply(e,arguments)}return e.on(t,a)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function value(a){var r,o,s,d=arguments,l=arguments.length-1,u=Array(l);for(s=0;s<l;s++)u[s]=d[s+1];for(r=n.call(t[a]||[],0),s=0;o=r[s];++s)o.apply(e,u);return t["*"]&&"*"!=a&&e.trigger.apply(e,["*",a].concat(u)),e},enumerable:!1,writable:!1,configurable:!1}}),e},Je=s(d(We.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0}),Ze=Object.freeze({$$:l,$:t,createDOMPlaceholder:u,mkEl:n,setAttr:r,toggleVisibility:p,getAttr:m,remAttr:c,setInnerHTML:g,walkAttrs:f,createFrag:_,safeInsert:h,styleObjectToString:y,walkNodes:v}),et=Object.freeze({isBlank:b,isFunction:N,isObject:k,isSvg:w,isWritable:o,isArray:A,isBoolAttr:C,isNil:x,isString:T,isUndefined:i}),tt=function(){var e=-1;return function(){return++e}}(),nt=Object.freeze({contains:L,each:E,getPropDescriptor:a,startsWith:M,uid:tt,defineProperty:I,objectCreate:d,extend:s,toCamel:O,warn:P}),at=/<yield\b/i,rt=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/ig,it=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/ig,ot=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/ig,st={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},dt=$e&&10>$e?je:Re,lt=/^on/,ut={},pt=ut.__global_mixin={},mt=0,ct="v3.13.2",gt=Object.freeze({Tag:ne,tag:ae,tag2:re,mount:ie,mixin:oe,update:se,unregister:de,version:ct}),ft={init:function(e,t,n,a){return this.dom=e,this.attr=n,this.rawValue=a,this.parent=t,this.hasExp=Xe.hasExpr(a),this},update:function(){var e=this.value,t=this.parent&&z(this.parent),n=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?Xe(this.rawValue,this.parent):this.rawValue,!b(e)&&t&&q(t.refs,e,n),!b(this.value)&&T(this.value)?(t&&V(t.refs,this.value,n,null,this.parent.__.index),this.value!==e&&r(this.dom,this.attr,this.value)):c(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=n)},unmount:function(){var e=this.tag||this.dom,t=this.parent&&z(this.parent);!b(this.value)&&t&&q(t.refs,this.value,e)}},_t={init:function(e,t,n){c(e,"if"),s(this,{tag:t,expr:n,stub:u(),pristine:e});var a=e.parentNode;return a.insertBefore(this.stub,e),a.removeChild(e),this},update:function(){this.value=Xe(this.expr,this.tag);this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=we.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&J.call(this.tag,this.expressions))},unmount:function(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),Ne(this.expressions||[])}},ht=Object.freeze({arrayishAdd:V,getTagName:H,inheritParentProps:U,mountTo:Me,selectTags:te,arrayishRemove:q,getTag:S,initChildTag:F,moveChildTag:ue,makeReplaceVirtual:G,getImmediateCustomParentTag:z,makeVirtual:Q,moveVirtual:pe,unmountAll:Ne,createIfDirective:ke,createRefDirective:be}),yt=Je,vt={tmpl:Xe,brackets:We,styleManager:Qe,vdom:Pe,styleNode:Qe.styleNode,dom:Ze,check:et,misc:nt,tags:ht},xt=s({},gt,{observable:Ye,settings:yt,util:vt});e.settings=yt,e.util=vt,e.Tag=ne,e.tag=ae,e.tag2=re,e.mount=ie,e.mixin=oe,e.update=se,e.unregister=de,e.version=ct,e.observable=Ye,e["default"]=xt,Object.defineProperty(e,"__esModule",{value:!0})});