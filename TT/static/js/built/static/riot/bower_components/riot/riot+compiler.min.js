"use strict";function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}var e,t;e=void 0,t=function(){"use strict";function a(a,b){return(b||document).querySelector(a)}function b(a){return"svg"===a?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}function d(a,b,c){var d=u.exec(b);d&&d[1]?a.setAttributeNS("http://www.w3.org/1999/xlink",d[1],c):a.setAttribute(b,c)}function c(a,b){return Object.getOwnPropertyDescriptor(a,b)}function f(a){return _typeof(a)==="undefined"}function h(a,b){var d=c(a,b);return f(a[b])||d&&d.writable}function B(a){for(var b,c=1,d=arguments,e=d.length;c<e;c++)if(b=d[c])for(var f in b)h(a,f)&&(a[f]=b[f]);return a}function q(a){return Object.create(a)}function k(a,b){return[].slice.call((b||document).querySelectorAll(a))}function D(){return document.createTextNode("")}function l(a,b){a.style.display=b?"":"none",a.hidden=!b}function G(a,b){return a.getAttribute(b)}function s(a,b){a.removeAttribute(b)}function m(a,b,c){if(c){var d=a.ownerDocument.importNode(new DOMParser().parseFromString("<svg xmlns=\"http://www.w3.org/2000/svg\">"+b+"</svg>","application/xml").documentElement,!0);a.appendChild(d)}else a.innerHTML=b}function p(a,b){if(a)for(var c;c=w.exec(a);)b(c[1].toLowerCase(),c[2]||c[3]||c[4])}function H(){return document.createDocumentFragment()}function i(a,b,c){a.insertBefore(b,c.parentNode&&c)}function E(a){return Object.keys(a).reduce(function(b,c){return b+" "+c+": "+a[c]+";"},"")}function o(a,b,c){if(a){var d,f=b(a,c);if(!1===f)return;for(a=a.firstChild;a;)d=a.nextSibling,o(a,b,f),a=d}}function n(a){return f(a)||null===a}function J(a){return n(a)||""===a}function y(a){return _typeof(a)==="function"}function K(a){return a&&_typeof(a)==="object"}function N(a){var b=a.ownerSVGElement;return!!b||null===b}function Q(a){return Array.isArray(a)||a instanceof Array}function O(a){return C.test(a)}function U(a){return _typeof(a)==="string"}function V(a,b){return-1!==a.indexOf(b)}function W(a,b){for(var c=a?a.length:0,d=0;d<c;d++)b(a[d],d);return a}function S(a,b){return a.slice(0,b.length)===b}function X(a,b,c,d){return Object.defineProperty(a,b,B({value:c,enumerable:!1,writable:!1,configurable:!0},d)),a}function Y(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})}function aa(a){console&&console.warn&&console.warn(a)}function ba(b,c,d,e,g){var h=b[c],i=Q(h),j=!f(g);if(!h||h!==d)if(!h&&e)b[c]=[d];else if(!h)b[c]=d;else if(i){var a=h.indexOf(d);if(a===g)return;-1!==a&&h.splice(a,1),j?h.splice(g,0,d):h.push(d)}else b[c]=[h,d]}function ca(a){return a.tagName&&eb[G(a,"data-is")||G(a,"data-is")||a.tagName.toLowerCase()]}function da(a,b){var c=ca(a),d=!b&&G(a,"data-is");return d&&!ib.hasExpr(d)?d:c?c.name:a.tagName.toLowerCase()}function ea(){return this.parent?B(q(this),this.parent):this}function fa(c,d,f){var g=c&&c.match(/^\s*<([-\w]+)/),h=g&&g[1].toLowerCase(),i=b(f?"svg":"div");return c=function(a,b){if(!lb.test(a))return a;var c={};return b=b&&b.replace(nb,function(a,b,d){return c[b]=c[b]||d,""}).trim(),a.replace(ob,function(a,b,d){return c[b]||d||""}).replace(mb,function(a,c){return b||c||""})}(c,d),qb.test(h)?i=function(b,c,d){var e="o"===d[0],f=e?"select>":"table>";if(b.innerHTML="<"+f+c.trim()+"</"+f,f=b.firstChild,e)f.selectedIndex=-1;else{var g=pb[d];g&&1===f.childElementCount&&(f=a(g,f))}return f}(i,c,h):m(i,c,f),i}function ga(a){for(var b=a;b.__.isAnonymous&&b.parent;)b=b.parent;return b}function ha(a,b,c,d){var e,f=function(a,b,c){var d=this.__.parent,e=this.__.item;if(!e)for(;d&&!e;)e=d.__.item,d=d.__.parent;if(h(c,"currentTarget")&&(c.currentTarget=a),h(c,"target")&&(c.target=c.srcElement),h(c,"which")&&(c.which=c.charCode||c.keyCode),c.item=e,b.call(this,c),P.autoUpdate&&!c.preventUpdate){var f=ga(this);f.isMounted&&f.update()}}.bind(d,c,b);c[a]=null,e=a.replace(v,""),V(d.__.listeners,c)||d.__.listeners.push(c),c["__riot-events__"]||(c["__riot-events__"]={}),c["__riot-events__"][a]&&c.removeEventListener(e,c["__riot-events__"][a]),c["__riot-events__"][a]=f,c.addEventListener(e,f,!1)}function ia(a,b,c,d){var e=Ia(a,b,c),f=b.tagName||da(b.root,!0),g=ga(d);return X(e,"parent",g),e.__.parent=d,ba(g.tags,f,e),g!==d&&ba(d.tags,f,e),e}function ja(a,b,c,d){if(Q(a[b])){var e=a[b].indexOf(c);-1!==e&&a[b].splice(e,1),a[b].length?1!==a[b].length||d||(a[b]=a[b][0]):delete a[b]}else a[b]===c&&delete a[b]}function ka(a,b){var c,d,e=D(),f=D(),g=H();for(this.root.insertBefore(e,this.root.firstChild),this.root.appendChild(f),this.__.head=d=e,this.__.tail=f;d;)c=d.nextSibling,g.appendChild(d),this.__.virts.push(d),d=c;b?a.insertBefore(g,b.__.head):a.appendChild(g)}function la(a,b){if(b.parentNode){var c=H();ka.call(a,c),b.parentNode.replaceChild(c,b)}}function ma(j){if(!this.root||!G(this.root,"virtualized")){var e,k,q=j.dom,n=(e=j.attr)?(e=e.replace("riot-",""),F[e]&&(e=F[e]),e):null,i=V(["show","hide"],n),o=j.root&&"VIRTUAL"===j.root.tagName,z=this.__.isAnonymous,a=q&&(j.parent||q.parentNode),u=P.keepValueAttributes,B="style"===n,c="class"===n,p="value"===n;if(j._riot_id)j.__.wasCreated?j.update():(j.mount(),o&&la(j,j.root));else{if(j.update)return j.update();var f,C,H,I,L,M,N,O=i&&!z?ea.call(this):this,b=!J(k=ib(j.expr,O)),w=K(k);if(w&&(c?k=ib(JSON.stringify(k),this):B&&(k=E(k))),!j.attr||j.wasParsedOnce&&!1!==k&&(b||p&&(!p||u))||s(q,G(q,j.attr)?j.attr:n),j.bool&&(k=!!k&&n),j.isRtag)return C=this,H=k,L=(f=j).tag||f.dom._tag,M=(L?L.__:{}).head,N="VIRTUAL"===f.dom.tagName,void(L&&f.tagName===H?L.update():(L&&(N&&(I=D(),M.parentNode.insertBefore(I,M)),L.unmount(!0)),U(H)&&(f.impl=eb[H],f.impl&&(f.tag=L=ia(f.impl,{root:f.dom,parent:C,tagName:H},f.dom.innerHTML,C),W(f.attrs,function(a){return d(L.root,a.name,a.value)}),f.tagName=H,L.mount(),N&&la(L,I||L.root),C.__.onUnmount=function(){var a=L.opts.dataIs;ja(L.parent.tags,a,L),ja(L.__.parent.tags,a,L),L.unmount()}))));if((!j.wasParsedOnce||j.value!==k)&&(j.value=k,j.wasParsedOnce=!0,!w||c||B||i)){if(b||(k=""),!n)return k+="",void(a&&("TEXTAREA"===(j.parent=a).tagName?(a.value=k,_||(q.nodeValue=k)):q.nodeValue=k));switch(!0){case y(k):Q=n,rb.test(Q)&&ha(n,k,q,this);break;case i:l(q,"hide"===n?!k:k);break;default:j.bool&&(q[n]=k),p&&q.value!==k?q.value=k:b&&!1!==k&&d(q,n,k),B&&q.hidden&&l(q,!1);}var Q}}}}function na(a){W(a,ma.bind(this))}function oa(a,b,c,d,e){if(!a||!c){var f=a?ea.call(this):b||this;W(e,function(a){a.expr&&ma.call(f,a.expr),d[Y(a.name).replace("riot-","")]=a.expr?a.expr.value:a.value})}}function pa(a){if(a)return a.filter(function(a){return!/[^-\w]/.test(a)}).reduce(function(a,b){var c=b.trim().toLowerCase();return a+",["+"data-is"+"=\""+c+"\"]"},"");var b=Object.keys(eb);return b+pa(b)}function qa(b,c){var d=this,e=d.name,f=d.tmpl,g=d.css,h=d.attrs,i=d.onCreate;return eb[e]||(ra(e,f,g,h,i),eb[e]["class"]=this.constructor),Ja(b,e,c,this),g&&hb.inject(),this}function ra(a,b,c,d,f){return y(d)&&(f=d,/^[\w-]+\s?=/.test(c)?(d=c,c=""):d=""),c&&(y(c)?f=c:hb.add(c,a)),a=a.toLowerCase(),eb[a]={name:a,tmpl:b,attrs:d,fn:f},a}function sa(a,b,c,d,e){return c&&hb.add(c,a),eb[a]={name:a,tmpl:b,attrs:d,fn:e},a}function ta(a,b,c){var f,g,h=[];if(hb.inject(),(K(b)||y(b))&&(c=b,b=0),f=U(a)?(a="*"===a?g=pa():a+pa(a.split(/, */)))?k(a):[]:a,"*"===b){if(b=g||pa(),f.tagName)f=k(b,f);else{var j=[];W(f,function(a){return j.push(k(b,a))}),f=j}b=0}return function a(e){if(e.tagName){var f,g=G(e,"data-is");b&&g!==b&&d(e,"data-is",g=b),(f=Ja(e,g||e.tagName.toLowerCase(),y(c)?c():c))&&h.push(f)}else e.length&&W(e,a)}(f),h}function ua(a,b,c){if(K(a))ua("__"+ub++ +"__",a,!0);else{var d=c?tb:sb;if(!b){if(f(d[a]))throw new Error("Unregistered mixin: "+a);return d[a]}d[a]=y(b)?B(b.prototype,d[a]||{})&&b:B(d[a]||{},b)}}function va(){return W(db,function(a){return a.update()})}function wa(a){return hb.remove(a),delete eb[a]}function xa(a,b){var c,d=this.parent;d&&(Q(c=d.tags[a])?c.splice(b,0,c.splice(c.indexOf(this),1)[0]):ba(d.tags,a,this))}function ya(a,b){for(var c,d=this.__.head,e=H();d;)if(c=d.nextSibling,e.appendChild(d),(d=c)===this.__.tail){e.appendChild(d),a.insertBefore(e,b.__.head);break}}function za(a,b,c){var d={};return d[a.key]=b,a.pos&&(d[a.pos]=c),d}function Aa(a,b){a.splice(b,1),this.unmount(),ja(this.parent,this,this.__.tagName,!0)}function Ba(w,z,A){var F=_typeof(G(w,"no-reorder"))!=="string"||s(w,"no-reorder"),E=G(w,"key"),C=!!E&&ib.hasExpr(E),j=da(w),k=eb[j],a=w.parentNode,c=D(),t=ca(w),J=G(w,"if"),K=[],I=w.innerHTML,L=!eb[j],M="VIRTUAL"===w.tagName,O=[];return s(w,"each"),s(w,"key"),(A=ib.loopKeys(A)).isLoop=!0,J&&s(w,"if"),a.insertBefore(c,w),a.removeChild(w),A.update=function(){A.value=ib(A.val,z);var D=A.value,G=H(),v=!Q(D)&&!U(D),x=c.parentNode,y=[],b=v&&!!D;if(x){v&&(D=D?Object.keys(D).map(function(a){return za(A,D[a],a)}):[]);var N=0;W(D,function(g,e){var H=e-N,r=!b&&A.key?za(A,g,e):g;if(!J||ib(J,B(q(z),r))){var n,P,Q,R,S=(P=g,Q=r,R=C,(n=E)?R?ib(n,Q):P[n]:P),u=!v&&F&&_typeof(g)==="object"||E,l=O.indexOf(S),c=-1===l,p=!c&&u?l:H,f=K[p],T=H>=O.length,h=u&&c||!u&&!f||!K[H];h?((f=Ia(k,{parent:z,isLoop:!0,isAnonymous:L,tagName:j,root:w.cloneNode(L),item:r,index:H},I)).mount(),T?function(a,b){b?ka.call(this,a):a.appendChild(this.root)}.apply(f,[G||x,M]):function(a,b,c){c?ka.apply(this,[a,b]):i(a,this.root,b.root)}.apply(f,[x,K[H],M]),T||O.splice(H,0,r),K.splice(H,0,f),t&&ba(z.tags,j,f,!0)):p!==H&&u&&((E||V(D,O[p]))&&(function(a,b,c){c?ya.apply(this,[a,b]):i(a,this.root,b.root)}.apply(f,[x,K[H],M]),K.splice(H,0,K.splice(p,1)[0]),O.splice(H,0,O.splice(p,1)[0])),A.pos&&(f[A.pos]=H),!t&&f.tags&&function(a){var b=this;W(Object.keys(this.tags),function(c){xa.apply(b.tags[c],[c,a])})}.call(f,H)),B(f.__,{item:r,index:H,parent:z}),y[H]=S,h||f.update(r)}else N++}),function(a,b,c){for(var d=b.length,e=a.length-c;e<d;)Aa.apply(b[--d],[b,d])}(D,K,N),O=y.slice(),x.insertBefore(G,c)}},A.unmount=function(){W(K,function(a){a.unmount()})},A}function Ca(a,b,c,d){return q(wb).init(a,b,c,d)}function Da(a){W(a,function(a){a.unmount?a.unmount(!0):a.tagName?a.tag.unmount(!0):a.unmount&&a.unmount()})}function Ea(a,b,c){return q(xb).init(a,b,c)}function Fa(b,a){var f=this,g=[];return o(b,function(c){var e,h,j=c.nodeType;if((a||c!==b)&&(3===j&&"STYLE"!==c.parentNode.tagName&&ib.hasExpr(c.nodeValue)&&g.push({dom:c,expr:c.nodeValue}),1===j)){var k="VIRTUAL"===c.tagName;if(e=G(c,"each"))return k&&d(c,"loopVirtual",!0),g.push(Ba(c,f,e)),!1;if(e=G(c,"if"))return g.push(Ea(c,f,e)),!1;if((e=G(c,"data-is"))&&ib.hasExpr(e))return g.push({isRtag:!0,expr:e,dom:c,attrs:[].slice.call(c.attributes)}),!1;if(h=ca(c),k&&(G(c,"virtualized")&&c.parentElement.removeChild(c),h||G(c,"virtualized")||G(c,"loopVirtual")||(h={tmpl:c.outerHTML})),h&&(c!==b||a)){var i=G(c,"data-is");if(!k||i)return i&&k&&aa("Virtual tags shouldn't be used together with the \"data-is\" attribute - https://github.com/riot/riot/issues/2511"),g.push(ia(h,{root:c,parent:f},c.innerHTML,f)),!1;d(c,"virtualized",!0);var l=Ia({tmpl:c.outerHTML},{root:c,parent:f},c.innerHTML);g.push(l)}Ga.apply(f,[c,c.attributes,function(a,b){b&&g.push(b)}])}}),g}function Ga(a,b,c){var d=this;W(b,function(b){if(!b)return!1;var e,f=b.name,g=O(f);V(x,f)&&a.tagName.toLowerCase()!=="yield"?e=Ca(a,d,f,b.value):ib.hasExpr(b.value)&&(e={dom:a,expr:b.value,attr:f,bool:g}),c(b,e)})}function Ha(a){var b=this.__,c=b.isAnonymous,d=b.skipAnonymous;X(this,"isMounted",a),c&&d||(a?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function Ia(b,j,k){void 0===b&&(b={}),void 0===j&&(j={});var q,w=j.context||{},a=j.opts||{},i=j.parent,o=j.isLoop,r=!!j.isAnonymous,u=P.skipAnonymousTags&&r,l=j.item,x=j.index,A=b.tmpl,f=[],C=j.root,h=j.tagName||da(C),D="virtual"===h,g=!D&&!A;return q=g||o&&r?C:(D||(C.innerHTML=""),fa(A,k,N(C))),u||z(w),b.name&&C._tag&&C._tag.unmount(!0),X(w,"__",{impl:b,root:C,skipAnonymous:u,implAttrs:[],isAnonymous:r,instAttrs:[],innerHTML:k,tagName:h,index:x,isLoop:o,isInline:g,item:l,parent:i,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",jb()],["root",C],["opts",a,{writable:!0,enumerable:!0}],["parent",i||null],["tags",{}],["refs",{}],["update",function(a){return c=a,d=f,e=(b=w).__,g={},h=b.isMounted&&!e.skipAnonymous,e.isAnonymous&&e.parent&&B(b,e.parent),B(b,c),oa.apply(b,[e.isLoop,e.parent,e.isAnonymous,g,e.instAttrs]),h&&b.isMounted&&y(b.shouldUpdate)&&!b.shouldUpdate(c,g)||(B(b.opts,g),h&&b.trigger("update",c),na.call(b,d),h&&b.trigger("updated")),b;var b,c,d,e,g,h}],["mixin",function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return function(a){for(var b=[],d=arguments.length-1;0<d--;)b[d]=arguments[d+1];return W(b,function(b){var d,f,g=[],h=["init","__proto__"];b=U(b)?ua(b):b,d=y(b)?new b:b;for(var i=Object.getPrototypeOf(d);g=g.concat(Object.getOwnPropertyNames(f||d)),f=Object.getPrototypeOf(f||d););W(g,function(b){if(!V(h,b)){var e=c(d,b)||c(i,b),f=e&&(e.get||e.set);!a.hasOwnProperty(b)&&f?Object.defineProperty(a,b,e):a[b]=y(d[b])?d[b].bind(a):d[b]}}),d.init&&d.init.bind(a)(a.opts)}),a}.apply(void 0,[w].concat(a))}],["mount",function(){return function(b,c,f,e){var g=b.__,h=g.root;h._tag=b,Ga.apply(g.parent,[h,h.attributes,function(a,c){!g.isAnonymous&&wb.isPrototypeOf(c)&&(c.tag=b),a.expr=c,g.instAttrs.push(a)}]),p(g.impl.attrs,function(a,b){g.implAttrs.push({name:a,value:b})}),Ga.apply(b,[h,g.implAttrs,function(a,b){b?f.push(b):d(h,a.name,a.value)}]),oa.apply(b,[g.isLoop,g.parent,g.isAnonymous,e,g.instAttrs]);var i=ua("__global_mixin");if(i&&!g.skipAnonymous)for(var j in i)i.hasOwnProperty(j)&&b.mixin(i[j]);if(g.impl.fn&&g.impl.fn.call(b,e),g.skipAnonymous||b.trigger("before-mount"),W(Fa.apply(b,[c,g.isAnonymous]),function(a){return f.push(a)}),b.update(g.item),!g.isAnonymous&&!g.isInline)for(;c.firstChild;)h.appendChild(c.firstChild);if(X(b,"root",h),!g.skipAnonymous&&b.parent){var a=ga(b.parent);a.one(a.isMounted?"updated":"mount",function(){Ha.call(b,!0)})}else Ha.call(b,!0);return b.__.wasCreated=!0,b}(w,q,f,a)}],["unmount",function(a){return function(b,c,d){var e=b.__,f=e.root,g=db.indexOf(b),h=f.parentNode;if(e.skipAnonymous||b.trigger("before-unmount"),p(e.impl.attrs,function(a){S(a,"riot-")&&(a=a.slice("riot-".length)),s(f,a)}),b.__.listeners.forEach(function(a){Object.keys(a["__riot-events__"]).forEach(function(b){a.removeEventListener(b,a["__riot-events__"][b])})}),-1!==g&&db.splice(g,1),e.parent&&!e.isAnonymous){var i=ga(e.parent);e.isVirtual?Object.keys(b.tags).forEach(function(a){return ja(i.tags,a,b.tags[a])}):ja(i.tags,e.tagName,b)}return b.__.virts&&W(b.__.virts,function(a){a.parentNode&&a.parentNode.removeChild(a)}),Da(d),W(e.instAttrs,function(a){return a.expr&&a.expr.unmount&&a.expr.unmount()}),c?m(f,""):h&&h.removeChild(f),e.onUnmount&&e.onUnmount(),b.isMounted||Ha.call(b,!0),Ha.call(b,!1),delete f._tag,b}(w,a,f)}]].reduce(function(a,b){var c=b[0],d=b[1],e=b[2];return X(w,c,d,e),a},B(w,l))}function Ja(b,c,d,e){var f,g=eb[c],h=eb[c]["class"],j=e||(h?q(h.prototype):{}),a=b._innerHTML=b._innerHTML||b.innerHTML,k=B({root:b,opts:d,context:j},{parent:d?d.parent:null});return g&&b&&(f=Ia(g,k,a)),f&&f.mount&&(f.mount(!0),V(db,f)||db.push(f)),f}function Ka(a){var b=arguments,c=a.source,d=a.global?"g":"";a.ignoreCase&&(d+="i"),a.multiline&&(d+="m");for(var e=1;e<arguments.length;e++)c=c.replace("@","\\"+b[e]);return new RegExp(c,d)}function La(a,b,c){var d=/[`$\\]/g;for(d.lastIndex=b;d.exec(a);){var e=d.lastIndex,f=a[e-1];if("`"===f)return e;if("$"===f&&"{"===a[e])return c.push("`","}"),e+1;d.lastIndex++}throw new Error("Unclosed ES6 template")}function Ma(a){var b,c=Mb;for(1!==a.indexOf("\r")&&(a=a.replace(/\r\n?/g,"\n")),c.lastIndex=0;b=c.exec(a);)"<"===b[0][0]&&(a=RegExp.leftContext+RegExp.rightContext,c.lastIndex=b[3]+1);return a}function Na(b,c){var d,f,g,h=[];for(Lb.lastIndex=0,b=b.replace(/\s+/g," ");d=Lb.exec(b);){var j=d[1].toLowerCase(),k=d[2];k?(k[0]!=="\""&&(k="\""+(k[0]==="'"?k.slice(1,-1):k)+"\""),"type"===j&&Sb.test(k)?f=k:(Vb.test(k)&&("value"==j&&(g=1),-1!==Pb.indexOf(j)&&(j="riot-"+j)),h.push(j+"="+k))):h.push(j)}return f&&(g&&(f="\""+c._bp[0]+"'"+f.slice(1,-1)+"'"+c._bp[1]+"\""),h.push("type="+f)),h.join(" ")}function Oa(b,c,d){var f=d._bp;if(b&&f[4].test(b)){for(var g,h=c.expr&&(c.parser||c.type)?Sa:0,j=M.split(b,0,f),k=1;k<j.length;k+=2)"^"===(g=j[k])[0]?g=g.slice(1):h&&";"===(g=h(g,c).trim()).slice(-1)&&(g=g.slice(0,-1)),j[k]="\x01#"+(d.push(g)-1)+f[1];b=j.join("")}return b}function Pa(a,b){return b.length&&(a=a.replace(Wb,function(a,c){return b._bp[0]+b[c].trim().replace(/[\r\n]+/g," ").replace(/"/g,"\u2057")})),a}function Qa(a,b,c){if(!/\S/.test(a))return"";if(a=Oa(a,b,c).replace(Nb,function(a,b,d,e){return b=b.toLowerCase(),e=e&&!Qb.test(b)?"></"+b:"",d&&(b+=" "+Na(d,c)),"<"+b+e+">"}),!b.whitespace){var d=[];/<pre[\s>]/.test(a)&&(a=a.replace(Rb,function(a){return d.push(a),"\x02"})),a=a.trim().replace(/\s+/g," "),d.length&&(a=a.replace(/\u0002/g,function(){return d.shift()}))}return b.compact&&(a=a.replace(Ob,"><$1")),Pa(a,c).replace(Ub,"")}function Ra(b){function d(a){for(var b=/[{}]/g,c=1;c&&b.exec(a);)"{"===a[b.lastIndex-1]?++c:--c;return c?a.length:b.lastIndex}var c,f,g,h,j,k,m=[],a=RegExp,p=function(b,g){for(var j,k,m,q,t,v,w=new RegExp(Gb,"g"),u=M.skipRegex,l=0|g,c=[[]],p=[],f=w,x=f.lastIndex=l;v=f.exec(b);){if(q=v.index,t=f.lastIndex,k="",m=v[1]){if("{"===m)p.push("}");else if("}"===m){if(p.pop()!==m)throw new Error("Unexpected '}'");"`"===p[p.length-1]&&(m=p.pop())}else"/"===m&&q+1<(t=u(b,q))&&(k=b.slice(q,t));"`"===m&&(t=La(b,t,p),k=b.slice(q,t),f=p.length?j||(j=new RegExp(Hb,"g")):w)}else"/"===(k=v[0])[0]?(k="*"===k[1]?" ":"",b=b.slice(l,q)+k+b.slice(t),t=q+k.length,k=""):2===k.length&&(k="");k&&(c[0].push(b.slice(x,q)),c.push(k),x=t),f.lastIndex=t}return c[0].push(b.slice(x)),c}(b);for(b=p.shift().join("<%>");c=b.match(Xb);)m.push(a.leftContext),g=d(b=a.rightContext),h=c[1],j=c[2]||"",k=c[3],k=(f=!/^(?:if|while|for|switch|catch|function)$/.test(k))?c[0].replace(h,"this."+k+" ="+j+" function"):c[0],m.push(k,b.slice(0,g)),b=b.slice(g),f&&!/^\s*.\s*bind\b/.test(b)&&m.push(".bind(this)");return m.length&&(b=m.join("")+b),p.length&&(b=b.replace(/<%>/g,function(){return p.shift()})),b}function Sa(a,b,c,d,e){return /\S/.test(a)?(c||(c=b.type),(b.parser||c&&Eb._req("js."+c,!0)||Ra)(a,d,e).replace(/\r\n?/g,"\n").replace(Ub,"")):""}function Ta(a,b,c,d){var f,g;return(d=d||{},c)&&"css"!==c&&(a=Eb._req("css."+c,!0)(b,a,d.parserOpts||{},d.url)),a=a.replace(M.R_MLCOMMS,"").replace(/\s+/g," ").trim(),b&&(f=b,g=":scope",a=a.replace(Yb,function(a,b,c){return c?(c=c.replace(/[^,]+/g,function(a){var b=a.trim();return 0===b.indexOf(f)?a:b&&"from"!==b&&"to"!==b&&"%"!==b.slice(-1)?b=0>b.indexOf(g)?f+" "+b+",[data-is=\""+f+"\"] "+b:b.replace(g,f)+","+b.replace(g,"[data-is=\""+f+"\"]"):a}),b?b+" "+c:c):a})),a}function Ua(a,b){return a?(a="'"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'",b&&-1!==a.indexOf("\n")?a.replace(/\n/g,"\\n"):a):"''"}function Va(a){if(a){var b=a.match(Zb);if(b=b&&(b[2]||b[3]))return b.replace("text/","")}return""}function Wa(a,b){if(a){var c=a.match(RegExp("\\s"+b+$b,"i"));if(c=c&&c[1])return /^['"]/.test(c)?c.slice(1,-1):c}return""}function Xa(a){var b=Wa(a,"options").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,"\"").replace(/&#039;/g,"'");return b?JSON.parse(b):null}function Ya(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){4===d.readyState&&(200===d.status||!d.status&&d.responseText.length?b(d.responseText,c,a):$a.error("\""+a+"\" not found"))},d.onerror=function(a){return $a.error(a)},d.open("GET",a,!0),d.send("")}function Za(a,c){if(_typeof(a)==="string"){var d=b("script"),f=document.documentElement;c&&(a+="\n//# sourceURL="+c+".js"),d.text=a,f.appendChild(d),f.removeChild(d)}}function $a(a,b,c){if(_typeof(a)==="string"){if(K(b)&&(c=b,b=!1),/^\s*</m.test(a)){var d=dc.compile(a,c);return!0!==b&&Za(d),y(b)&&b(d,a,c),d}Ya(a,function(a,c,d){var e=dc.compile(a,c,d);Za(e,d),b&&b(e,a,c)},c)}else if(Q(a)){var f=a.length;a.forEach(function(a){Ya(a,function(a,c,d){var e=dc.compile(a,c,d);Za(e,d),! --f&&b&&b(e,a,c)},c)})}else{if(b=y(a)?(c=b,a):void(c=a),gb)return b&&b();fb?b&&fb.on("ready",b):(fb=z(),function(b,c){function d(){fb.trigger("ready"),gb=!0,b&&b()}function e(a,b,c){Za(dc.compile(a,b,c),c),--g||d()}var f=k("script[type=\"riot/tag\"]"),g=f.length;if(g)for(var h=0;h<f.length;++h){var i=f[h],a=B({template:G(i,"template")},c),j=G(i,"src")||G(i,"data-src");j?Ya(j,e,a):e(i.innerHTML,a)}else d()}(b,c))}}var _a,ab,bb,cb,db=[],eb={},x=["ref","data-ref"],u=/^xlink:(\w+)/,g=("undefined"==typeof window?"undefined":_typeof(window))==="undefined"?void 0:window,v=/^on/,w=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,F={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},C=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,_=0|(g&&g.document||{}).documentMode,j={},A=!1;g&&(bb=b("style"),cb=a("style[type=riot]"),d(bb,"type","text/css"),cb?(cb.id&&(bb.id=cb.id),cb.parentNode.replaceChild(bb,cb)):document.head.appendChild(bb),ab=(_a=bb).styleSheet);var L,fb,gb,hb={styleNode:_a,add:function add(a,b){j[b]=a,A=!0},inject:function inject(){if(g&&A){A=!1;var a=Object.keys(j).map(function(a){return j[a]}).join("\n");ab?ab.cssText=a:_a.innerHTML=a}},remove:function remove(a){delete j[a],A=!0}},R=function(){function b(a,b){for(;0<=--b&&/\s/.test(a[b]););return b}var d=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],f=d.reduce(function(a,b){return a+b.slice(-1)},""),g=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,c=/[$\w]/;return function(h,e){var j=/.*/g,k=j.lastIndex=e++,l=j.exec(h)[0].match(g);if(l){var i=k+l[0].length,m=h[k=b(h,k)];if(0>k||~"[{(,;:?=|&!^~>%*/".indexOf(m))return i;if("."===m)"."===h[k-1]&&(e=i);else if("+"===m||"-"===m)(h[--k]!==m||0>(k=b(h,k))||!c.test(h[k]))&&(e=i);else if(~f.indexOf(m)){for(var o=k+1;0<=--k&&c.test(h[k]););~d.indexOf(h.slice(k+1,o))&&(e=i)}}return e}}(),M=function(){function b(a){return a}function f(a,b){return b||(b=w),new RegExp(a.source.replace(/{/g,b[2]).replace(/}/g,b[3]),a.global?"g":"")}function d(b){if(b==="{ }")return q;var c=b.split(" ");if(2!==c.length||m.test(b))throw new Error("Unsupported brackets \""+b+"\"");return(c=c.concat(b.replace(n,"\\").split(" ")))[4]=f(1<c[1].length?/{[\S\s]*?}/:q[4],c),c[5]=f(3<b.length?/\\({|})/g:q[5],c),c[6]=f(q[6],c),c[7]=RegExp("\\\\("+c[3]+")|([[({])|("+c[3]+")|"+a,"g"),c[8]=b,c}function e(a){return a instanceof RegExp?g(a):w[a]}function h(a){(a||(a="{ }"))!==w[8]&&(w=d(a),g=a==="{ }"?b:f,w[9]=g(q[9])),k=a}var g,j,k,l=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,i=l.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,m=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,n=/(?=[[\]()*+?.^$|])/g,a=l.source+"|"+/(\/)(?![*\/])/.source,o={"(":RegExp("([()])|"+a,"g"),"[":RegExp("([[\\]])|"+a,"g"),"{":RegExp("([{}])|"+a,"g")},q=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+a,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],w=[];return e.split=function(b,j,i){function k(a){p&&(a=p+a,p=""),j||q?A.push(a&&a.replace(i[5],"$1")):A.push(a)}function g(a,c,d){return d&&(c=R(b,a)),j&&a+2<c&&(y="\u2057"+B.length+"~",B.push(b.slice(a,c)),p+=b.slice(v,a)+y,v=c),c}i||(i=w);var n,q,v,x,y,z,A=[],l=i[6],B=[],p="";for(q=v=l.lastIndex=0;n=l.exec(b);){if(z=l.lastIndex,x=n.index,q){if(n[2]){var C=n[2],d=o[C],h=1;for(d.lastIndex=z;n=d.exec(b);)if(!n[1])d.lastIndex=g(n.index,d.lastIndex,n[2]);else if(n[1]===C)++h;else if(! --h)break;l.lastIndex=h?b.length:d.lastIndex;continue}if(!n[3]){l.lastIndex=g(x,z,n[4]);continue}}n[1]||(k(b.slice(v,x)),v=l.lastIndex,(l=i[6+(q^=1)]).lastIndex=v)}return b&&v<b.length&&k(b.slice(v)),A.qblocks=B,A},e.hasExpr=function(a){return w[4].test(a)},e.loopKeys=function(a){var b=a.match(w[9]);return b?{key:b[1],pos:b[2],val:w[0]+b[3].trim()+w[1]}:{val:a.trim()}},e.array=function(a){return a?d(a):w},Object.defineProperty(e,"settings",{set:function set(a){var b;b=(a=a||{}).brackets,Object.defineProperty(a,"brackets",{set:h,get:function get(){return k},enumerable:!0}),j=a,h(b)},get:function get(){return j}}),e.settings="undefined"!=typeof riot&&riot.settings||{},e.set=h,e.skipRegex=R,e.R_STRINGS=l,e.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,e.S_QBLOCKS=i,e.S_QBLOCK2=a,e}(),ib=function(){function b(c,e){return c?(d[c]||(d[c]=function(b){var c=function(b){var c,d=M.split(b.replace(j,"\""),1),f=d.qblocks;if(2<d.length||d[0]){var e,h,k=[];for(e=h=0;e<d.length;++e)(c=d[e])&&(c=1&e?g(c,1,f):"\""+c.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,"\\\"")+"\"")&&(k[h++]=c);c=2>h?k[0]:"["+k.join(",")+"].join(\"\")"}else c=g(d[1],0,f);return f.length&&(c=c.replace(a,function(a,b){return f[b].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),c}(b);return"try{return "!==c.slice(0,11)&&(c="return "+c),new Function("E",c+";")}(c))).call(e,function(a,c){a.riotData={tagName:c&&c.__&&c.__.tagName,_riot_id:c&&c._riot_id},b.errorHandler?b.errorHandler(a):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(a.message),console.log("<%s> %s",a.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}.bind({data:e,tmpl:c})):c}function g(b,d,f){function g(a,d){var e,f=1,g=c[a];for(g.lastIndex=d.lastIndex;e=g.exec(b);)if(e[0]===a)++f;else if(! --f)break;d.lastIndex=f?b.length:g.lastIndex}if(b=b.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var j,k=[],l=0;b&&(j=b.match(e))&&!j.index;){var m,n,p=/,|([[{(])|$/g;for(b=RegExp.rightContext,m=j[2]?f[j[2]].slice(1,-1).trim().replace(/\s+/g," "):j[1];n=(j=p.exec(b))[1];)g(n,p);n=b.slice(0,j.index),b=RegExp.rightContext,k[l++]=h(n,1,m)}b=l?1<l?"["+k.join(",")+"].join(\" \").trim()":k[0]:h(b,d)}return b}function h(a,b,c){var d;return a=a.replace(l,function(a,b,c,f,g){return c&&(f=d?0:f+a.length,"this"!==c&&"global"!==c&&"window"!==c?(a=b+"(\""+c+k+c,f&&(d="."===(g=g[f])||"("===g||"["===g)):f&&(d=!m.test(g.slice(f)))),a}),d&&(a="try{return "+a+"}catch(e){E(e,this)}"),c?a=(d?"function(){"+a+"}.call(this)":"("+a+")")+"?\""+c+"\":\"\"":b&&(a="function(v){"+(d?a.replace("return ","v="):"v=("+a+")")+";return v||v===0?v:\"\"}.call(this)"),a}var d={};b.hasExpr=M.hasExpr,b.loopKeys=M.loopKeys,b.clearCache=function(){d={}},b.errorHandler=null;var j=/\u2057/g,a=/\u2057(\d+)~/g,e=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,c={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},k="\"in this?this:"+("object"==("undefined"==typeof window?"undefined":_typeof(window))?"window":"global")+").",l=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return b.version=M.version="v3.0.8",b}(),z=function(b){b=b||{};var c={},d=Array.prototype.slice;return Object.defineProperties(b,{on:{value:function value(a,d){return"function"==typeof d&&(c[a]=c[a]||[]).push(d),b},enumerable:!1,writable:!1,configurable:!1},off:{value:function value(a,d){if(!("*"!=a||d))c={};else if(d)for(var e,f=c[a],g=0;e=f&&f[g];++g)e==d&&f.splice(g--,1);else delete c[a];return b},enumerable:!1,writable:!1,configurable:!1},one:{value:function value(a,c){return b.on(a,function d(){b.off(a,d),c.apply(b,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function value(a){var e,f,g,h=arguments,i=arguments.length-1,j=Array(i);for(g=0;g<i;g++)j[g]=h[g+1];for(e=d.call(c[a]||[],0),g=0;f=e[g];++g)f.apply(b,j);return c["*"]&&"*"!=a&&b.trigger.apply(b,["*",a].concat(j)),b},enumerable:!1,writable:!1,configurable:!1}}),b},P=B(q(M.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0}),Z=Object.freeze({$$:k,$:a,createDOMPlaceholder:D,mkEl:b,setAttr:d,toggleVisibility:l,getAttr:G,remAttr:s,setInnerHTML:m,walkAttrs:p,createFrag:H,safeInsert:i,styleObjectToString:E,walkNodes:o}),$=Object.freeze({isBlank:J,isFunction:y,isObject:K,isSvg:N,isWritable:h,isArray:Q,isBoolAttr:O,isNil:n,isString:U,isUndefined:f}),jb=(L=-1,function(){return++L}),kb=Object.freeze({contains:V,each:W,getPropDescriptor:c,startsWith:S,uid:jb,defineProperty:X,objectCreate:q,extend:B,toCamel:Y,warn:aa}),lb=/<yield\b/i,mb=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,nb=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,ob=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,pb={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},qb=_&&10>_?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,rb=/^on/,sb={},tb=sb.__global_mixin={},ub=0,vb=Object.freeze({Tag:qa,tag:ra,tag2:sa,mount:ta,mixin:ua,update:va,unregister:wa,version:"v3.13.2"}),wb={init:function init(a,b,c,d){return this.dom=a,this.attr=c,this.rawValue=d,this.parent=b,this.hasExp=ib.hasExpr(d),this},update:function update(){var a=this.value,b=this.parent&&ga(this.parent),c=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?ib(this.rawValue,this.parent):this.rawValue,!J(a)&&b&&ja(b.refs,a,c),!J(this.value)&&U(this.value)?(b&&ba(b.refs,this.value,c,null,this.parent.__.index),this.value!==a&&d(this.dom,this.attr,this.value)):s(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=c)},unmount:function unmount(){var a=this.tag||this.dom,b=this.parent&&ga(this.parent);!J(this.value)&&b&&ja(b.refs,this.value,a)}},xb={init:function init(a,b,c){s(a,"if"),B(this,{tag:b,expr:c,stub:D(),pristine:a});var d=a.parentNode;return d.insertBefore(this.stub,a),d.removeChild(a),this},update:function update(){this.value=ib(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=Fa.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&na.call(this.tag,this.expressions))},unmount:function unmount(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),Da(this.expressions||[])}},yb=Object.freeze({arrayishAdd:ba,getTagName:da,inheritParentProps:ea,mountTo:Ja,selectTags:pa,arrayishRemove:ja,getTag:ca,initChildTag:ia,moveChildTag:xa,makeReplaceVirtual:la,getImmediateCustomParentTag:ga,makeVirtual:ka,moveVirtual:ya,unmountAll:Da,createIfDirective:Ea,createRefDirective:Ca}),zb=P,Ab={tmpl:ib,brackets:M,styleManager:hb,vdom:db,styleNode:hb.styleNode,dom:Z,check:$,misc:kb,tags:yb},Bb=ta,Cb=B({},vb,{observable:z,settings:zb,util:Ab}),Db=Object.freeze({settings:zb,util:Ab,Tag:qa,tag:ra,tag2:sa,mount:Bb,mixin:ua,update:va,unregister:wa,version:"v3.13.2",observable:z,default:Cb}),Eb=function(a){function b(b){var c=a[b];if(c)return c;throw new Error("Parser \""+b+"\" not loaded.")}function c(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function d(a,d,e,f){return e=c({pretty:!0,filename:f,doctype:"html"},e),b(a).render(d,e)}var f={};return f.html={jade:function jade(a,b,c){return console.log("DEPRECATION WARNING: jade was renamed \"pug\" - The jade parser will be removed in riot@3.0.0!"),d("jade",a,b,c)},pug:function pug(a,b,c){return d("pug",a,b,c)}},f.css={less:function less(a,d,e,f){var g;return e=c({sync:!0,syncImport:!0,filename:f},e),b("less").render(d,e,function(a,b){if(a)throw a;g=b.css}),g}},f.js={es6:function es6(a,d){return b("Babel").transform(a,c({plugins:[["transform-es2015-template-literals",{loose:!0}],"transform-es2015-literals","transform-es2015-function-name","transform-es2015-arrow-functions","transform-es2015-block-scoped-functions",["transform-es2015-classes",{loose:!0}],"transform-es2015-object-super","transform-es2015-shorthand-properties","transform-es2015-duplicate-keys",["transform-es2015-computed-properties",{loose:!0}],["transform-es2015-for-of",{loose:!0}],"transform-es2015-sticky-regex","transform-es2015-unicode-regex","check-es2015-constants",["transform-es2015-spread",{loose:!0}],"transform-es2015-parameters",["transform-es2015-destructuring",{loose:!0}],"transform-es2015-block-scoping","transform-es2015-typeof-symbol",["transform-es2015-modules-commonjs",{allowTopLevelThis:!0}],["transform-regenerator",{async:!1,asyncGenerators:!1}]]},d)).code},buble:function buble(a,d,e){return d=c({source:e,modules:!1},d),b("buble").transform(a,d).code},coffee:function coffee(a,d){return b("CoffeeScript").compile(a,c({bare:!0},d))},livescript:function livescript(a,d){return b("livescript").compile(a,c({bare:!0,header:!1},d))},typescript:function typescript(a,c){return b("typescript")(a,c)},none:function none(a){return a}},f.js.javascript=f.js.none,f.js.coffeescript=f.js.coffee,f._req=function(a){var b=a.split(".");if(2!==b.length)throw new Error("Bad format for parsers._req");var c=f[b[0]][b[1]];if(c)return c;throw new Error("Parser \""+a+"\" not found.")},f.utils={extend:c},f}(window||global),Fb=/'[^'\n\r\\]*(?:\\(?:\r\n?|[\S\s])[^'\n\r\\]*)*'/.source,Gb=[/\/\*[^*]*\*+(?:[^*/][^*]*\*+)*\//.source,"//.*",Fb,Fb.replace(/'/g,"\""),"([/`])"].join("|"),Hb=Gb.slice(0,-2)+"{}])",Ib=Eb.utils.extend,Jb=/"[^"\n\\]*(?:\\[\S\s][^"\n\\]*)*"|'[^'\n\\]*(?:\\[\S\s][^'\n\\]*)*'/.source,Kb=M.R_STRINGS.source,Lb=/ *([-\w:\xA0-\xFF]+) ?(?:= ?('[^']*'|"[^"]*"|\S+))?/g,Mb=RegExp(/<!--(?!>)[\S\s]*?-->/.source+"|"+Jb,"g"),Nb=/<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^"'/>]*(?:(?:"[^"]*"|'[^']*'|\/[^>])[^'"/>]*)*)|\s*)(\/?)>/g,Ob=/>[ \t]+<(-?[A-Za-z]|\/[-A-Za-z])/g,Pb=["style","src","d","value"],Qb=/^(?:input|img|br|wbr|hr|area|base|col|embed|keygen|link|meta|param|source|track)$/,Rb=/<pre(?:\s+(?:[^">]*|"[^"]*")*)?>([\S\s]+?)<\/pre\s*>/gi,Sb=/^"(?:number|date(?:time)?|time|month|email|color)\b/i,Tb=/^\s*import(?!\w|(\s)?\()(?:(?:\s|[^\s'"])*)['|"].*\n?/gm,Ub=/[ \t]+$/gm,Vb=Ka(/@#\d/,"x01"),Wb=Ka(/@#(\d+)/g,"x01"),Xb=/^[ \t]*(((?:async|\*)\s*)?([$_A-Za-z][$\w]*))\s*\([^()]*\)\s*{/m,Yb=RegExp("([{}]|^)[; ]*((?:[^@ ;{}][^{}]*)?[^@ ;{}:] ?)(?={)|"+Jb,"g"),Zb=/\stype\s*=\s*(?:(['"])(.+?)\1|(\S+))/i,$b="\\s*=\\s*("+Kb+"|{[^}]+}|\\S+)",_b=/\/>\n|^<(?:\/?-?[A-Za-z][-\w\xA0-\xFF]*\s*|-?[A-Za-z][-\w\xA0-\xFF]*\s+[-\w:\xA0-\xFF][\S\s]*?)>\n/,ac=RegExp(/^([ \t]*)<(-?[A-Za-z][-\w\xA0-\xFF]*)(?:\s+([^'"/>]+(?:(?:@|\/[^>])[^'"/>]*)*)|\s*)?(?:\/>|>[ \t]*\n?([\S\s]*)^\1<\/\2\s*>|>(.*)<\/\2\s*>)/.source.replace("@",Kb),"gim"),bc=/<script(\s+[^>]*)?>\n?([\S\s]*?)<\/script\s*>/gi,cc=/<style(\s+[^>]*)?>\n?([\S\s]*?)<\/style\s*>/gi,dc={compile:function compile(a,j,d){var k,q=[],c=a;j||(j={}),j.parserOptions=Ib({template:{},js:{},style:{}},j.parserOptions||{}),k=j.exclude?function(a){return 0>j.exclude.indexOf(a)}:function(){return 1},d||(d="");var e,f,g,h,z=M.array(j.brackets);return j.template&&(e=c,f=d,g=j.template,h=j.parserOptions.template,c=Eb._req("html."+g,!0)(e,h,f)),c=Ma(c).replace(ac,function(b,e,w,t,A,B){var i,C,D,E,F,G,H,I,J="",K="",L="",M="",N=[];if(N._bp=z,w=w.toLowerCase(),t=t&&k("attribs")?Pa(Na(Oa(t,j,N),N),N):"",(A||(A=B))&&/\S/.test(A))if(B)k("html")&&(L=Qa(B,j,N));else{var x=function(a){if(/<[-\w]/.test(a))for(var b,c=a.lastIndexOf("<"),d=a.length;-1!==c;){if(b=a.slice(c,d).match(_b))return c+=b.index+b[0].length,"<-/>\n"===(b=a.slice(0,c)).slice(-5)&&(b=b.slice(0,-5)),[b,a.slice(c)];d=c,c=a.lastIndexOf("<",c-1)}return["",a]}((A=(A=(A=A.replace(RegExp("^"+e,"gm"),"")).replace(bc,function(b,e,f){if(k("js")){var g=(h=f,m=j,p=d,q=Va(n=e),r=Wa(n,"src"),t=Ib({},m.parserOptions.js),!r&&Sa(h,m,q,Ib(t,Xa(n)),p));g&&(J+=(J?"\n":"")+g)}var h,m,n,p,q,r,t;return""})).replace(cc,function(b,c,e){var f,g,h,m,p,q,r;return k("css")&&(K+=(K?" ":"")+(f=e,h=c,m=d,p=w,q=Ib({},(g=j).parserOptions.style),r={parserOpts:Ib(q,Xa(h)),url:m},Ta(f,p,Va(h)||g.style,r))),""})).replace(Ub,""));k("html")&&(L=Qa(x[0],j,N)),k("js")&&((A=Sa(x[1],j,null,null,d))&&(J+=(J?"\n":"")+A),J=J.replace(Tb,function(a){return M+=a.trim()+"\n",""}))}return J=/\S/.test(J)?J.replace(/\n{3,}/g,"\n\n"):"",j.entities?(q.push({tagName:w,html:L,css:K,attribs:t,js:J,imports:M}),""):(i=w,C=L,D=K,E=t,F=J,G=M,H=j.debug?",\n  ":", ",I="});",F&&"\n"!==F.slice(-1)&&(I="\n"+I),G+"riot.tag2('"+i+"'"+H+Ua(C,1)+H+Ua(D)+H+Ua(E)+", function(opts) {\n"+F+I)}),j.entities?q:c},compileHTML:function compileHTML(a,b,c){return Array.isArray(b)?(c=b,b={}):(c||(c=[]),b||(b={})),c._bp=M.array(b.brackets),Qa(Ma(a),b,c)},compileCSS:function compileCSS(a,b,c){return b&&"object"==_typeof(b)?(c=b,b=""):c||(c={}),Ta(a,c.tagName,b,c)},compileJS:function compileJS(a,b,c,d){return"string"==typeof b&&(d=c,c=b,b={}),c&&"object"==_typeof(c)&&(d=c,c=""),d||(d={}),Sa(a,b||{},c,d.parserOptions,d.url)},parsers:Eb,version:"v3.5.2"},ec=dc.parsers;return $a.error=function(a){throw new Error(a)},B({},Db,{mount:function mount(){for(var a,b=[],c=arguments.length;c--;)b[c]=arguments[c];return $a(function(){a=Bb.apply(Db,b)}),a},compile:$a,parsers:ec})},"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.riot=t();