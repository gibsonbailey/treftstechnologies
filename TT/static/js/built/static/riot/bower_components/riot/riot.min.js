"use strict";function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}var e,t;e=void 0,t=function(c){"use strict";function d(a,b){return(b||document).querySelector(a)}function a(a){return"svg"===a?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a)}function h(a,b,c){var d=u.exec(b);d&&d[1]?a.setAttributeNS("http://www.w3.org/1999/xlink",d[1],c):a.setAttribute(b,c)}function f(a,b){return Object.getOwnPropertyDescriptor(a,b)}function l(a){return _typeof(a)==="undefined"}function m(a,b){var c=f(a,b);return l(a[b])||c&&c.writable}function z(a){for(var b,c=1,d=arguments,e=d.length;c<e;c++)if(b=d[c])for(var f in b)m(a,f)&&(a[f]=b[f]);return a}function D(a){return Object.create(a)}function p(a,b){return[].slice.call((b||document).querySelectorAll(a))}function q(){return document.createTextNode("")}function s(a,b){a.style.display=b?"":"none",a.hidden=!b}function F(a,b){return a.getAttribute(b)}function G(a,b){a.removeAttribute(b)}function x(a,b,c){if(c){var d=a.ownerDocument.importNode(new DOMParser().parseFromString("<svg xmlns=\"http://www.w3.org/2000/svg\">"+b+"</svg>","application/xml").documentElement,!0);a.appendChild(d)}else a.innerHTML=b}function C(a,c){if(a)for(var d;d=b.exec(a);)c(d[1].toLowerCase(),d[2]||d[3]||d[4])}function H(){return document.createDocumentFragment()}function i(a,b,c){a.insertBefore(b,c.parentNode&&c)}function J(a){return Object.keys(a).reduce(function(b,c){return b+" "+c+": "+a[c]+";"},"")}function o(a,b,c){if(a){var d,f=b(a,c);if(!1===f)return;for(a=a.firstChild;a;)d=a.nextSibling,o(a,b,f),a=d}}function r(a){return l(a)||null===a}function K(a){return r(a)||""===a}function L(a){return _typeof(a)==="function"}function N(a){return a&&_typeof(a)==="object"}function O(a){var b=a.ownerSVGElement;return!!b||null===b}function Q(a){return Array.isArray(a)||a instanceof Array}function T(a){return k.test(a)}function X(a){return _typeof(a)==="string"}function Y(a,b){return-1!==a.indexOf(b)}function Z(a,b){for(var c=a?a.length:0,d=0;d<c;d++)b(a[d],d);return a}function _(a,b){return a.slice(0,b.length)===b}function aa(a,b,c,d){return Object.defineProperty(a,b,z({value:c,enumerable:!1,writable:!1,configurable:!0},d)),a}function ba(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})}function ca(a){console&&console.warn&&console.warn(a)}function da(b,c,d,e,f){var g=b[c],h=Q(g),a=!l(f);if(!g||g!==d)if(!g&&e)b[c]=[d];else if(!g)b[c]=d;else if(h){var i=g.indexOf(d);if(i===f)return;-1!==i&&g.splice(i,1),a?g.splice(f,0,d):g.push(d)}else b[c]=[g,d]}function ea(a){return a.tagName&&Qa[F(a,"data-is")||F(a,"data-is")||a.tagName.toLowerCase()]}function fa(a,b){var c=ea(a),d=!b&&F(a,"data-is");return d&&!Sa.hasExpr(d)?d:c?c.name:a.tagName.toLowerCase()}function ga(){return this.parent?z(D(this),this.parent):this}function ha(b,c,f){var g=b&&b.match(/^\s*<([-\w]+)/),h=g&&g[1].toLowerCase(),i=a(f?"svg":"div");return b=function(a,b){if(!Va.test(a))return a;var c={};return b=b&&b.replace(Xa,function(a,b,d){return c[b]=c[b]||d,""}).trim(),a.replace(Ya,function(a,b,d){return c[b]||d||""}).replace(Wa,function(a,c){return b||c||""})}(b,c),$a.test(h)?i=function(a,b,c){var e="o"===c[0],f=e?"select>":"table>";if(a.innerHTML="<"+f+b.trim()+"</"+f,f=a.firstChild,e)f.selectedIndex=-1;else{var g=Za[c];g&&1===f.childElementCount&&(f=d(g,f))}return f}(i,b,h):x(i,b,f),i}function ia(a){for(var b=a;b.__.isAnonymous&&b.parent;)b=b.parent;return b}function ja(a,b,c,d){var e,f=function(a,b,c){var d=this.__.parent,e=this.__.item;if(!e)for(;d&&!e;)e=d.__.item,d=d.__.parent;if(m(c,"currentTarget")&&(c.currentTarget=a),m(c,"target")&&(c.target=c.srcElement),m(c,"which")&&(c.which=c.charCode||c.keyCode),c.item=e,b.call(this,c),B.autoUpdate&&!c.preventUpdate){var f=ia(this);f.isMounted&&f.update()}}.bind(d,c,b);c[a]=null,e=a.replace(v,""),Y(d.__.listeners,c)||d.__.listeners.push(c),c["__riot-events__"]||(c["__riot-events__"]={}),c["__riot-events__"][a]&&c.removeEventListener(e,c["__riot-events__"][a]),c["__riot-events__"][a]=f,c.addEventListener(e,f,!1)}function ka(b,c,d,e){var f=Ja(b,c,d),g=c.tagName||fa(c.root,!0),h=ia(e);return aa(f,"parent",h),f.__.parent=e,da(h.tags,g,f),h!==e&&da(e.tags,g,f),f}function la(a,b,c,d){if(Q(a[b])){var e=a[b].indexOf(c);-1!==e&&a[b].splice(e,1),a[b].length?1!==a[b].length||d||(a[b]=a[b][0]):delete a[b]}else a[b]===c&&delete a[b]}function ma(b,c){var d,e,f=q(),g=q(),h=H();for(this.root.insertBefore(f,this.root.firstChild),this.root.appendChild(g),this.__.head=e=f,this.__.tail=g;e;)d=e.nextSibling,h.appendChild(e),this.__.virts.push(e),e=d;c?b.insertBefore(h,c.__.head):b.appendChild(h)}function na(a,b){if(b.parentNode){var c=H();ma.call(a,c),b.parentNode.replaceChild(c,b)}}function oa(j){if(!this.root||!F(this.root,"virtualized")){var e,k,z=j.dom,r=(e=j.attr)?(e=e.replace("riot-",""),$[e]&&(e=$[e]),e):null,i=Y(["show","hide"],r),o=j.root&&"VIRTUAL"===j.root.tagName,a=this.__.isAnonymous,C=z&&(j.parent||z.parentNode),u=B.keepValueAttributes,l="style"===r,c="class"===r,p="value"===r;if(j._riot_id)j.__.wasCreated?j.update():(j.mount(),o&&na(j,j.root));else{if(j.update)return j.update();var f,D,E,H,I,M,O,P=i&&!a?ga.call(this):this,x=!K(k=Sa(j.expr,P)),b=N(k);if(b&&(c?k=Sa(JSON.stringify(k),this):l&&(k=J(k))),!j.attr||j.wasParsedOnce&&!1!==k&&(x||p&&(!p||u))||G(z,F(z,j.attr)?j.attr:r),j.bool&&(k=!!k&&r),j.isRtag)return D=this,E=k,I=(f=j).tag||f.dom._tag,M=(I?I.__:{}).head,O="VIRTUAL"===f.dom.tagName,void(I&&f.tagName===E?I.update():(I&&(O&&(H=q(),M.parentNode.insertBefore(H,M)),I.unmount(!0)),X(E)&&(f.impl=Qa[E],f.impl&&(f.tag=I=ka(f.impl,{root:f.dom,parent:D,tagName:E},f.dom.innerHTML,D),Z(f.attrs,function(a){return h(I.root,a.name,a.value)}),f.tagName=E,I.mount(),O&&na(I,H||I.root),D.__.onUnmount=function(){var a=I.opts.dataIs;la(I.parent.tags,a,I),la(I.__.parent.tags,a,I),I.unmount()}))));if((!j.wasParsedOnce||j.value!==k)&&(j.value=k,j.wasParsedOnce=!0,!b||c||l||i)){if(x||(k=""),!r)return k+="",void(C&&("TEXTAREA"===(j.parent=C).tagName?(C.value=k,w||(z.nodeValue=k)):z.nodeValue=k));switch(!0){case L(k):Q=r,_a.test(Q)&&ja(r,k,z,this);break;case i:s(z,"hide"===r?!k:k);break;default:j.bool&&(z[r]=k),p&&z.value!==k?z.value=k:x&&!1!==k&&h(z,r,k),l&&z.hidden&&s(z,!1);}var Q}}}}function pa(a){Z(a,oa.bind(this))}function qa(a,b,c,d,e){if(!a||!c){var f=a?ga.call(this):b||this;Z(e,function(a){a.expr&&oa.call(f,a.expr),d[ba(a.name).replace("riot-","")]=a.expr?a.expr.value:a.value})}}function ra(a){if(a)return a.filter(function(a){return!/[^-\w]/.test(a)}).reduce(function(a,b){var c=b.trim().toLowerCase();return a+",["+"data-is"+"=\""+c+"\"]"},"");var b=Object.keys(Qa);return b+ra(b)}function e(b,c){var d=this,e=d.name,f=d.tmpl,g=d.css,h=d.attrs,a=d.onCreate;return Qa[e]||(sa(e,f,g,h,a),Qa[e]["class"]=this.constructor),Ka(b,e,c,this),g&&Ra.inject(),this}function sa(a,b,c,d,f){return L(d)&&(f=d,/^[\w-]+\s?=/.test(c)?(d=c,c=""):d=""),c&&(L(c)?f=c:Ra.add(c,a)),a=a.toLowerCase(),Qa[a]={name:a,tmpl:b,attrs:d,fn:f},a}function ta(a,b,c,d,e){return c&&Ra.add(c,a),Qa[a]={name:a,tmpl:b,attrs:d,fn:e},a}function ua(b,c,d){var f,g,j=[];if(Ra.inject(),(N(c)||L(c))&&(d=c,c=0),f=X(b)?(b="*"===b?g=ra():b+ra(b.split(/, */)))?p(b):[]:b,"*"===c){if(c=g||ra(),f.tagName)f=p(c,f);else{var a=[];Z(f,function(b){return a.push(p(c,b))}),f=a}c=0}return function a(b){if(b.tagName){var e,f=F(b,"data-is");c&&f!==c&&h(b,"data-is",f=c),(e=Ka(b,f||b.tagName.toLowerCase(),L(d)?d():d))&&j.push(e)}else b.length&&Z(b,a)}(f),j}function va(a,b,c){if(N(a))va("__"+cb++ +"__",a,!0);else{var d=c?bb:ab;if(!b){if(l(d[a]))throw new Error("Unregistered mixin: "+a);return d[a]}d[a]=L(b)?z(b.prototype,d[a]||{})&&b:z(d[a]||{},b)}}function wa(){return Z(Pa,function(a){return a.update()})}function xa(a){return Ra.remove(a),delete Qa[a]}function ya(a,b){var c,d=this.parent;d&&(Q(c=d.tags[a])?c.splice(b,0,c.splice(c.indexOf(this),1)[0]):da(d.tags,a,this))}function za(a,b){for(var c,d=this.__.head,e=H();d;)if(c=d.nextSibling,e.appendChild(d),(d=c)===this.__.tail){e.appendChild(d),a.insertBefore(e,b.__.head);break}}function Aa(a,b,c){var d={};return d[a.key]=b,a.pos&&(d[a.pos]=c),d}function Ba(a,b){a.splice(b,1),this.unmount(),la(this.parent,this,this.__.tagName,!0)}function Ca(b,A,B){var w=_typeof(F(b,"no-reorder"))!=="string"||G(b,"no-reorder"),J=F(b,"key"),k=!!J&&Sa.hasExpr(J),E=fa(b),K=Qa[E],a=b.parentNode,c=q(),t=ea(b),j=F(b,"if"),L=[],M=b.innerHTML,I=!Qa[E],N="VIRTUAL"===b.tagName,O=[];return G(b,"each"),G(b,"key"),(B=Sa.loopKeys(B)).isLoop=!0,j&&G(b,"if"),a.insertBefore(c,b),a.removeChild(b),B.update=function(){B.value=Sa(B.val,A);var q=B.value,C=H(),v=!Q(q)&&!X(q),y=c.parentNode,F=[],x=v&&!!q;if(y){v&&(q=q?Object.keys(q).map(function(a){return Aa(B,q[a],a)}):[]);var G=0;Z(q,function(g,e){var H=e-G,n=!x&&B.key?Aa(B,g,e):g;if(!j||Sa(j,z(D(A),n))){var r,P,Q,R,S=(P=g,Q=n,R=k,(r=J)?R?Sa(r,Q):P[r]:P),u=!v&&w&&_typeof(g)==="object"||J,l=O.indexOf(S),c=-1===l,p=!c&&u?l:H,f=L[p],T=H>=O.length,h=u&&c||!u&&!f||!L[H];h?((f=Ja(K,{parent:A,isLoop:!0,isAnonymous:I,tagName:E,root:b.cloneNode(I),item:n,index:H},M)).mount(),T?function(a,b){b?ma.call(this,a):a.appendChild(this.root)}.apply(f,[C||y,N]):function(a,b,c){c?ma.apply(this,[a,b]):i(a,this.root,b.root)}.apply(f,[y,L[H],N]),T||O.splice(H,0,n),L.splice(H,0,f),t&&da(A.tags,E,f,!0)):p!==H&&u&&((J||Y(q,O[p]))&&(function(a,b,c){c?za.apply(this,[a,b]):i(a,this.root,b.root)}.apply(f,[y,L[H],N]),L.splice(H,0,L.splice(p,1)[0]),O.splice(H,0,O.splice(p,1)[0])),B.pos&&(f[B.pos]=H),!t&&f.tags&&function(a){var b=this;Z(Object.keys(this.tags),function(c){ya.apply(b.tags[c],[c,a])})}.call(f,H)),z(f.__,{item:n,index:H,parent:A}),F[H]=S,h||f.update(n)}else G++}),function(a,b,c){for(var d=b.length,e=a.length-c;e<d;)Ba.apply(b[--d],[b,d])}(q,L,G),O=F.slice(),y.insertBefore(C,c)}},B.unmount=function(){Z(L,function(a){a.unmount()})},B}function Da(a,b,c,d){return D(eb).init(a,b,c,d)}function Ea(a){Z(a,function(a){a.unmount?a.unmount(!0):a.tagName?a.tag.unmount(!0):a.unmount&&a.unmount()})}function Fa(a,b,c){return D(fb).init(a,b,c)}function Ga(b,d){var f=this,g=[];return o(b,function(c){var e,j,k=c.nodeType;if((d||c!==b)&&(3===k&&"STYLE"!==c.parentNode.tagName&&Sa.hasExpr(c.nodeValue)&&g.push({dom:c,expr:c.nodeValue}),1===k)){var l="VIRTUAL"===c.tagName;if(e=F(c,"each"))return l&&h(c,"loopVirtual",!0),g.push(Ca(c,f,e)),!1;if(e=F(c,"if"))return g.push(Fa(c,f,e)),!1;if((e=F(c,"data-is"))&&Sa.hasExpr(e))return g.push({isRtag:!0,expr:e,dom:c,attrs:[].slice.call(c.attributes)}),!1;if(j=ea(c),l&&(F(c,"virtualized")&&c.parentElement.removeChild(c),j||F(c,"virtualized")||F(c,"loopVirtual")||(j={tmpl:c.outerHTML})),j&&(c!==b||d)){var i=F(c,"data-is");if(!l||i)return i&&l&&ca("Virtual tags shouldn't be used together with the \"data-is\" attribute - https://github.com/riot/riot/issues/2511"),g.push(ka(j,{root:c,parent:f},c.innerHTML,f)),!1;h(c,"virtualized",!0);var m=Ja({tmpl:c.outerHTML},{root:c,parent:f},c.innerHTML);g.push(m)}Ha.apply(f,[c,c.attributes,function(a,b){b&&g.push(b)}])}}),g}function Ha(b,c,d){var f=this;Z(c,function(a){if(!a)return!1;var c,e=a.name,g=T(e);Y(y,e)&&b.tagName.toLowerCase()!=="yield"?c=Da(b,f,e,a.value):Sa.hasExpr(a.value)&&(c={dom:b,expr:a.value,attr:e,bool:g}),d(a,c)})}function Ia(a){var b=this.__,c=b.isAnonymous,d=b.skipAnonymous;aa(this,"isMounted",a),c&&d||(a?this.trigger("mount"):(this.trigger("unmount"),this.off("*"),this.__.wasCreated=!1))}function Ja(b,j,k){void 0===b&&(b={}),void 0===j&&(j={});var n,q=j.context||{},s=j.opts||{},i=j.parent,o=j.isLoop,a=!!j.isAnonymous,u=B.skipAnonymousTags&&a,l=j.item,c=j.index,p=b.tmpl,w=[],d=j.root,y=j.tagName||fa(d),m="virtual"===y,g=!m&&!p;return n=g||o&&a?d:(m||(d.innerHTML=""),ha(p,k,O(d))),u||U(q),b.name&&d._tag&&d._tag.unmount(!0),aa(q,"__",{impl:b,root:d,skipAnonymous:u,implAttrs:[],isAnonymous:a,instAttrs:[],innerHTML:k,tagName:y,index:c,isLoop:o,isInline:g,item:l,parent:i,listeners:[],virts:[],wasCreated:!1,tail:null,head:null}),[["isMounted",!1],["_riot_id",Ta()],["root",d],["opts",s,{writable:!0,enumerable:!0}],["parent",i||null],["tags",{}],["refs",{}],["update",function(b){return d=b,e=w,f=(c=q).__,g={},h=c.isMounted&&!f.skipAnonymous,f.isAnonymous&&f.parent&&z(c,f.parent),z(c,d),qa.apply(c,[f.isLoop,f.parent,f.isAnonymous,g,f.instAttrs]),h&&c.isMounted&&L(c.shouldUpdate)&&!c.shouldUpdate(d,g)||(z(c.opts,g),h&&c.trigger("update",d),pa.call(c,e),h&&c.trigger("updated")),c;var c,d,e,f,g,h}],["mixin",function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return function(b){for(var a=[],c=arguments.length-1;0<c--;)a[c]=arguments[c+1];return Z(a,function(a){var c,d,g=[],h=["init","__proto__"];a=X(a)?va(a):a,c=L(a)?new a:a;for(var i=Object.getPrototypeOf(c);g=g.concat(Object.getOwnPropertyNames(d||c)),d=Object.getPrototypeOf(d||c););Z(g,function(a){if(!Y(h,a)){var d=f(c,a)||f(i,a),e=d&&(d.get||d.set);!b.hasOwnProperty(a)&&e?Object.defineProperty(b,a,d):b[a]=L(c[a])?c[a].bind(b):c[a]}}),c.init&&c.init.bind(b)(b.opts)}),b}.apply(void 0,[q].concat(a))}],["mount",function(){return function(b,c,d,e){var f=b.__,g=f.root;g._tag=b,Ha.apply(f.parent,[g,g.attributes,function(a,c){!f.isAnonymous&&eb.isPrototypeOf(c)&&(c.tag=b),a.expr=c,f.instAttrs.push(a)}]),C(f.impl.attrs,function(a,b){f.implAttrs.push({name:a,value:b})}),Ha.apply(b,[g,f.implAttrs,function(a,b){b?d.push(b):h(g,a.name,a.value)}]),qa.apply(b,[f.isLoop,f.parent,f.isAnonymous,e,f.instAttrs]);var i=va("__global_mixin");if(i&&!f.skipAnonymous)for(var a in i)i.hasOwnProperty(a)&&b.mixin(i[a]);if(f.impl.fn&&f.impl.fn.call(b,e),f.skipAnonymous||b.trigger("before-mount"),Z(Ga.apply(b,[c,f.isAnonymous]),function(a){return d.push(a)}),b.update(f.item),!f.isAnonymous&&!f.isInline)for(;c.firstChild;)g.appendChild(c.firstChild);if(aa(b,"root",g),!f.skipAnonymous&&b.parent){var j=ia(b.parent);j.one(j.isMounted?"updated":"mount",function(){Ia.call(b,!0)})}else Ia.call(b,!0);return b.__.wasCreated=!0,b}(q,n,w,s)}],["unmount",function(a){return function(b,c,d){var e=b.__,f=e.root,g=Pa.indexOf(b),h=f.parentNode;if(e.skipAnonymous||b.trigger("before-unmount"),C(e.impl.attrs,function(a){_(a,"riot-")&&(a=a.slice("riot-".length)),G(f,a)}),b.__.listeners.forEach(function(a){Object.keys(a["__riot-events__"]).forEach(function(b){a.removeEventListener(b,a["__riot-events__"][b])})}),-1!==g&&Pa.splice(g,1),e.parent&&!e.isAnonymous){var a=ia(e.parent);e.isVirtual?Object.keys(b.tags).forEach(function(c){return la(a.tags,c,b.tags[c])}):la(a.tags,e.tagName,b)}return b.__.virts&&Z(b.__.virts,function(a){a.parentNode&&a.parentNode.removeChild(a)}),Ea(d),Z(e.instAttrs,function(a){return a.expr&&a.expr.unmount&&a.expr.unmount()}),c?x(f,""):h&&h.removeChild(f),e.onUnmount&&e.onUnmount(),b.isMounted||Ia.call(b,!0),Ia.call(b,!1),delete f._tag,b}(q,a,w)}]].reduce(function(a,b){var c=b[0],d=b[1],e=b[2];return aa(q,c,d,e),a},z(q,l))}function Ka(b,c,d,e){var f,g=Qa[c],h=Qa[c]["class"],a=e||(h?D(h.prototype):{}),j=b._innerHTML=b._innerHTML||b.innerHTML,k=z({root:b,opts:d,context:a},{parent:d?d.parent:null});return g&&b&&(f=Ja(g,k,j)),f&&f.mount&&(f.mount(!0),Y(Pa,f)||Pa.push(f)),f}var La,Ma,Na,Oa,Pa=[],Qa={},y=["ref","data-ref"],u=/^xlink:(\w+)/,g=("undefined"==typeof window?"undefined":_typeof(window))==="undefined"?void 0:window,v=/^on/,b=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,$={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},k=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,w=0|(g&&g.document||{}).documentMode,A={},E=!1;g&&(Na=a("style"),Oa=d("style[type=riot]"),h(Na,"type","text/css"),Oa?(Oa.id&&(Na.id=Oa.id),Oa.parentNode.replaceChild(Na,Oa)):document.head.appendChild(Na),Ma=(La=Na).styleSheet);var S,Ra={styleNode:La,add:function add(a,b){A[b]=a,E=!0},inject:function inject(){if(g&&E){E=!1;var a=Object.keys(A).map(function(a){return A[a]}).join("\n");Ma?Ma.cssText=a:La.innerHTML=a}},remove:function remove(a){delete A[a],E=!0}},R=function(){function b(a,b){for(;0<=--b&&/\s/.test(a[b]););return b}var a=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],d=a.reduce(function(a,b){return a+b.slice(-1)},""),f=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,c=/[$\w]/;return function(g,e){var h=/.*/g,j=h.lastIndex=e++,k=h.exec(g)[0].match(f);if(k){var i=j+k[0].length,l=g[j=b(g,j)];if(0>j||~"[{(,;:?=|&!^~>%*/".indexOf(l))return i;if("."===l)"."===g[j-1]&&(e=i);else if("+"===l||"-"===l)(g[--j]!==l||0>(j=b(g,j))||!c.test(g[j]))&&(e=i);else if(~d.indexOf(l)){for(var m=j+1;0<=--j&&c.test(g[j]););~a.indexOf(g.slice(j+1,m))&&(e=i)}}return e}}(),P=function(){function b(a){return a}function f(a,b){return b||(b=w),new RegExp(a.source.replace(/{/g,b[2]).replace(/}/g,b[3]),a.global?"g":"")}function d(b){if(b==="{ }")return r;var c=b.split(" ");if(2!==c.length||m.test(b))throw new Error("Unsupported brackets \""+b+"\"");return(c=c.concat(b.replace(a,"\\").split(" ")))[4]=f(1<c[1].length?/{[\S\s]*?}/:r[4],c),c[5]=f(3<b.length?/\\({|})/g:r[5],c),c[6]=f(r[6],c),c[7]=RegExp("\\\\("+c[3]+")|([[({])|("+c[3]+")|"+o,"g"),c[8]=b,c}function e(a){return a instanceof RegExp?g(a):w[a]}function h(a){(a||(a="{ }"))!==w[8]&&(w=d(a),g=a==="{ }"?b:f,w[9]=g(r[9])),k=a}var g,j,k,l=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,i=l.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,m=/[\x00-\x1F<>a-zA-Z0-9'",;\\]/,a=/(?=[[\]()*+?.^$|])/g,o=l.source+"|"+/(\/)(?![*\/])/.source,q={"(":RegExp("([()])|"+o,"g"),"[":RegExp("([[\\]])|"+o,"g"),"{":RegExp("([{}])|"+o,"g")},r=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+o,"g"),"{ }",/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],w=[];return e.split=function(b,j,i){function k(a){p&&(a=p+a,p=""),j||v?B.push(a&&a.replace(i[5],"$1")):B.push(a)}function g(a,c,d){return d&&(c=R(b,a)),j&&a+2<c&&(z="\u2057"+C.length+"~",C.push(b.slice(a,c)),p+=b.slice(x,a)+z,x=c),c}i||(i=w);var r,v,x,y,z,A,B=[],l=i[6],C=[],p="";for(v=x=l.lastIndex=0;r=l.exec(b);){if(A=l.lastIndex,y=r.index,v){if(r[2]){var D=r[2],d=q[D],h=1;for(d.lastIndex=A;r=d.exec(b);)if(!r[1])d.lastIndex=g(r.index,d.lastIndex,r[2]);else if(r[1]===D)++h;else if(! --h)break;l.lastIndex=h?b.length:d.lastIndex;continue}if(!r[3]){l.lastIndex=g(y,A,r[4]);continue}}r[1]||(k(b.slice(x,y)),x=l.lastIndex,(l=i[6+(v^=1)]).lastIndex=x)}return b&&x<b.length&&k(b.slice(x)),B.qblocks=C,B},e.hasExpr=function(a){return w[4].test(a)},e.loopKeys=function(a){var b=a.match(w[9]);return b?{key:b[1],pos:b[2],val:w[0]+b[3].trim()+w[1]}:{val:a.trim()}},e.array=function(a){return a?d(a):w},Object.defineProperty(e,"settings",{set:function set(a){var b;b=(a=a||{}).brackets,Object.defineProperty(a,"brackets",{set:h,get:function get(){return k},enumerable:!0}),j=a,h(b)},get:function get(){return j}}),e.settings="undefined"!=typeof riot&&riot.settings||{},e.set=h,e.skipRegex=R,e.R_STRINGS=l,e.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,e.S_QBLOCKS=i,e.S_QBLOCK2=o,e}(),Sa=function(){function b(a,c){return a?(d[a]||(d[a]=function(a){var b=function(b){var c,d=P.split(b.replace(j,"\""),1),f=d.qblocks;if(2<d.length||d[0]){var e,h,l=[];for(e=h=0;e<d.length;++e)(c=d[e])&&(c=1&e?g(c,1,f):"\""+c.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,"\\\"")+"\"")&&(l[h++]=c);c=2>h?l[0]:"["+l.join(",")+"].join(\"\")"}else c=g(d[1],0,f);return f.length&&(c=c.replace(k,function(a,b){return f[b].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),c}(a);return"try{return "!==b.slice(0,11)&&(b="return "+b),new Function("E",b+";")}(a))).call(c,function(a,c){a.riotData={tagName:c&&c.__&&c.__.tagName,_riot_id:c&&c._riot_id},b.errorHandler?b.errorHandler(a):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(a.message),console.log("<%s> %s",a.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}.bind({data:c,tmpl:a})):a}function g(b,d,f){function g(a,d){var e,f=1,g=c[a];for(g.lastIndex=d.lastIndex;e=g.exec(b);)if(e[0]===a)++f;else if(! --f)break;d.lastIndex=f?b.length:g.lastIndex}if(b=b.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var j,k=[],l=0;b&&(j=b.match(e))&&!j.index;){var m,p,q=/,|([[{(])|$/g;for(b=RegExp.rightContext,m=j[2]?f[j[2]].slice(1,-1).trim().replace(/\s+/g," "):j[1];p=(j=q.exec(b))[1];)g(p,q);p=b.slice(0,j.index),b=RegExp.rightContext,k[l++]=h(p,1,m)}b=l?1<l?"["+k.join(",")+"].join(\" \").trim()":k[0]:h(b,d)}return b}function h(b,c,d){var f;return b=b.replace(a,function(a,b,c,d,g){return c&&(d=f?0:d+a.length,"this"!==c&&"global"!==c&&"window"!==c?(a=b+"(\""+c+l+c,d&&(f="."===(g=g[d])||"("===g||"["===g)):d&&(f=!m.test(g.slice(d)))),a}),f&&(b="try{return "+b+"}catch(e){E(e,this)}"),d?b=(f?"function(){"+b+"}.call(this)":"("+b+")")+"?\""+d+"\":\"\"":c&&(b="function(v){"+(f?b.replace("return ","v="):"v=("+b+")")+";return v||v===0?v:\"\"}.call(this)"),b}var d={};b.hasExpr=P.hasExpr,b.loopKeys=P.loopKeys,b.clearCache=function(){d={}},b.errorHandler=null;var j=/\u2057/g,k=/\u2057(\d+)~/g,e=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,c={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},l="\"in this?this:"+("object"==("undefined"==typeof window?"undefined":_typeof(window))?"window":"global")+").",a=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return b.version=P.version="v3.0.8",b}(),U=function(b){b=b||{};var c={},d=Array.prototype.slice;return Object.defineProperties(b,{on:{value:function value(a,d){return"function"==typeof d&&(c[a]=c[a]||[]).push(d),b},enumerable:!1,writable:!1,configurable:!1},off:{value:function value(a,d){if(!("*"!=a||d))c={};else if(d)for(var e,f=c[a],g=0;e=f&&f[g];++g)e==d&&f.splice(g--,1);else delete c[a];return b},enumerable:!1,writable:!1,configurable:!1},one:{value:function value(a,c){return b.on(a,function d(){b.off(a,d),c.apply(b,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function value(f){var e,g,h,j=arguments,i=arguments.length-1,k=Array(i);for(h=0;h<i;h++)k[h]=j[h+1];for(e=d.call(c[f]||[],0),h=0;g=e[h];++h)g.apply(b,k);return c["*"]&&"*"!=f&&b.trigger.apply(b,["*",f].concat(k)),b},enumerable:!1,writable:!1,configurable:!1}}),b},B=z(D(P.settings),{skipAnonymousTags:!0,keepValueAttributes:!1,autoUpdate:!0}),V=Object.freeze({$$:p,$:d,createDOMPlaceholder:q,mkEl:a,setAttr:h,toggleVisibility:s,getAttr:F,remAttr:G,setInnerHTML:x,walkAttrs:C,createFrag:H,safeInsert:i,styleObjectToString:J,walkNodes:o}),W=Object.freeze({isBlank:K,isFunction:L,isObject:N,isSvg:O,isWritable:m,isArray:Q,isBoolAttr:T,isNil:r,isString:X,isUndefined:l}),Ta=(S=-1,function(){return++S}),Ua=Object.freeze({contains:Y,each:Z,getPropDescriptor:f,startsWith:_,uid:Ta,defineProperty:aa,objectCreate:D,extend:z,toCamel:ba,warn:ca}),Va=/<yield\b/i,Wa=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,Xa=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,Ya=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,Za={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},$a=w&&10>w?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,_a=/^on/,ab={},bb=ab.__global_mixin={},cb=0,db=Object.freeze({Tag:e,tag:sa,tag2:ta,mount:ua,mixin:va,update:wa,unregister:xa,version:"v3.13.2"}),eb={init:function init(a,b,c,d){return this.dom=a,this.attr=c,this.rawValue=d,this.parent=b,this.hasExp=Sa.hasExpr(d),this},update:function update(){var a=this.value,b=this.parent&&ia(this.parent),c=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?Sa(this.rawValue,this.parent):this.rawValue,!K(a)&&b&&la(b.refs,a,c),!K(this.value)&&X(this.value)?(b&&da(b.refs,this.value,c,null,this.parent.__.index),this.value!==a&&h(this.dom,this.attr,this.value)):G(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=c)},unmount:function unmount(){var a=this.tag||this.dom,b=this.parent&&ia(this.parent);!K(this.value)&&b&&la(b.refs,this.value,a)}},fb={init:function init(a,b,c){G(a,"if"),z(this,{tag:b,expr:c,stub:q(),pristine:a});var d=a.parentNode;return d.insertBefore(this.stub,a),d.removeChild(a),this},update:function update(){this.value=Sa(this.expr,this.tag),this.stub.parentNode&&(this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=Ga.apply(this.tag,[this.current,!0])):!this.value&&this.current&&(this.unmount(),this.current=null,this.expressions=[]),this.value&&pa.call(this.tag,this.expressions))},unmount:function unmount(){this.current&&(this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current)),Ea(this.expressions||[])}},gb=Object.freeze({arrayishAdd:da,getTagName:fa,inheritParentProps:ga,mountTo:Ka,selectTags:ra,arrayishRemove:la,getTag:ea,initChildTag:ka,moveChildTag:ya,makeReplaceVirtual:na,getImmediateCustomParentTag:ia,makeVirtual:ma,moveVirtual:za,unmountAll:Ea,createIfDirective:Fa,createRefDirective:Da}),hb=B,ib={tmpl:Sa,brackets:P,styleManager:Ra,vdom:Pa,styleNode:Ra.styleNode,dom:V,check:W,misc:Ua,tags:gb},jb=z({},db,{observable:U,settings:hb,util:ib});c.settings=hb,c.util=ib,c.Tag=e,c.tag=sa,c.tag2=ta,c.mount=ua,c.mixin=va,c.update=wa,c.unregister=xa,c.version="v3.13.2",c.observable=U,c["default"]=jb,Object.defineProperty(c,"__esModule",{value:!0})},"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.riot={});